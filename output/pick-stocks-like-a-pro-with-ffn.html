<!DOCTYPE html>
<html lang="en">
<head>
          <title>Lo-Fi Python - Pick Stocks Intelligently with ffn</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://lofipython.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lo-Fi Python Full Atom Feed" />
        <link href="https://lofipython.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Lo-Fi Python Full RSS Feed" />
        <link href="https://lofipython.com/feeds/investing.atom.xml" type="application/atom+xml" rel="alternate" title="Lo-Fi Python Categories Atom Feed" />
        <link href="https://lofipython.com/feeds/investing.rss.xml" type="application/rss+xml" rel="alternate" title="Lo-Fi Python Categories RSS Feed" />




    <meta name="tags" content="money" />
    <meta name="tags" content="personal finance" />
    <meta name="tags" content="python" />
    <meta name="tags" content="stock formulas" />
    <meta name="tags" content="stocks" />

</head>

<body>
        <header>
              <hgroup><h1><a href="https://lofipython.com/">Lo-Fi Python</a></h1></hgroup>
        <nav><ul>
            <li><a href="feeds/all.rss.xml">RSS</a></li>
            <li><a href="feeds/all.atom.xml">Atom</a></li>
            <li><a href="https://github.com/erickbytes/lofipython">Github</a></li>
            <li><a href="https://lofipython.com/category/apis-apps-coding-product-development-programming-software-uncategorized.html" >APIs, apps, coding, product development, programming, software, Uncategorized</a></li>
            <li><a href="https://lofipython.com/category/apis-coding-google-programming.html" >APIs, coding, Google, programming</a></li>
            <li><a href="https://lofipython.com/category/apis-coding-http-productivity-programming.html" >APIs, coding, HTTP, productivity, programming</a></li>
            <li><a href="https://lofipython.com/category/apis-coding-http-programming-python.html" >APIs, coding, HTTP, programming, python</a></li>
            <li><a href="https://lofipython.com/category/apis-coding-pandas-programming-python-rust.html" >APIs, coding, pandas, programming, python, Rust</a></li>
            <li><a href="https://lofipython.com/category/apis-coding-programming.html" >APIs, coding, programming</a></li>
            <li><a href="https://lofipython.com/category/apis-coding-programming-python.html" >APIs, coding, programming, python</a></li>
            <li><a href="https://lofipython.com/category/apis-data-programming-writing.html" >APIs, data, programming, writing</a></li>
            <li><a href="https://lofipython.com/category/apis-odbc-programming-python.html" >APIs, ODBC, programming, python</a></li>
            <li><a href="https://lofipython.com/category/apps-coding-command-prompt-data-http-json-productivity-programming-python-software.html" >apps, coding, command prompt, data, HTTP, json, productivity, programming, python, software</a></li>
            <li><a href="https://lofipython.com/category/apps-internet-life.html" >apps, internet, life</a></li>
            <li><a href="https://lofipython.com/category/apps-internet-productivity.html" >apps, internet, productivity</a></li>
            <li><a href="https://lofipython.com/category/automation-coding-command-prompt-performance-productivity-programming-python-scripts-software.html" >automation, coding, command prompt, performance, productivity, programming, python, Scripts, software</a></li>
            <li><a href="https://lofipython.com/category/automation-coding-education-programming-scripts.html" >automation, coding, education, programming, Scripts</a></li>
            <li><a href="https://lofipython.com/category/automation-coding-excel-google-pandas.html" >automation, coding, excel, Google, pandas</a></li>
            <li><a href="https://lofipython.com/category/automation-coding-gui-programming-python.html" >automation, coding, gui, programming, python</a></li>
            <li><a href="https://lofipython.com/category/automation-coding-pandas-productivity-programming-scripts.html" >automation, coding, pandas, productivity, programming, Scripts</a></li>
            <li><a href="https://lofipython.com/category/automation-coding-windows.html" >automation, coding, Windows</a></li>
            <li><a href="https://lofipython.com/category/automation-command-prompt-scripts-windows.html" >automation, command prompt, Scripts, Windows</a></li>
            <li><a href="https://lofipython.com/category/automation-data-databases-excel-odbc-pandas-python-windows.html" >automation, data, Databases, excel, ODBC, pandas, python, Windows</a></li>
            <li><a href="https://lofipython.com/category/automation-git-pelican-programming-python-writing.html" >automation, git, pelican, programming, python, writing</a></li>
            <li><a href="https://lofipython.com/category/automation-productivity-programming-python-windows.html" >automation, productivity, programming, python, Windows</a></li>
            <li><a href="https://lofipython.com/category/automation-programming-software-testing-windows.html" >automation, programming, software testing, Windows</a></li>
            <li><a href="https://lofipython.com/category/blog.html" >blog</a></li>
            <li><a href="https://lofipython.com/category/books-coding-life-programming.html" >books, coding, life, programming</a></li>
            <li><a href="https://lofipython.com/category/books-productivity-programming.html" >books, productivity, programming</a></li>
            <li><a href="https://lofipython.com/category/business-entrepreneurship-marketing-product-development.html" >business, entrepreneurship, Marketing, product development</a></li>
            <li><a href="https://lofipython.com/category/business-programming.html" >business, programming</a></li>
            <li><a href="https://lofipython.com/category/chicago-coding-http-json-pandas-programming.html" >Chicago, coding, HTTP, json, pandas, programming</a></li>
            <li><a href="https://lofipython.com/category/chicago-electronics.html" >Chicago, electronics</a></li>
            <li><a href="https://lofipython.com/category/coding.html" >coding</a></li>
            <li><a href="https://lofipython.com/category/coding-colors-pandas-programming.html" >coding, Colors, pandas, programming</a></li>
            <li><a href="https://lofipython.com/category/coding-command-prompt-data-analysis-git-programming-software.html" >coding, command prompt, data analysis, git, programming, software</a></li>
            <li><a href="https://lofipython.com/category/coding-command-prompt-productivity-windows.html" >coding, command prompt, productivity, Windows</a></li>
            <li><a href="https://lofipython.com/category/coding-computing-pandas-performance-programming.html" >coding, computing, pandas, performance, programming</a></li>
            <li><a href="https://lofipython.com/category/coding-concurrency-data-education-go-lectures-notes-programming.html" >coding, concurrency, data, education, Go, lectures notes, programming</a></li>
            <li><a href="https://lofipython.com/category/coding-data-analysis-google-pandas-programming-python.html" >coding, data analysis, Google, pandas, programming, python</a></li>
            <li><a href="https://lofipython.com/category/coding-data-databases-education-programming-python-software.html" >coding, data, Databases, education, programming, python, software</a></li>
            <li><a href="https://lofipython.com/category/coding-data-databases-programming.html" >coding, data, Databases, programming</a></li>
            <li><a href="https://lofipython.com/category/coding-data-excel-pandas-python.html" >coding, data, excel, pandas, python</a></li>
            <li><a href="https://lofipython.com/category/coding-data-product-development-programming-software.html" >coding, data, product development, programming, software</a></li>
            <li><a href="https://lofipython.com/category/coding-education-marketing-programming-python-wisdom.html" >coding, education, Marketing, programming, python, wisdom</a></li>
            <li><a href="https://lofipython.com/category/coding-excel-http.html" >coding, excel, HTTP</a></li>
            <li><a href="https://lofipython.com/category/coding-flask-programming-python-web-development.html" >coding, flask, programming, python, web development</a></li>
            <li><a href="https://lofipython.com/category/coding-http-python-windows.html" >coding, HTTP, python, Windows</a></li>
            <li><a href="https://lofipython.com/category/coding-javascript-programming.html" >coding, javascript, programming</a></li>
            <li><a href="https://lofipython.com/category/coding-javascript-programming-web-development.html" >coding, javascript, programming, web development</a></li>
            <li><a href="https://lofipython.com/category/coding-linux-scripts-software-ubuntu.html" >coding, Linux, Scripts, software, Ubuntu</a></li>
            <li><a href="https://lofipython.com/category/coding-pandas-programming.html" >coding, pandas, programming</a></li>
            <li><a href="https://lofipython.com/category/coding-pandas-programming-python.html" >coding, pandas, programming, python</a></li>
            <li><a href="https://lofipython.com/category/coding-pandas-python-software.html" >coding, pandas, python, software</a></li>
            <li><a href="https://lofipython.com/category/coding-productivity-programming-python-software-testing.html" >coding, productivity, programming, python, software testing</a></li>
            <li><a href="https://lofipython.com/category/coding-programming.html" >coding, programming</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-blogging-web-hosting.html" >coding, programming, blogging, web hosting</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python.html" >coding, programming, python</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-artificial-intelligence-ai.html" >coding, programming, python, artificial intelligence, AI</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-linting-tools.html" >coding, programming, python, linting, tools</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-python-performance-cli.html" >coding, programming, python, python performance, CLI</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-qr-code-wi-fi.html" >coding, programming, python, QR code, Wi-Fi</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-scripts.html" >coding, programming, python, Scripts</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-stocks-cli.html" >coding, programming, python, stocks, CLI</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-web-development-web2py.html" >coding, programming, python, web development, web2py</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-python-xml-rss-writing.html" >coding, programming, python, XML, RSS, writing</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-talks.html" >coding, programming, talks</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-text-editors.html" >coding, programming, text editors</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-web-development.html" >coding, programming, web development</a></li>
            <li><a href="https://lofipython.com/category/coding-programming-work.html" >coding, programming, work</a></li>
            <li><a href="https://lofipython.com/category/coding-python.html" >coding, python</a></li>
            <li><a href="https://lofipython.com/category/coding-python-software.html" >coding, python, software</a></li>
            <li><a href="https://lofipython.com/category/coding-python-writing.html" >coding, python, writing</a></li>
            <li><a href="https://lofipython.com/category/coding-python-writing-meta.html" >coding, python, writing, meta</a></li>
            <li><a href="https://lofipython.com/category/command-prompt-data-python-windows.html" >command prompt, data, python, Windows</a></li>
            <li><a href="https://lofipython.com/category/command-prompt-productivity.html" >command prompt, productivity</a></li>
            <li><a href="https://lofipython.com/category/data-databases-education-performance.html" >data, Databases, education, performance</a></li>
            <li><a href="https://lofipython.com/category/data-databases-odbc-pandas-programming-sql-web-development-web2py.html" >data, Databases, ODBC, pandas, programming, SQL, web development, web2py</a></li>
            <li><a href="https://lofipython.com/category/data-databases-python-sql.html" >data, Databases, python, SQL</a></li>
            <li><a href="https://lofipython.com/category/databases-programming.html" >Databases, programming</a></li>
            <li><a href="https://lofipython.com/category/education-productivity-python-writing.html" >education, productivity, python, writing</a></li>
            <li><a href="https://lofipython.com/category/entertainment-life-space.html" >entertainment, life, space</a></li>
            <li><a href="https://lofipython.com/category/football-coding-programming-python-sports.html" >football, coding, programming, python, sports</a></li>
            <li><a href="https://lofipython.com/category/http-urls-python-requests.html" >http, urls, python, requests</a></li>
            <li><a href="https://lofipython.com/category/internet-investing-personal-finance-programming-writing.html" >internet, investing, personal finance, programming, writing</a></li>
            <li><a href="https://lofipython.com/category/internet-network-productivity.html" >internet, network, productivity</a></li>
            <li><a href="https://lofipython.com/category/investing.html"  aria-current="page" >investing</a></li>
            <li><a href="https://lofipython.com/category/life.html" >life</a></li>
            <li><a href="https://lofipython.com/category/linux-software.html" >Linux, software</a></li>
            <li><a href="https://lofipython.com/category/marketing.html" >Marketing</a></li>
            <li><a href="https://lofipython.com/category/marketing-meta-writing.html" >Marketing, meta, writing</a></li>
            <li><a href="https://lofipython.com/category/pandas-programming-python.html" >pandas, programming, python</a></li>
            <li><a href="https://lofipython.com/category/performance-windows.html" >performance, Windows</a></li>
            <li><a href="https://lofipython.com/category/productivity-programming-writing.html" >productivity, programming, writing</a></li>
            <li><a href="https://lofipython.com/category/productivity-python.html" >productivity, python</a></li>
            <li><a href="https://lofipython.com/category/productivity-work.html" >productivity, work</a></li>
            <li><a href="https://lofipython.com/category/programming.html" >programming</a></li>
            <li><a href="https://lofipython.com/category/programming-python.html" >programming, python</a></li>
            <li><a href="https://lofipython.com/category/programming-python-web-development-web2py.html" >programming, python, web development, web2py</a></li>
            <li><a href="https://lofipython.com/category/python-events-conferences.html" >python, events, conferences</a></li>
            <li><a href="https://lofipython.com/category/tame-impala.html" >tame impala</a></li>
        </ul></nav>
        </header>
        <main>
<article>
  <header>
    <h2>
      <a href="https://lofipython.com/pick-stocks-like-a-pro-with-ffn.html" rel="bookmark"
         title="Permalink to Pick Stocks Intelligently with ffn">Pick Stocks Intelligently with ffn</a></h2>
 
  </header>
  <p>How do you calculate stock valuation metrics like <a class="reference external" href="https://www.investopedia.com/terms/s/sharperatio.asp">Sharpe ratio</a>. Recently I've been reading about common <a class="reference external" href="https://www.suredividend.com/ratios-metrics/">stock valuation metrics</a> and wondered how I can apply them to my stock portfolio. I started reading about different metrics, sketching formulas and entertained writing a script to calculate these metrics. But Python has no shortage of finance-related libraries. After some furious googling I found <a class="reference external" href="https://github.com/pmorissette/ffn">ffn</a>, a way better option than rolling my own formulas. It's a &quot;financial function&quot; library, installable with pip.</p>
<p>It will be interesting to observe how these metrics vary in my portfolio and learn more of <a class="reference external" href="http://pmorissette.github.io/ffn/ffn.html">ffn's API</a>. I like that they use <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html">pandas dataframes</a> within their library because I'm already familiar with them. At minimum, it's good to understand what stock formulas purport to measure and what it means if the measure is low or high. It makes sense to compare stocks in similar industries or competitors like <a class="reference external" href="https://finance.yahoo.com/quote/NKE/">NKE</a> and <a class="reference external" href="https://finance.yahoo.com/quote/ADDYY?p=ADDYY&amp;.tsrc=fin-srch">ADDYY</a>. This is a neat tool for stock nerds who want to level up their stock analysis, make smart decisions and ideally pad the portfolio!</p>
<p>The funny thing is... my lowest university grade was a &quot;C&quot; in my only Finance class. It wasn't easy for me to grasp. But with Python it's a little more interesting and easier to apply. Anyone can level up their finance skills thanks to a cornucopia of finance calculation libraries in the Python ecosystem.</p>
<p>Recommended Reading: <a class="reference external" href="https://pmorissette.github.io/ffn/index.html#a-brief-introduction">A Brief Introduction - ffn documentation</a></p>
<p><strong>Install ffn with pip:</strong></p>
<p><tt class="docutils literal">python <span class="pre">-m</span> pip install ffn</tt></p>
<p>Here's the code to get stock data with <a class="reference external" href="https://pmorissette.github.io/ffn/quick.html">ffn</a>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">ffn</span>

<span class="c1"># ffn.get returns a pandas dataframe of market data.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">ffn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s1">&#39;tsla,spot,nflx,nke,addyy&#39;</span><span class="p">,</span>
    <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2019-01-01&#39;</span><span class="p">,</span>
    <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2020-12-31&#39;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">stats</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">calc_stats</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">display</span><span class="p">())</span>
</pre></div></td></tr></table></div>
<div class="wp-image-5165 figure">
<img alt="ffn stock report 2019-2021" src="https://pythonmarketer.files.wordpress.com/2021/01/2019-2020-top-stock.jpg?w=794" />
</div>
<p><strong>side note on the pyfolio library</strong></p>
<p>I first considered using pyfolio to pull stock data. It is not &quot;out of the box&quot; ready per se to deliver the results pictured in their <a class="reference external" href="https://lofipython.com/pick-stocks-like-a-pro-with-pyfolio/">&quot;single stock&quot; example</a> documentation. You'd need to find another way to fetch your market data or somehow patch the Yahoo Finance API within pyfolio. I preferred <a class="reference external" href="http://pmorissette.github.io/ffn/quick.html">ffn</a>, mostly because it worked right away after pip installing it and running the above code.</p>
<p><strong>2023 Update:</strong> ffn and pyfolio both depend on the Yahoo Finance API, which tends to change and break these libraries. Troubleshooting traceback errors may be required.</p>
<p><strong>Try these other Python financial analysis libraries:</strong></p>
<p><a class="reference external" href="https://financetrain.com/best-python-librariespackages-finance-financial-data-scientists/">Best Python Libraries/Packages for Finance and Financial Data Scientists</a></p>
<p><a class="reference external" href="https://docs.python.org/3/library/statistics.html">python's built-in statistics module</a> - <a class="reference external" href="https://github.com/mementum/backtrader">Backtrader</a></p>
<p><a class="reference external" href="https://github.com/bpsmith/tia">tia: Toolkit for integration and analysis</a> - <a class="reference external" href="https://github.com/peerchemist/finta">FinTA (Financial Technical Analysis)</a></p>
<p><a class="reference external" href="https://pydata.github.io/pandas-datareader/index.html">pandas-datareader</a> - <a class="reference external" href="https://github.com/matplotlib/mplfinance#usage">mplfinance</a> - <a class="reference external" href="https://github.com/robertmartin8/PyPortfolioOpt">PyPortfolioOpt</a> - <a class="reference external" href="https://github.com/mrjbq7/ta-lib">TA-Lib Python Port</a></p>
<p><a class="reference external" href="https://github.com/erickbytes/finsou.py">finsou.py</a> (CLI written by me)</p>
<p><a class="reference external" href="https://github.com/wilsonfreitas/awesome-quant">awesome-quant</a></p>
<div class="wp-image-5037 figure">
<img alt="Image credit, ActiveState: https://www.activestate.com/blog/top-10-python-packages-for-finance-and-financial-modeling/" src="https://pythonmarketer.files.wordpress.com/2021/01/top10financepackages-1200x675-1.png?w=1024" />
<p class="caption">Image credit, ActiveState: <a class="reference external" href="https://www.activestate.com/blog/top-10-python-packages-for-finance-and-financial-modeling/">https://www.activestate.com/blog/top-10-python-packages-for-finance-and-financial-modeling/</a></p>
</div>

  <footer>
    <p>Published: <time datetime="2021-01-16T23:21:00-06:00">
      Sat 16 January 2021
    </time></p>
    <address>
      By           <a href="https://lofipython.com/author/pythonmarketer.html">pythonmarketer</a>
    </address>
    <p>
        Category: <a href="https://lofipython.com/category/investing.html">investing</a>
    </p>
    <p>
        Tags:
            <a href="https://lofipython.com/tag/money.html">money</a>
            <a href="https://lofipython.com/tag/personal-finance.html">personal finance</a>
            <a href="https://lofipython.com/tag/python.html">python</a>
            <a href="https://lofipython.com/tag/stock-formulas.html">stock formulas</a>
            <a href="https://lofipython.com/tag/stocks.html">stocks</a>
    </p>
  </footer>
  </article>
        </main>
        <footer>
                <address>
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address>
        </footer>
</body>
</html>