<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Lo-Fi Python - APIs, coding, Google, programming</title><link href="https://lofipython.com/" rel="alternate"></link><link href="https://lofipython.com/feeds/apis-coding-google-programming.atom.xml" rel="self"></link><id>https://lofipython.com/</id><updated>2022-07-06T12:49:00-05:00</updated><entry><title>The Things They Don't Tell You About Ampersands and XML</title><link href="https://lofipython.com/the-things-they-dont-tell-you-about-ampersands-and-xml.html" rel="alternate"></link><published>2022-07-06T12:49:00-05:00</published><updated>2022-07-06T12:49:00-05:00</updated><author><name>pythonmarketer</name></author><id>tag:lofipython.com,2022-07-06:/the-things-they-dont-tell-you-about-ampersands-and-xml.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;In an XML document, you need to escape any ampersands in your text as&lt;/strong&gt; &lt;tt class="docutils literal"&gt;&amp;amp;amp;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;I began a new coding project. Sure, there's documentation for the API that solves my problem. I find out it uses XML.
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/XML"&gt;Extensible Markup Language&lt;/a&gt;, a classic API format. Cool. I craft a beautiful script â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;In an XML document, you need to escape any ampersands in your text as&lt;/strong&gt; &lt;tt class="docutils literal"&gt;&amp;amp;amp;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;I began a new coding project. Sure, there's documentation for the API that solves my problem. I find out it uses XML.
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/XML"&gt;Extensible Markup Language&lt;/a&gt;, a classic API format. Cool. I craft a beautiful script that works at first. Or so it seems!&lt;/p&gt;
&lt;p&gt;Later on, I realize it doesn't work as well as I believed. It turns out, if I want a server to accept my XML document,
&lt;a class="reference external" href="https://www.ibm.com/docs/en/was-liberty/base?topic=manually-xml-escape-characters"&gt;escaping certain characters&lt;/a&gt; might be required.
The documentation didn't mention this. It was my first time using XML, how would I know?&lt;/p&gt;
&lt;p&gt;I noticed a script only worked for a handful of requests. It failed for most, returning a &lt;a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400"&gt;400 status code&lt;/a&gt;.
Suspecting the issue was likely in my payload, I studied the data of the request bodies that failed compared to the others that succeeded.
All of the payload bodies that failed contained text with an ampersand.&lt;/p&gt;
&lt;p&gt;Suspecting it might be an XML + ampersand related issue, I googled &lt;a class="reference external" href="https://stackoverflow.com/questions/1328538/how-do-i-escape-ampersands-in-xml-so-they-are-rendered-as-entities-in-html"&gt;this Stack Overflow post&lt;/a&gt;
which explains the ampersand escaping situation. There are a handful of characters that must be escaped. Otherwise, you might not be able to connect to the server.&lt;/p&gt;
&lt;p&gt;These are the things they often don't tell you. Those little details you must sometimes realize for yourself, unless someone bothers to mention it or write it down. Now you know something that cost me an hour or two of tinkering to realize!&lt;/p&gt;
&lt;div class="wp-image-7060 figure"&gt;
&lt;img alt="`Image Source &amp;lt;https://github.com/sichkar-valentyn/XML_files_in_Python/blob/master/example.xml&amp;gt;`__" src="https://pythonmarketer.files.wordpress.com/2022/07/xml-example-2.png?w=453" style="width: 453px; height: 521px;" /&gt;
&lt;/div&gt;
&lt;p class="center"&gt;&lt;a class="reference external" href="https://github.com/sichkar-valentyn/XML_files_in_Python/blob/master/example.xml"&gt;Image Source&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Want to read more on HTTP? Check out my guide on &lt;a class="reference external" href="https://lofipython.com/how-to-make-json-requests-with-python/"&gt;making HTTP requests with Python&lt;/a&gt; to read more about HTTP requests.&lt;/p&gt;
</content><category term="APIs, coding, Google, programming"></category><category term="data"></category><category term="learning"></category><category term="problem solving"></category><category term="XML"></category></entry></feed>