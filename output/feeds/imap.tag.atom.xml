<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Lo-Fi Python - IMAP</title><link href="https://lofipython.com/" rel="alternate"></link><link href="https://lofipython.com/feeds/imap.tag.atom.xml" rel="self"></link><id>https://lofipython.com/</id><updated>2021-02-07T11:17:00-06:00</updated><entry><title>Organize Your Emails in Bulk With Gmail Search Operators + Python Libraries</title><link href="https://lofipython.com/using-gmails-search-operators-to-organize-your-emails-in-bulk.html" rel="alternate"></link><published>2021-02-07T11:17:00-06:00</published><updated>2021-02-07T11:17:00-06:00</updated><author><name>pythonmarketer</name></author><id>tag:lofipython.com,2021-02-07:/using-gmails-search-operators-to-organize-your-emails-in-bulk.html</id><summary type="html">&lt;p&gt;After 12 years with Gmail as my primary email inbox, I wanted to clear out old &amp;quot;Promotions&amp;quot; emails. This can be done with some clever use of Gmail's search syntax shown below.&lt;/p&gt;
&lt;p&gt;I wanted to preserve my &amp;quot;Starred&amp;quot; emails, but delete old emails to free up space. I was able …&lt;/p&gt;</summary><content type="html">&lt;p&gt;After 12 years with Gmail as my primary email inbox, I wanted to clear out old &amp;quot;Promotions&amp;quot; emails. This can be done with some clever use of Gmail's search syntax shown below.&lt;/p&gt;
&lt;p&gt;I wanted to preserve my &amp;quot;Starred&amp;quot; emails, but delete old emails to free up space. I was able to delete 58,000 &amp;quot;Promotions&amp;quot; emails! I wrote this post because I feel it might save you a little time figuring it out yourself. I also included brief details on possible Python tools for Gmail and IMAP below if you are considering scripting your contact management.&lt;/p&gt;
&lt;p&gt;I didn't need Python in the end after reading some &lt;a class="reference external" href="https://support.google.com/mail/answer/7190?hl=en"&gt;Gmail search operator examples&lt;/a&gt;. For example, adding a hypen before a search in Gmail acts similar to a &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Bitwise_operation#NOT"&gt;&amp;quot;bitwise&amp;quot; or unary operator (~)&lt;/a&gt; in Python. It excludes or inverses the criteria in a search rather than including it. I was able to use this to exclude my starred emails. You can also add a filter for &amp;quot;has attachment&amp;quot;. I used that to star any emails with attachments, then delete the rest and excluded &amp;quot;starred&amp;quot; emails.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gmail search syntax to get &amp;quot;Promotions&amp;quot; minus &amp;quot;Starred&amp;quot; emails and filter on a date range&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;category:promotions &lt;span class="pre"&gt;-is:starred&lt;/span&gt; after:2019/12/31 before:2021/1/1&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Selecting &amp;quot;all&amp;quot; emails in your search&lt;/strong&gt;&lt;/p&gt;
&lt;div class="wp-image-5251 figure"&gt;
&lt;img alt="Filtering Gmail Emails" src="https://pythonmarketer.files.wordpress.com/2021/02/select-all-in-search.jpg?w=588" /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Once, you've selected &amp;quot;All&amp;quot; from the checkbox dropdown, click &amp;quot;Select all conversations that match this search&amp;quot;.&lt;/strong&gt; Now you can apply actions such as &amp;quot;add a star&amp;quot; or &amp;quot;delete&amp;quot; them by clicking the (⋮) vertical ellipses menu:&lt;/p&gt;
&lt;div class="wp-image-5258 figure"&gt;
&lt;img alt="Gmail Filter Steps" src="https://pythonmarketer.files.wordpress.com/2021/02/gmail-filter-steps.jpg?w=1024" /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;To Python or not?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I also considered Python tools for interfacing with gmail to accomplish this. There doesn't seem to be an easy way to group emails by &amp;quot;Category&amp;quot; in the &lt;a class="reference external" href="https://developers.google.com/gmail/api/quickstart/python"&gt;Gmail API&lt;/a&gt; or IMAP. IMAP is shorthand for &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Internet_Message_Access_Protocol"&gt;Internet Message Access Protocol&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://docs.python.org/3/library/imaplib.html"&gt;imaplib&lt;/a&gt; is an &amp;quot;IMAP4 protocol client&amp;quot; in the Python standard library. Usually python's &lt;a class="reference external" href="https://docs.python.org/3/library/smtplib.html"&gt;smtplib&lt;/a&gt; is the first library that comes up for email. Don't forget about imaplib! It might be more suitable for searching based on text in your emails or &lt;a class="reference external" href="https://superuser.com/questions/719677/how-to-use-gmail-tabs-with-imap"&gt;creating labeled segments yourself, then applying actions to them&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional Gmail + Python Resources&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://support.google.com/mail/answer/7190?hl=en"&gt;G&lt;/a&gt;&lt;a class="reference external" href="https://support.google.com/mail/answer/7190?hl=en"&gt;mail search operators&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://docs.python.org/3/library/imaplib.html"&gt;imaplib&lt;/a&gt; - python standard library interface to email accounts [&lt;a class="reference external" href="https://stackoverflow.com/questions/3180891/imap-how-to-delete-messages"&gt;Stack Overflow example&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://support.google.com/mail/answer/7126229?hl=en"&gt;enabling IMAP in your gmail&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://developers.google.com/gmail/api/quickstart/python"&gt;Gmail API Python Quickstart&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/charlierguo/gmail"&gt;Gmail python library&lt;/a&gt; - There are also pythonic wrappers to the Gmail API like this one.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://pymotw.com/2/imaplib/"&gt;imaplib - Python Module of the Week&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://markodenic.com/use-google-like-a-pro/"&gt;Use Google Like a Pro&lt;/a&gt;&lt;/p&gt;
</content><category term="productivity, python"></category><category term="email"></category><category term="gmail"></category><category term="IMAP"></category><category term="smtp"></category></entry></feed>