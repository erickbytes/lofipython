<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python Marketer | articles tagged "twitter"</title>
    <link rel="shortcut icon" type="image/png" href="../favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    <link href="https://pythonmarketer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Python Marketer Full Atom Feed" />
    <link href="https://pythonmarketer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Python Marketer Full RSS Feed" />
    <link href="https://pythonmarketer.com/feeds/twitter.tag.atom.xml" type="application/atom+xml" rel="alternate" title="Python Marketer Tags Atom Feed" />
    <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="@erickbytes" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>
                <li class="ephemeral selected"><a href="../tag/twitter.html">twitter</a></li>
                <li><a href="../">Home</a></li>
                <li><a href="feeds/all.rss.xml">RSS</a></li>
                <li><a href="feeds/all.atom.xml">Atom</a></li>
                <li><a href="https://github.com/erickbytes/divbull">Github</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="../">
            <image src='images/python-powered-h-140x182.png' class="avatar" width="50px" /><span class="site_title">Python Marketer</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Sep 13, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../delete-all-your-tweets-with-tweepy-and-the-twitter-api.html" rel="bookmark" title="Permanent Link to &quot;Delete All Your Tweets with Tweepy and the Twitter API&quot;">Delete All Your Tweets with Tweepy and the Twitter API</a>
                </h2>

                
                

                <p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>You may want to <a href="https://help.twitter.com/en/managing-your-account/how-to-download-your-twitter-archive">download an archive</a> of your tweets before deleting them. I did this and it took about a day to get my archive download.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>How To Purge Your Tweet History with Python</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:list {"ordered":true} --&gt;</code></p>
<ol>
<li>Per the <a href="http://docs.tweepy.org/en/latest/install.html">Tweepy library documentation</a>, install tweepy with <a href="https://pythonmarketer.wordpress.com/2018/01/20/how-to-python-pip-install-new-libraries/">pip</a>. It worked fine in my python 3.8 <a href="https://docs.python.org/3/library/venv.html">virtual environment</a>.</li>
</ol>
<p><code>&lt;!-- /wp:list --&gt;</code></p>
<p><code>&lt;!-- wp:code --&gt;</code></p>
<div class="highlight"><pre><span></span><code>pip install tweepy
</code></pre></div>

<p><code>&lt;!-- /wp:code --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>2. Sign up for a <a href="https://developer.twitter.com/">Twitter Developer account</a> and create an app. I named mine "tweetcleanr".</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>3. Find your app under "Projects &amp; Apps". Edit your app's permissions to "<strong>Read + Write + Direct Messages</strong>".</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>4. After you update your permissions, select the "Keys and tokens" tab. Then regenerate new API keys. Then paste them in the below script.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:image {"align":"left","id":4350,"sizeSlug":"large"} --&gt;</code></p>
<p><img alt="" class="wp-image-4350" src="https://pythonmarketer.files.wordpress.com/2020/09/twitter-dev.png?w=1024"></p>
<p><code>&lt;!-- /wp:image --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>5. Save the below script as a python file. In command prompt or terminal, run python <strong>delete_tweets.py</strong> or whatever you want to name it!</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>6. You'll be asked to go to a link and enter an authorization code. Then you'll see your tweets being deleted like pictured below.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>delete_tweets.py</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>I found this <a href="https://gist.github.com/davej/113241">Github Gist</a> via Google and updated the print and input statements to Python 3. I also added the <a href="https://docs.python.org/3/library/traceback.html">traceback module</a> in case you need to debug it. Initially, I received an error telling me to complete step 3 above. I didn't see the error message at first, until adding <code>traceback.print_exc()</code> like you see below.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:syntaxhighlighter/code --&gt;</code></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">tweepy</span>
<span class="kn">import</span> <span class="nn">traceback</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Delete All Your Tweets - Github Gist by davej</span>
<span class="sd">Credit: https://gist.github.com/davej/113241</span>
<span class="sd">Ported to Python 3 by Python Marketer: pythonmarketer.com/2020/09/13/delete-all-your-tweets-with-tweepy-and-the-twitter-api/</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">CONSUMER_KEY</span> <span class="o">=</span> <span class="s2">&quot;get_from_dev_portal&quot;</span>
<span class="n">CONSUMER_SECRET</span> <span class="o">=</span> <span class="s2">&quot;get_from_dev_portal&quot;</span>


<span class="k">def</span> <span class="nf">oauth_login</span><span class="p">(</span><span class="n">consumer_key</span><span class="p">,</span> <span class="n">consumer_secret</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticate with twitter using OAuth&quot;&quot;&quot;</span>

    <span class="n">auth</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">OAuthHandler</span><span class="p">(</span><span class="n">consumer_key</span><span class="p">,</span> <span class="n">consumer_secret</span><span class="p">)</span>
    <span class="n">auth_url</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">get_authorization_url</span><span class="p">()</span>

    <span class="n">verify_code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span>
        <span class="s2">&quot;Authenticate at </span><span class="si">%s</span><span class="s2"> and then enter you verification code here &gt; &quot;</span> <span class="o">%</span> <span class="n">auth_url</span>
    <span class="p">)</span>
    <span class="n">auth</span><span class="o">.</span><span class="n">get_access_token</span><span class="p">(</span><span class="n">verify_code</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">API</span><span class="p">(</span><span class="n">auth</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">batch_delete</span><span class="p">(</span><span class="n">api</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;You are about to delete all tweets from the account @</span><span class="si">%s</span><span class="s2">.&quot;</span>
        <span class="o">%</span> <span class="n">api</span><span class="o">.</span><span class="n">verify_credentials</span><span class="p">()</span><span class="o">.</span><span class="n">screen_name</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Does this sound ok? There is no undo! Type yes to carry out this action.&quot;</span><span class="p">)</span>
    <span class="n">do_delete</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">do_delete</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">status</span> <span class="ow">in</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">Cursor</span><span class="p">(</span><span class="n">api</span><span class="o">.</span><span class="n">user_timeline</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">api</span><span class="o">.</span><span class="n">destroy_status</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deleted:&quot;</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Failed to delete:&quot;</span><span class="p">,</span> <span class="n">status</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">api</span> <span class="o">=</span> <span class="n">oauth_login</span><span class="p">(</span><span class="n">CONSUMER_KEY</span><span class="p">,</span> <span class="n">CONSUMER_SECRET</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Authenticated as: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">api</span><span class="o">.</span><span class="n">me</span><span class="p">()</span><span class="o">.</span><span class="n">screen_name</span><span class="p">)</span>

    <span class="n">batch_delete</span><span class="p">(</span><span class="n">api</span><span class="p">)</span>
</code></pre></div>

<p><code>&lt;!-- /wp:syntaxhighlighter/code --&gt;</code></p>
<p><code>&lt;!-- wp:image {"align":"left","id":4325,"sizeSlug":"large"} --&gt;</code></p>
<p><img alt="" class="wp-image-4325" src="https://pythonmarketer.files.wordpress.com/2020/09/terminaltweepy.png?w=755"></p>
<p><code>&lt;!-- /wp:image --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>✅</strong> <strong>Twitter Cleanse Complete</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>Twitter has a really slick developer dashboard. Its API combined with the tweepy library got the job done for me. It's great when stuff just works. And it only cost me about 1 hour to complete. Time to start a clean slate. Here's to looking forward.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>Supplementary Reading</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="http://docs.tweepy.org/en/latest/getting_started.html">Tweepy Documentation Tutorial</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://developer.twitter.com/en/docs/tutorials">Twitter's API Tutorials</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://developer.twitter.com/en/docs/tutorials/postman-getting-started">Twitter Postman Tutorial</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../delete-all-your-tweets-with-tweepy-and-the-twitter-api.html">posted at 21:07</a>
                    &nbsp;&middot;&nbsp;<a href="../category/coding-programming-python.html" rel="tag">coding, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/api.html" class="tags">api</a>
                    &nbsp;<a href="../tag/tweepy.html" class="tags">tweepy</a>
                    &nbsp;<a href="../tag/tweets.html" class="tags">tweets</a>
                    &nbsp;<a href="../tag/twitter.html" class="tags selected">twitter</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="../feeds/all.atom.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="../feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>