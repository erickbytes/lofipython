<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lo-Fi Python | articles tagged "regex"</title>
    <link rel="shortcut icon" type="image/png" href="https://lofipython.com/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://lofipython.com/favicon.ico">
    <link href="https://lofipython.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lo-Fi Python Full Atom Feed" />
    <link href="https://lofipython.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Lo-Fi Python Full RSS Feed" />
    <link href="https://lofipython.com/feeds/regex.tag.atom.xml" type="application/atom+xml" rel="alternate" title="Lo-Fi Python Tags Atom Feed" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="@erickbytes" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>
                <li class="ephemeral selected"><a href="https://lofipython.com/tag/regex.html">regex</a></li>
                <li><a href="https://lofipython.com/">Home</a></li>
                <li><a href="feeds/all.rss.xml">RSS</a></li>
                <li><a href="feeds/all.atom.xml">Atom</a></li>
                <li><a href="https://github.com/erickbytes/lofipython">Github</a></li>
                <li><a href="https://lofipython.com/contact">Need a Python Dev?</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="https://lofipython.com/">
            <image src='images/python-powered-h-140x182.png' class="avatar" width="50px" /><span class="site_title">Lo-Fi Python</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Dec 31, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/phone-number-cleaning-regex-pandas-series-example.html" rel="bookmark" title="Permanent Link to &quot;Phone Number Cleaning Regex + pandas Series Example&quot;">Phone Number Cleaning Regex + pandas Series Example</a>
                </h2>

                
                

                <p>This is a solution I worked out recently to strip phone numbers into a uniform format. To install <a class="reference external" href="https://pandas.pydata.org/docs/getting_started/install.html">pandas with pip</a>, enter in command prompt:</p>
<pre class="code python literal-block">
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pandas</span>
</pre>
<p>The pandas library has regex built in and it's pretty neat! Behold the power of pandas and a <a class="reference external" href="https://en.wikipedia.org/wiki/Regular_expression">regular expression</a> to do trivial telephone tidying:</p>
<div class="wp-image-6382 figure">
<img alt="strip phone formatting with Python" src="https://pythonmarketer.files.wordpress.com/2021/12/pandas-example-7-3.41.12-pm.png?w=561" style="width: 767px; height: 150px;" />
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(010) 001-1010&quot;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Phone&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;str&quot;</span><span class="p">)</span>
<span class="c1"># remove parentheses, hyphens and spaces with pandas + regex</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">pat</span><span class="o">=</span><span class="s2">&quot;\(|\)|-| &quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="c1"># resulting number: &quot;0100011010&quot;</span>
</pre></div></td></tr></table></div>
<p><strong>Regex is cool.</strong></p>
<p>Grasping the intricacies of what this code is doing feels elegant when you connect the dots.. or pipes. The replace is done via a pandas <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/series.html#api-series-str">str accessor</a>. In the pat string, the parentheses are escaped with slashes and separated by pipes &quot;|&quot;. They act as an <a class="reference external" href="https://realpython.com/python-or-operator/">or operator</a>, succinctly chaining multiple characters together for matching and in this case replacing them with nothing. Pretty nifty. If you read the <a class="reference external" href="https://pandas.pydata.org/docs/">pandas docs</a>, you'll find regex is accessible in different parts of the API. Dive in, it's some of my favorite documentation to snoop. There is so much you can do with pandas. This example demonstrates how its flexible functions get the job done efficiently.</p>
<p><strong>Further Reading:</strong></p>
<p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html">pandas.Series documentation</a></p>
<p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.str.replace.html">pandas str.replace documentation</a></p>
<p><a class="reference external" href="http://regex.info/blog/2006-09-15/247">Source of the famous “Now you have two problems” quote</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/phone-number-cleaning-regex-pandas-series-example.html">posted at 14:19</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-pandas-programming-python.html" rel="tag">coding, pandas, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/data-cleaning.html" class="tags">data cleaning</a>
                    &nbsp;<a href="https://lofipython.com/tag/regex.html" class="tags selected">regex</a>
                </div>
            </article>            <h4 class="date">Jul 15, 2018</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/findstr-aka-grep-for-windows.html" rel="bookmark" title="Permanent Link to &quot;Findstr, RegEx File Searches for Windows&quot;">Findstr, RegEx File Searches for Windows</a>
                </h2>

                
                

                <p>Findstr is the Windows alternative to GREP, which runs on the <a class="reference external" href="https://www.howtogeek.com/182649/htg-explains-what-is-unix/">Unix operating system</a>.
Findstr searches files with <a class="reference external" href="https://en.wikipedia.org/wiki/Regular_expression">regular expressions</a> and seems useful for string matching within
files and directories.&nbsp; It is one of over 280 command prompt commands.
Here's the official&nbsp;<a class="reference external" href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/findstr">Windows Documentation</a>&nbsp;and
some&nbsp;<a class="reference external" href="https://www.mkyong.com/linux/grep-for-windows-findstr-example/">Linux vs. Windows Examples.</a></p>
<p><strong>Update:</strong> Windows announced that <a class="reference external" href="https://hackaday.com/2019/06/10/windows-10-goes-to-shell/">Grep and several other Unix command line tools will be added to Windows 10</a>. This is a new alternative to findstr.</p>
<p><strong>This findstr command returns all lines containing an '&#64;' in a text file.</strong></p>
<pre class="literal-block">
findstr &#64; test.txt
</pre>
<img alt="findstr Emails" class="alignnone size-full wp-image-1406" src="https://pythonmarketer.files.wordpress.com/2018/07/findstr-emails.png" style="width: 602px; height: 48px;" />
<p><strong>I was happy to see Findstr's convenient help menu:</strong></p>
<pre class="literal-block">
findstr -?
</pre>
<img alt="findstr_help" class="alignnone size-full wp-image-1408" src="https://pythonmarketer.files.wordpress.com/2018/07/findstr_help.png" style="width: 657px; height: 603px;" />
<p>Regular expressions are so powerful. It's nice to have this utility within the command prompt. I am hoping to get to know some of the other 280 command prompt commands.</p>
<p><strong>I've previously explored regex with Python. This Python regex example finds all words in a text file containing '&#64;' symbols:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file to string + regex email search</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fhand</span><span class="p">:</span>
    <span class="n">string</span> <span class="o">=</span> <span class="n">fhand</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="c1"># this regex returns a python list of emails:</span>
    <span class="n">emails</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;(\S*@\S+)&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">emails</span><span class="p">)</span>
</pre></div></td></tr></table></div>
<img alt="findall_python" class="alignnone size-full wp-image-1405" src="https://pythonmarketer.files.wordpress.com/2018/07/findall_python.png" style="width: 633px; height: 173px;" />
<p>For more command prompt nuggets, check out my more recent post: <a class="reference external" href="https://lofipython.com/exploring-windows-command-line-tools-batch-file-automation-and-remote-desktop-connection/">Exploring Windows Command Line Tools, Batch Files and Remote Desktop Connection</a>.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/findstr-aka-grep-for-windows.html">posted at 19:52</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/command-prompt-data-python-windows.html" rel="tag">command prompt, data, python, Windows</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/programming.html" class="tags">programming</a>
                    &nbsp;<a href="https://lofipython.com/tag/regex.html" class="tags selected">regex</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
<script>
    const currentReferer = document.referrer; // Get the referer from the current page
    const apiUrl = 'https://read-traffic-referers.erickrumbold.workers.dev/';

    fetch(apiUrl, {
        method: 'GET',
        headers: {
            Referer: currentReferer // Include the referer in the request headers
        }
    })
    .then(response => {
        if (response.ok) {
            return response.json();
        } else {
            throw new Error('Network response was not ok');
        }
    })
    .then(data => {
        console.log('Received data:', data);
    })
    .catch(error => {
        console.error('Error fetching data:', error);
    });
</script>
</body>
</html>