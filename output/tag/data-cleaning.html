<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python Marketer | articles tagged "data cleaning"</title>
    <link rel="shortcut icon" type="image/png" href="../favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    <link href="https://pythonmarketer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Python Marketer Full Atom Feed" />
    <link href="https://pythonmarketer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Python Marketer Full RSS Feed" />
    <link href="https://pythonmarketer.com/feeds/data-cleaning.tag.atom.xml" type="application/atom+xml" rel="alternate" title="Python Marketer Tags Atom Feed" />
    <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="../theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="@erickbytes" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>
                <li class="ephemeral selected"><a href="../tag/data-cleaning.html">data cleaning</a></li>
                <li><a href="../">Home</a></li>
                <li><a href="feeds/all.rss.xml">RSS</a></li>
                <li><a href="feeds/all.atom.xml">Atom</a></li>
                <li><a href="https://github.com/erickbytes/divbull">Github</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="../">
            <image src='images/python-powered-h-140x182.png' class="avatar" width="50px" /><span class="site_title">Python Marketer</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Dec 31, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="../phone-number-cleaning-regex-pandas-series-example.html" rel="bookmark" title="Permanent Link to &quot;Phone Number Cleaning Regex + pandas Series Example&quot;">Phone Number Cleaning Regex + pandas Series Example</a>
                </h2>

                
                

                <p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>This is a solution I worked out recently to strip phone numbers into a uniform format. To install <a href="https://pandas.pydata.org/docs/getting_started/install.html">pandas with pip</a>, enter in command prompt:</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:preformatted --&gt;</code></p>
<div class="highlight"><pre><span></span><code>python -m pip install pandas 
</code></pre></div>

<p><code>&lt;!-- /wp:preformatted --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>The pandas library has regex built in and it's pretty neat! Behold the power of pandas and a <a href="https://en.wikipedia.org/wiki/Regular_expression">regular expression</a> to do trivial telephone tidying:</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:image {"id":6382,"width":767,"height":150,"sizeSlug":"large","linkDestination":"none"} --&gt;</code></p>
<p><img alt="" class="wp-image-6382" height="150" src="https://pythonmarketer.files.wordpress.com/2021/12/pandas-example-7-3.41.12-pm.png?w=561" width="767"></p>
<p><code>&lt;!-- /wp:image --&gt;</code></p>
<p><code>&lt;!-- wp:preformatted --&gt;</code></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(010) 001-1010&quot;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Phone&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;str&quot;</span><span class="p">)</span>
<span class="c1"># remove parentheses, hyphens and spaces with pandas + regex</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">pat</span><span class="o">=</span><span class="s2">&quot;\(|\)|-| &quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="c1"># resulting number: &quot;0100011010&quot;</span>
</code></pre></div>

<p><code>&lt;!-- /wp:preformatted --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>Regex is cool.</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>Grasping the intricacies of what this code is doing feels elegant when you connect the dots.. or pipes. The replace is done via a pandas <a href="https://pandas.pydata.org/pandas-docs/stable/reference/series.html#api-series-str">str accessor</a>. In the pat string, the parentheses are escaped with slashes and separated by pipes "|". They act as an <a href="https://realpython.com/python-or-operator/">or operator</a>, succinctly chaining multiple characters together for matching and in this case replacing them with nothing. Pretty nifty. If you read the <a href="https://pandas.pydata.org/docs/">pandas docs</a>, you'll find regex is accessible in different parts of the API. Dive in, it's some of my favorite documentation to snoop. There is so much you can do with pandas. This example demonstrates how its flexible functions get the job done efficiently.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>Further Reading:</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html">pandas.Series documentation</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.str.replace.html">pandas str.replace documentation</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="http://regex.info/blog/2006-09-15/247">Source of the famous “Now you have two problems” quote</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="../phone-number-cleaning-regex-pandas-series-example.html">posted at 14:19</a>
                    &nbsp;&middot;&nbsp;<a href="../category/coding-pandas-programming-python.html" rel="tag">coding, pandas, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="../tag/data-cleaning.html" class="tags selected">data cleaning</a>
                    &nbsp;<a href="../tag/regex.html" class="tags">regex</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="../feeds/all.atom.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="../feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>