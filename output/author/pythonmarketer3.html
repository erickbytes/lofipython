<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lo-fi Python | Articles by pythonmarketer</title>
    <link rel="shortcut icon" type="image/png" href="https://lofipython.com/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://lofipython.com/favicon.ico">
    <link href="https://lofipython.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lo-fi Python Full Atom Feed" />
    <link href="https://lofipython.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Lo-fi Python Full RSS Feed" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="@erickbytes" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>

                <li class="ephemeral selected"><a href="https://lofipython.com/author/pythonmarketer3.html">pythonmarketer</a></li>
                <li><a href="https://lofipython.com/">Home</a></li>
                <li><a href="feeds/all.rss.xml">RSS</a></li>
                <li><a href="feeds/all.atom.xml">Atom</a></li>
                <li><a href="https://github.com/erickbytes/lofipython">Github</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="https://lofipython.com/">
            <image src='images/python-powered-h-140x182.png' class="avatar" width="50px" /><span class="site_title">Lo-fi Python</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Jul 28, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/a-brief-summary-of-promising-python-static-site-generators.html" rel="bookmark" title="Permanent Link to &quot;8 Promising Python Static Site Generators&quot;">8 Promising Python Static Site Generators</a>
                </h2>

                
                

                <p>A static site generator creates static HTML and markdown files to serve as a website. They're commonly used to host blogs but not exclusively. I recently researched my options to roll a static site in Python. I'm assessing a few of them as a potential future self-hosted blogging solution for this Wordpress blog. Or maybe I'll spin up a new one!</p>
<blockquote>
<p><strong>Why Statics?</strong></p>
<p>Most &quot;modern&quot; websites are <em>dynamic</em> in the sense that the contents of the site live in a database, and are converted into presentation-ready HTML only when a user wants to see the page. That's great. However, it presents some minor issues that static site generators try to solve.</p>
<p>In a static site, the whole site, every page, <em>everything</em>, is created before the first user even sees it and uploaded to the server as a simple folder full of HTML files (and images, CSS, etc).</p>
<p>The Nikola Handbook - <a class="reference external" href="https://getnikola.com/handbook.html#why-static">https://getnikola.com/handbook.html#why-static</a></p>
</blockquote>
<div class="section" id="static-site-generator-python-libraries">
<h2>Static Site Generator Python Libraries</h2>
<p><em>listed in largest to smallest order by # of Github project stars</em></p>
<p><strong>Pelican</strong> | <a class="reference external" href="https://github.com/getpelican/pelican">Github - 11K Stars</a></p>
<p>Seems to be the front running static site generator in Python's ecosystem. It contains a convenient pelican-importer tool to import existing content from WordPress, Dotclear, or RSS feeds. Enjoying the modular nature of the <a class="reference external" href="https://github.com/pelican-plugins">pelican-plugins</a> and <a class="reference external" href="https://github.com/getpelican/pelican-themes">pelican-themes</a>!</p>
<p><strong>Lektor</strong> | <a class="reference external" href="https://github.com/lektor/lektor">Github - 3.5K Stars</a></p>
<p>Intriguing CMS project touting a &quot;Python API&quot;, <a class="reference external" href="https://www.getlektor.com/plugins/">plugins for tools like Webpack</a> and talented maintainers including the author of Flask.</p>
<p><strong>Cactus</strong> | <a class="reference external" href="https://github.com/eudicots/Cactus">Github - 3.5K stars</a></p>
<p>&quot;Simple but powerful <a class="reference external" href="http://mickgardner.com/2011/04/27/An-Introduction-To-Static-Site-Generators.html">static website generator</a> using Python and the <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/templates/">Django template system</a>... typical users would be designers that are tech-savvy, want to use templates, but don't like to mess with setting up django or S3.&quot; (Mac OS) <a class="reference external" href="https://vimeo.com/46999791">Demo Video</a></p>
<p><strong>Nikola</strong> | <a class="reference external" href="https://github.com/getnikola/nikola">Github - 2.2K stars</a></p>
<p>Viable option to host your site with the informative <a class="reference external" href="https://getnikola.com/handbook.html#why-static">Nikola Handbook</a> walking you through each step. <a class="reference external" href="https://plugins.getnikola.com/">Plugins</a> for <a class="reference external" href="https://plugins.getnikola.com/v7/notebook_shortcode/">Jupyter Notebooks</a>, <a class="reference external" href="https://getnikola.com/handbook.html#post-processing-filters">post processing filters</a>, a <a class="reference external" href="https://getnikola.com/handbook.html#importing-your-wordpress-site-into-nikola">Wordpress importer</a> command line tool and about <a class="reference external" href="https://themes.getnikola.com/">40 ready to go themes</a> to find the perfect style.</p>
<p><strong>Makesite</strong> | <a class="reference external" href="https://github.com/sunainapai/makesite">Github - 1.6K Stars</a></p>
<p>Offers less configuration, using only a single makesite.py file.</p>
<p><strong>Hyde</strong> | <a class="reference external" href="https://github.com/hyde/hyde">Github - 1.6K stars</a></p>
<p>Port from <a class="reference external" href="https://jekyllrb.com/">Jekyll</a>, a <a class="reference external" href="https://www.ruby-lang.org/en/">Ruby</a> static site generator. It has since formed its own &quot;evil twin&quot; identity.</p>
<p><strong>Mynt</strong> | <a class="reference external" href="https://github.com/Anomareh/mynt">Github - 400 stars</a></p>
<p>&quot;Designed to give you all the features of a CMS with none of the often rigid implementations of those features.&quot;</p>
<p><strong>Staticjinja</strong> | <a class="reference external" href="https://github.com/staticjinja/staticjinja">Github - 250 Stars</a></p>
<p>&quot;Minimalist Python library for building static websites with Jinja.&quot;</p>
</div>
<div class="section" id="additional-resources">
<h2>Additional Resources</h2>
<ul class="simple">
<li><a class="reference external" href="http://PyLadies.com">PyLadies.com</a>, <a class="reference external" href="https://pyladies.com/">created with Mynt</a></li>
<li>FullStackPython.com, <a class="reference external" href="https://github.com/mattmakai/fullstackpython.com">created with Pelican</a></li>
<li>GetLektor.com, <a class="reference external" href="https://github.com/lektor/lektor-website">created with Lektor</a></li>
<li><a class="reference external" href="https://github.com/gohugoio/hugo">Hugo</a>, a Go static site generator</li>
<li><a class="reference external" href="https://solar.lowtechmagazine.com/2018/09/how-to-build-a-lowtech-website.html">How to Build a Low-tech&nbsp;Website?</a> (featuring Pelican)</li>
<li>One convenient way to serve your static files up on the web is with a <a class="reference external" href="https://www.cloudflare.com/learning/cdn/what-is-a-cdn/#:~:text=A%20content%20delivery%20network%20(CDN,stylesheets%2C%20images%2C%20and%20videos.">CDN</a> like <a class="reference external" href="https://developers.cloudflare.com/pages/framework-guides/deploy-anything/">Cloudflare Pages</a>.</li>
<li>You can research more projects on <a class="reference external" href="https://jamstack.org/generators/">Jamstack</a>, a site I found helpful for finding these libraries.</li>
</ul>
<p><strong>Update</strong>! I launched a Pelican blog about investing with Cloudflare pages. It's my first live static blog. Read more about it <a class="reference external" href="https://pythonmarketer.com/2022/07/08/launching-a-live-static-blog-via-pelican-github-and-cloudflare-pages/">here</a>.</p>
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/a-brief-summary-of-promising-python-static-site-generators.html">posted at 23:31</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-web-development.html" rel="tag">coding, programming, web development</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/creating-your-own-blog.html" class="tags">creating your own blog</a>
                    &nbsp;<a href="https://lofipython.com/tag/python.html" class="tags">python</a>
                    &nbsp;<a href="https://lofipython.com/tag/static-site-generator.html" class="tags">static site generator</a>
                </div>
            </article>            <h4 class="date">May 29, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/python-libraries-tools-resources-for-creative-and-academic-writers.html" rel="bookmark" title="Permanent Link to &quot;Python Libraries, Tools + Resources for Creative and Academic Writers&quot;">Python Libraries, Tools + Resources for Creative and Academic Writers</a>
                </h2>

                
                

                <p>Today I scoured the internet for tools written in Python that assist writing in any form. After some relentless Google and Github searching, here are my favorites. I found tools to help write modular stories and novels, screenwriting with Trelby and several libraries for academic papers. I haven't tried all of these... yet!</p>
<p><strong>Storywriting</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/olivierkes/manuskript">manuskript</a>: A open-source tool for writers</li>
<li><a class="reference external" href="https://github.com/mimadrone/writerblocks">writerblocks</a>: A toolkit for writing stories in a modular way</li>
<li><a class="reference external" href="https://github.com/vkbo/novelWriter">NovelWriter</a>: novelWriter is an open source plain text editor designed for writing novels.</li>
<li><a class="reference external" href="https://github.com/trelby/trelby">Trelby</a>: The free, multiplatform, feature-rich screenwriting program!</li>
<li><a class="reference external" href="https://github.com/Carleslc/Readteractive">Readeractive</a>: Tool for writing and generating interactive books, also known as gamebooks.</li>
<li><a class="reference external" href="https://github.com/Moonbase59/PAWS">PAWS</a>: Python Adventure Writing System</li>
</ul>
<p><strong>Miscellaneous Writing, Text Cleaning and Proofreading Resources</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://languagetool.org/http-api/swagger-ui/#!/default/post_check">Language Tool API</a>: Open Source proofreading software for English, French, German, Polish, Russian, and&nbsp;more than 20 other languages. It finds many errors that a simple spell checker cannot detect. See also: <a class="reference external" href="https://pypi.org/project/language-tool-python/">language_tool_python library</a> (<a class="reference external" href="https://github.com/languagetool-org/languagetool">Github</a>)</li>
<li><a class="reference external" href="https://github.com/jfilter/clean-text">clean-text</a>: Python package for text cleaning</li>
<li><a class="reference external" href="https://github.com/pudo/normality">normality</a>: A tiny library for Python text normalisation. Useful for ad-hoc text processing.</li>
<li><a class="reference external" href="https://github.com/shivam5992/textstat">textstat</a>: Python package to calculate readability statistics of a text object - paragraphs, sentences, articles.</li>
<li><a class="reference external" href="https://github.com/sloria/TextBlob">textblob</a>: Simple, Pythonic, text processing--Sentiment analysis, part-of-speech tagging, noun phrase extraction, translation, spelling correction and more.</li>
<li><a class="reference external" href="https://www.nltk.org/">Natural Language Toolkit (NLTK)</a></li>
<li><a class="reference external" href="https://github.com/miso-belica/sumy">Sumy</a>: Module for automatic summarization of text documents and HTML pages.</li>
<li><a class="reference external" href="https://pythonmarketer.wordpress.com/wp-admin/post.php?post=5519&amp;action=edit">Mackerel</a>: Mackerel provides an automated, easy to use alternative for company or school writing tasks. Simply provide the topic and/or files and we will do the rest.</li>
<li><a class="reference external" href="https://github.com/fandu/Verb-Miner">Verb Miner</a>: This tool can help you analyze a document and discover cool verbs from pdf papers.</li>
<li><a class="reference external" href="https://github.com/lkjie/paper-translator">paper-translater</a>: Chinese and English essay translator, paper translator, clipboard listener</li>
<li>There are many <a class="reference external" href="https://pythonmarketer.wordpress.com/2019/12/26/comparing-text-editors-on-ubuntu-atom-emacs-sublime-vim-vs-code/">text editor options</a> like Sublime or Atom with useful <a class="reference external" href="https://github.com/thedataking/SublimeWritingStyle">plug-ins for text documents</a> or code.</li>
<li><a class="reference external" href="https://developers.google.com/tech-writing">Free Google Technical Writing Courses</a></li>
<li><a class="reference external" href="https://wiki.python.org/moin/PythonWriters">PythonWriters Wiki</a></li>
</ul>
<p><strong>Academic Writing</strong></p>
<ul>
<li><p class="first"><a class="reference external" href="https://github.com/Wookai/paper-tips-and-tricks">Tips and Tricks for Writing Scientific Papers</a>: Practice and tips &amp; tricks to write scientific papers in LaTeX, with figures generated in Python or Matlab.</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/dmvaldman/library">library</a>: A collection of essays and timeless papers</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/amusi/CVPR2021-Papers-with-Code">2021 Papers with Code</a></p>
</li>
<li><p class="first">` &lt;<a class="reference external" href="https://github.com/JelteF/PyLaTeX">https://github.com/JelteF/PyLaTeX</a>&gt;`__<a class="reference external" href="https://github.com/JelteF/PyLaTeX">PyLaTeX</a>: A Python library for creating LaTeX files</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/luong-komorebi/Begin-Latex-in-minutes">Begin LaTeX in minutes</a>: Brief Intro to LaTeX for beginners that helps you use LaTeX with ease.</p>
</li>
<li><p class="first"><a class="reference external" href="https://pypi.org/project/texbib/">Texbib</a>: A program that helps you to manage your BibTeX references.</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/Pezmc/BibLatex-Check">BibLatex-Check</a>: A python script for checking BibLatex .bib files for common referencing mistakes!</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/paperpy/paperpy">paperpy</a>: Tools for simplifying the preparation of version-controlled and well-written academic papers.</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/devd/Academic-Writing-Check">Academic Writing Check</a>: Check for passive words, weasel words, duplicate words, typographical errors and words strunk &amp; white don't like. (Written in Perl.)</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/matplotlib/AnatomyOfMatplotlib">Anatomy of Matplotlib</a>: Tutorial developed for the SciPy conference</p>
</li>
<li><p class="first"><a class="reference external" href="https://www.scipy.org/">SciPy</a>: (pronounced ‚ÄúSigh Pie‚Äù) is a Python-based ecosystem of open-source software for mathematics, science, and engineering.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.numpy.org/">NumPy</a>:&nbsp;A fundamental package for scientific computing with Python</p>
</li>
<li><p class="first"><a class="reference external" href="https://pandas.pydata.org/">pandas</a>: A fast, powerful, flexible and easy to use open source data analysis and manipulation tool, built on top of the&nbsp;<a class="reference external" href="https://www.python.org/">Python</a>&nbsp;programming language.</p>
</li>
<li><p class="first"><a class="reference external" href="https://newsletter.timber.fm/p/a-writing-tip-i-learned-at-oxford">A writing tip I learned at Oxford</a>: TLDR read your writing out loud to proof it.</p>
<p>In Math, Computer Science, Physics, or any field where your typical paper has even a modest amount of mathematical notation the percentage of papers written using LaTeX (or even plain TeX!) is probably about 90%+.</p>
<p><a class="reference external" href="https://www.quora.com/What-percent-of-papers-are-written-with-LaTeX">Adam Russell,&nbsp;PhD Data Visualization, Computational Geometry</a></p>
<p>BibTeX is reference management software for formatting lists of references. The BibTeX tool is typically used together with the LaTeX document preparation system.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/BibTeX">https://en.wikipedia.org/wiki/BibTeX</a></p>
</li>
</ul>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/python-libraries-tools-resources-for-creative-and-academic-writers.html">posted at 17:51</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/education-productivity-python-writing.html" rel="tag">education, productivity, python, writing</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/academic-writing.html" class="tags">academic writing</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-tools-for-writing.html" class="tags">Python Tools for Writing</a>
                    &nbsp;<a href="https://lofipython.com/tag/resources-for-writers.html" class="tags">resources for writers</a>
                    &nbsp;<a href="https://lofipython.com/tag/storywriting.html" class="tags">storywriting</a>
                    &nbsp;<a href="https://lofipython.com/tag/writing-tools.html" class="tags">writing tools</a>
                </div>
            </article>            <h4 class="date">Apr 15, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/did-you-read-the-whole-error.html" rel="bookmark" title="Permanent Link to &quot;Did You Read the Whole Error?&quot;">Did You Read the Whole Error?</a>
                </h2>

                
                

                <p>You read the whole thing front to back? Every word? Stop and think about it. What is the computer trying to tell you?</p>
<p>Sometimes something is obvious but needs to be reminded. I found myself thinking this yet again today. Often there are times where I would have saved some time and grief by carefully reading the error.</p>
<p>Carefully read the error when you see a traceback. Then once you've taken it all in, consider what to do next. If you're stumped, googling it might yield a solution. But make sure you actually read the error first.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/did-you-read-the-whole-error.html">posted at 15:34</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming.html" rel="tag">coding, programming</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/errors.html" class="tags">errors</a>
                    &nbsp;<a href="https://lofipython.com/tag/solutions.html" class="tags">solutions</a>
                </div>
            </article>            <h4 class="date">Feb 07, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/using-gmails-search-operators-to-organize-your-emails-in-bulk.html" rel="bookmark" title="Permanent Link to &quot;Organize Your Emails in Bulk With Gmail Search Operators + Python Libraries&quot;">Organize Your Emails in Bulk With Gmail Search Operators + Python Libraries</a>
                </h2>

                
                

                <p>After 12 years with Gmail as my primary email inbox, I wanted to clear out old &quot;Promotions&quot; emails. This can be done with some clever use of Gmail's search syntax shown below.</p>
<p>I wanted to preserve my &quot;Starred&quot; emails, but delete old emails to free up space. I was able to delete 58,000 &quot;Promotions&quot; emails! I wrote this post because I feel it might save you a little time figuring it out yourself. I also included brief details on possible Python tools for Gmail and IMAP below if you are considering scripting your contact management.</p>
<p>I didn't need Python in the end after reading some <a class="reference external" href="https://support.google.com/mail/answer/7190?hl=en">Gmail search operator examples</a>. For example, adding a hypen before a search in Gmail acts similar to a <a class="reference external" href="https://en.wikipedia.org/wiki/Bitwise_operation#NOT">&quot;bitwise&quot; or unary operator (~)</a> in Python. It excludes or inverses the criteria in a search rather than including it. I was able to use this to exclude my starred emails. You can also add a filter for &quot;has attachment&quot;. I used that to star any emails with attachments, then delete the rest and excluded &quot;starred&quot; emails.</p>
<p><strong>Gmail search syntax to get &quot;Promotions&quot; minus &quot;Starred&quot; emails and filter on a date range</strong>:</p>
<p><tt class="docutils literal">category:promotions <span class="pre">-is:starred</span> after:2019/12/31 before:2021/1/1</tt></p>
<p><strong>Selecting &quot;all&quot; emails in your search</strong></p>
<div class="wp-image-5251 figure">
<img alt="" src="https://pythonmarketer.files.wordpress.com/2021/02/select-all-in-search.jpg?w=588" />
</div>
<p><strong>Once, you've selected &quot;All&quot; from the checkbox dropdown, click &quot;Select all conversations that match this search&quot;.</strong> Now you can apply actions such as &quot;add a star&quot; or &quot;delete&quot; them by clicking the (‚ãÆ) vertical ellipses menu:</p>
<div class="wp-image-5258 figure">
<img alt="" src="https://pythonmarketer.files.wordpress.com/2021/02/gmail-filter-steps.jpg?w=1024" />
</div>
<p><strong>To Python or not?</strong></p>
<p>I also considered Python tools for interfacing with gmail to accomplish this. There doesn't seem to be an easy way to group emails by &quot;Category&quot; in the <a class="reference external" href="https://developers.google.com/gmail/api/quickstart/python">Gmail API</a> or IMAP. IMAP is shorthand for <a class="reference external" href="https://en.wikipedia.org/wiki/Internet_Message_Access_Protocol">Internet Message Access Protocol</a>.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/imaplib.html">imaplib</a> is an &quot;IMAP4 protocol client&quot; in the Python standard library. Usually python's <a class="reference external" href="https://docs.python.org/3/library/smtplib.html">smtplib</a> is the first library that comes up for email. Don't forget about imaplib! It might be more suitable for searching based on text in your emails or <a class="reference external" href="https://superuser.com/questions/719677/how-to-use-gmail-tabs-with-imap">creating labeled segments yourself, then applying actions to them</a>.</p>
<p><strong>Additional Gmail + Python Resources</strong></p>
<p><a class="reference external" href="https://support.google.com/mail/answer/7190?hl=en">G</a><a class="reference external" href="https://support.google.com/mail/answer/7190?hl=en">mail search operators</a></p>
<p><a class="reference external" href="https://docs.python.org/3/library/imaplib.html">imaplib</a> - python standard library interface to email accounts [<a class="reference external" href="https://stackoverflow.com/questions/3180891/imap-how-to-delete-messages">Stack Overflow example</a>]</p>
<p><a class="reference external" href="https://support.google.com/mail/answer/7126229?hl=en">enabling IMAP in your gmail</a></p>
<p><a class="reference external" href="https://developers.google.com/gmail/api/quickstart/python">Gmail API Python Quickstart</a></p>
<p><a class="reference external" href="https://github.com/charlierguo/gmail">Gmail python library</a> - There are also pythonic wrappers to the Gmail API like this one.</p>
<p><a class="reference external" href="https://pymotw.com/2/imaplib/">imaplib - Python Module of the Week</a></p>
<p><a class="reference external" href="https://markodenic.com/use-google-like-a-pro/">Use Google Like a Pro</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/using-gmails-search-operators-to-organize-your-emails-in-bulk.html">posted at 11:17</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/productivity-python.html" rel="tag">productivity, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/email.html" class="tags">email</a>
                    &nbsp;<a href="https://lofipython.com/tag/gmail.html" class="tags">gmail</a>
                    &nbsp;<a href="https://lofipython.com/tag/imap.html" class="tags">IMAP</a>
                    &nbsp;<a href="https://lofipython.com/tag/smtp.html" class="tags">smtp</a>
                </div>
            </article>            <h4 class="date">Nov 28, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/a-computer-science-themed-wikipedia-link-grab-bag.html" rel="bookmark" title="Permanent Link to &quot;20 Eclectic Computer Science Wikipedia Articles&quot;">20 Eclectic Computer Science Wikipedia Articles</a>
                </h2>

                
                

                <p>Here are 20 random technology-oriented Wikipedia links I recently collected after re-organizing troves of bookmarked links accumulated over the past few years. These articles peek into the wide variety of things to learn about that exist in Computer Science. ABL. Always. Be. Learning. Curiosity and well organized browser bookmarks are your friend.</p>
<p>I support Wikipedia with a donation nearly every year. It's an amazing resource to learn about everything and I'm very grateful for it. Thank you for existing, Wikipedia. It's is a great jumping off point to learn about something I don't understand, which is much of this list here.</p>
<div class="section" id="algorithms-theories">
<h2>Algorithms &amp; Theories</h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Deterministic_algorithm">Deterministic algorithm</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Column-oriented_DBMS">Greater fool theory</a> (economics)</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Man_or_boy_test">Man or boy test</a> - compiler theory from Donald Knuth</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Recursion">Recursion</a> - the most common algorithm I read about in passing</p>
</div>
<div class="section" id="databases">
<h2>Databases</h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Cache_(computing)">Cache</a> + <a class="reference external" href="https://en.wikipedia.org/wiki/Cache_invalidation">Cache invalidation</a></p>
<blockquote>
caching is a common technique to store data so that it can be quickly fetched later with limited usage of database resources.</blockquote>
<p>` &lt;<a class="reference external" href="https://en.wikipedia.org/wiki/Column-oriented_DBMS">https://en.wikipedia.org/wiki/Column-oriented_DBMS</a>&gt;`__<a class="reference external" href="https://en.wikipedia.org/wiki/Column-oriented_DBMS">Column-oriented DBMS</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Data_definition_language#:~:text=In%20the%20context%20of%20SQL,tables%2C%20indexes%2C%20and%20users.">Data definition language</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Database_normalization">Database normalization</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Lock_(computer_science)">Lock</a> (mutex)</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing">Hybrid transactional/analytical processing</a> (HTAP)</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Online_transaction_processing">Online transaction processing</a> (OLTP) - Making lots of writes to the database.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Online_analytical_processing">Online analytical processing</a> (OLAP) - Reading the database. Lots of joins.</p>
</div>
<div class="section" id="developer">
<h2>Developer</h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Asynchrony_(computer_programming)">Asynchrony</a> Used for performing operations in parallel.</p>
<p>` &lt;<a class="reference external" href="https://en.wikipedia.org/wiki/Remote_procedure_call">https://en.wikipedia.org/wiki/Remote_procedure_call</a>&gt;`__<a class="reference external" href="https://en.wikipedia.org/wiki/Event-driven_programming#:~:text=In%20computer%20programming%2C%20event%2Ddriven,from%20other%20programs%20or%20threads.">Event-driven programming</a></p>
<blockquote>
<p>Async is always event-driven, but not the other way round.</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/5844955/whats-the-difference-between-event-driven-and-asynchronous-between-epoll-and-a#:~:text=Asynchronous%20is%20basically%20multitasking.,in%20an%20easy%20responsive%20manner.">Stephen Chung - Stack Overflow</a></p>
</blockquote>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Functional_programming">Functional Programming</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">Garbage collection</a> - automatic memory management</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Parallel_computing#:~:text=Parallel%20computers%20can%20be%20roughly,work%20on%20the%20same%20task.">Parallel Computing</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Reinforcement_learning">Reinforcement learning</a> - one paradigm of machine learning</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Remote_procedure_call">Remote procedure call</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Runbook#:~:text=In%20a%20computer%20system%20or,or%20in%20physical%20book%20form.">List of Lists of Lists</a> - check out the &quot;Technology&quot; section</p>
</div>
<div class="section" id="final-reminders">
<h2>Final Reminders</h2>
<ul class="simple">
<li>check out the <a class="reference external" href="https://pypi.org/project/wikipedia/">Wikipedia python library</a> (import wikipedia)</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Special:Random">Random</a> - Wikipedia's Random Article Button</li>
<li>And now for something completely different: <a class="reference external" href="https://github.com/yuandongzhong/useful-links-for-javascript">Useful Links for Javascript Developers</a></li>
</ul>
<p>Thank you for reading, hope you found something you liked! Here's another post with more <a class="reference external" href="https://pythonmarketer.wordpress.com/2020/06/23/my-favorite-free-educational-courses-and-talks-to-absorb/">free resources for learning computer science online</a>.</p>
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/a-computer-science-themed-wikipedia-link-grab-bag.html">posted at 12:55</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/databases-programming.html" rel="tag">Databases, programming</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/algorithms.html" class="tags">algorithms</a>
                    &nbsp;<a href="https://lofipython.com/tag/articles.html" class="tags">articles</a>
                    &nbsp;<a href="https://lofipython.com/tag/computer-science.html" class="tags">computer science</a>
                    &nbsp;<a href="https://lofipython.com/tag/wikipedia.html" class="tags">Wikipedia</a>
                </div>
            </article>            <h4 class="date">Sep 12, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/leveraging-specialization-and-considering-trade-offs-in-decision-making.html" rel="bookmark" title="Permanent Link to &quot;Maximize Your Energy Through Trade-offs and Specialization in Life Choices&quot;">Maximize Your Energy Through Trade-offs and Specialization in Life Choices</a>
                </h2>

                
                

                <p>Your life is a game of trade-offs. You spend x units of energy on x thing in order to gain something from it. You only have a limited number of energy and focus units.</p>
<p><strong>Each life interest you pursue comes with a cost per benefit units returned. Some examples of this might be:</strong></p>
<ul class="simple">
<li>cooking vs. ordering food</li>
<li>family life, relationship, friends &amp; social life</li>
<li>job, income, career, financial planning</li>
<li>travel \ serendipity</li>
<li>skill development \ hobbies</li>
<li>home improvement \ DIY vs. hiring specialists</li>
<li>health choices \ exercising frequency</li>
<li>renting vs. buying a house</li>
</ul>
<p>All of these life choices require a certain amount of your energy and focus. So how do you determine the right balance?</p>
<p>It's good to start from the idea that nothing is given that you have to have. Some people eat take-out food instead of cooking. Lately I've preferred this as well. I know how to cook some things. But I know I can outsource the meal, pay a premium and enjoy great food. I am able to support my cravings for Taqueria Traspasada, even if it is more expensive. I want to leverage this trade-off to get a meal from someone who is a better cook than me. I also like supporting local businesses. All I have to do is pick it up from the restaurant. Plus it saves me the time spent shopping and preparing the meal, which I can use to write blog posts! ü§ì Or instead use the time to learn to speak German and French. J'habit a Chicago a Logan Square üëã</p>
<p>Some humans have no interest in seeing their family. Others are very tightly woven into the fabric of their kin. Introverts and extroverts will fall over the spectrum in what they deem an adequate social life. (But we're all pretty much even on this front in this pandemic world it seems.) Ultimately time given to others could be invested in yourself. However, humans are social animals and we benefit greatly from our bonds with our friends and family.</p>
<p>My point is that you should not assume that you have to be a good cook. But cooking is a rewarding and useful habit to cultivate. Maybe someday I'll get back into it more regularly!</p>
<p>You should pursue home improvement and DIY if it is interesting and fun to you. But I will hire a contractor if I ever need any work done on my home and leverage their specialization. Actually, I've avoided this choice altogether by renting an apartment instead of buying a house. I don't plan on buying a home anytime soon. That's my preference in this trade-off.</p>
<p>Renting instead of buying is also more conducive to my yearning for serendipity, which is a life more mobile and free with less rigid or even no employment. But right now I am greatly benefiting from stable employment with a successful company. Less vacation now is a trade for financial stability. But maybe someday I'll have both? Either way, someday I'll backpack the world. üåçüåèüåé</p>
<p><strong>Relevant Economic Theory: The Law of Diminishing</strong><a class="reference external" href="https://en.wikipedia.org/wiki/Marginal_utility">Marginal Utility</a></p>
<p>In college, my economics professor likened this law to eating <a class="reference external" href="https://en.wikipedia.org/wiki/Big_Mac">Big Macs</a> from McDonald's. The first Big Mac you eat gives you the most happiness units. The 2nd Big Mac gives you some happiness, but less than the first one because you are full. A 3rd Big Mac would give you even less happiness units. Hopefully you don't eat more than 3 Big Macs in one sitting, it won't give you very many happiness units. üòÜ</p>
<blockquote>
<p>The Law Of Diminishing Marginal Utility states that all else equal as consumption increases the marginal utility derived from each additional unit declines. Marginal utility is derived as the change in&nbsp;utility&nbsp;as an additional unit is consumed. Utility is an economic term used to represent satisfaction or happiness.</p>
<ul class="simple">
<li>Will Kenton, <a class="reference external" href="https://www.investopedia.com/terms/l/lawofdiminishingutility.asp#:~:text=The%20Law%20Of%20Diminishing%20Marginal,to%20represent%20satisfaction%20or%20happiness.">Law of Diminishing Marginal Utility</a> - Investopedia</li>
</ul>
</blockquote>
<p>When allocating your energy and focus units, keep in mind this law. Maybe going out with your friends more than once a week gives you diminishing marginal utility. Maybe those units will be better spent on other activities and will bring greater joy per energy unit spent.</p>
<p><strong>In conclusion,</strong> carefully consider all of these trade-offs when designing your ideal life. Be cautious of putting too much of your energy and focus units into any one of these. But there's no right or wrong balance. The key is to think about your preferences, seek them out and constantly re-evaluate your trade-off decisions. Consider deeply what you really want and run towards it.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/leveraging-specialization-and-considering-trade-offs-in-decision-making.html">posted at 12:54</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/life.html" rel="tag">life</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/choices.html" class="tags">choices</a>
                    &nbsp;<a href="https://lofipython.com/tag/decisions.html" class="tags">decisions</a>
                    &nbsp;<a href="https://lofipython.com/tag/specialization.html" class="tags">specialization</a>
                    &nbsp;<a href="https://lofipython.com/tag/trade-offs.html" class="tags">trade-offs</a>
                </div>
            </article>            <h4 class="date">Aug 09, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/join-algorithms.html" rel="bookmark" title="Permanent Link to &quot;Pondering Join Algorithms&quot;">Pondering Join Algorithms</a>
                </h2>

                
                

                <p>Truly enjoying this <a class="reference external" href="https://www.youtube.com/playlist?list=PLSE8ODhjZXjbohkNBWQs_otTrBTrjyohi">Intro to Database Systems course</a> from Carnegie Mellon University. Some really great breakdowns of common join algorithms in this lecture. Here are my notes.</p>
<blockquote>
<p><a class="reference external" href="https://www.youtube.com/watch?v=nUwT7PEQ49o&amp;list=PLSE8ODhjZXjbohkNBWQs_otTrBTrjyohi&amp;index=11">Lecture 11- Join Algorithms</a><strong>(CMU Databases Systems / Fall 2019)</strong></p>
<p>Prof. Andy Pavlo, Carnegie Mellon Database Group</p>
</blockquote>
<img alt="Join Algorithms" class="alignnone size-full wp-image-4118" src="https://pythonmarketer.files.wordpress.com/2020/08/join-algorithms.png" style="width: 747px; height: 404px;" />
<p><em>screenshot from lecture</em></p>
<p><strong>Table Positioning for a Join</strong></p>
<p>&quot;In general, your smaller table should be the &quot;left&quot; table when joining two tables.&quot;... Professor demonstrates better performance by making the smaller table the &quot;outer&quot; table in a join.</p>
<p><strong>Block Nested Loop Join [</strong><a class="reference external" href="https://dev.mysql.com/doc/refman/5.7/en/nested-loop-joins.html#:~:text=A%20Block%20Nested%2DLoop%20(BNL,inner%20loops%20must%20be%20read.&amp;text=The%20join_buffer_size%20system%20variable%20determines,used%20to%20process%20a%20query.">mysql example</a><strong>]</strong></p>
<ul class="simple">
<li>&quot;The brute force approach&quot;</li>
<li>If you have enough memory to hold a large table, a good option for joining.</li>
<li>Always pick the smaller table as the outer table.</li>
<li>Buffer as much of your outer table in memory as possible to reduce redundant I/O.</li>
<li>Loop over the inner table or use an index.</li>
</ul>
<p><strong>Index Nested Loop Join [</strong><a class="reference external" href="https://www.cs.carleton.edu/faculty/dmusicant/cs347f03/proj3/">CS Course definition</a><strong>]</strong></p>
<p>If indexes are available, or you could create an index to use for a join.</p>
<p><strong>Sort-Merge Join [</strong><a class="reference external" href="https://en.wikipedia.org/wiki/Sort-merge_join">wikipedia</a><strong>]</strong></p>
<p>Useful if one or both tables are sorted on a join key. Maximize sequential I/O.</p>
<img alt="Sort - Merge Join" class="alignnone size-full wp-image-4121" src="https://pythonmarketer.files.wordpress.com/2020/08/sort-merge-join-1.png" style="width: 1731px; height: 855px;" />
<p><em>screenshot from lecture</em></p>
<p><strong>Hash Join [</strong><a class="reference external" href="https://mysqlserverteam.com/hash-join-in-mysql-8/#:~:text=Hash%20join%20is%20a%20way,inputs%20can%20fit%20in%20memory.">mysql blog example</a><strong>]</strong></p>
<p>Best performance. For large datasets.</p>
<ol class="arabic simple">
<li>Phase #1 Build (Hash Table)</li>
<li>Phase #2 Probe</li>
</ol>
<p><strong>Use</strong><a class="reference external" href="https://en.wikipedia.org/wiki/Bloom_filter">Bloom Filter</a><strong>set operations for probe phase optimization</strong></p>
<ol class="arabic simple">
<li>insert a key</li>
<li>lookup a key</li>
</ol>
<!--  -->
<blockquote>
<p><strong>Additional Reading on Bloom Filters</strong></p>
<p><a class="reference external" href="https://onatm.dev/2020/08/10/let-s-implement-a-bloom-filter/">Let's implement a Bloom Filter</a></p>
<p><a class="reference external" href="https://gopiandcode.uk/logs/log-bloomfilters-debunked.html">Bloom Filters Debunked</a></p>
</blockquote>
<p><strong>Grace Hash Join</strong> [<a class="reference external" href="https://en.wikipedia.org/wiki/Hash_join#Grace_hash_join">wikipedia</a>]</p>
<ul class="simple">
<li>&quot;Do hash joins when things don't fit in memory.&quot;</li>
<li>Use a hash table for each table. Break the tables into buckets then do a nested loop join on each bucket. If the buckets do not fit in memory, use <a class="reference external" href="https://en.wikipedia.org/wiki/Recursive_partitioning#:~:text=Recursive%20partitioning%20is%20a%20statistical,on%20several%20dichotomous%20independent%20variables.">recursive partitioning</a>. Then everything fits in memory for the join.</li>
</ul>
<!--  -->
<blockquote>
<p>&quot;Split outer relation into partitions based on the hash key.&quot;</p>
<p>Prof. Andy Pavlo on Hash Join algorithm</p>
</blockquote>
<ul class="simple">
<li>Hashing is almost always better than sorting for operator execution.</li>
</ul>
<!--  -->
<blockquote>
<p>&quot;No join algorithm works well in all scenarios.&quot;</p>
<p>-Prof. Andy Pavlo</p>
</blockquote>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/join-algorithms.html">posted at 18:24</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-data-databases-programming.html" rel="tag">coding, data, Databases, programming</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/algorithms.html" class="tags">algorithms</a>
                    &nbsp;<a href="https://lofipython.com/tag/computer-science.html" class="tags">computer science</a>
                    &nbsp;<a href="https://lofipython.com/tag/joins.html" class="tags">joins</a>
                    &nbsp;<a href="https://lofipython.com/tag/learning.html" class="tags">learning</a>
                    &nbsp;<a href="https://lofipython.com/tag/study.html" class="tags">study</a>
                    &nbsp;<a href="https://lofipython.com/tag/technology.html" class="tags">technology</a>
                </div>
            </article>            <h4 class="date">Jun 27, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/choosing-database-storage-models-and-workloads-that-mesh.html" rel="bookmark" title="Permanent Link to &quot;Characterizing Database Workloads & Storage Models&quot;">Characterizing Database Workloads &amp; Storage Models</a>
                </h2>

                
                

                <p>Thank you <a class="reference external" href="https://db.cs.cmu.edu/">Carnegie Mellon Database Group</a> for putting this online! These are my notes from watching on YouTube.</p>
<blockquote>
<p>Carnegie Mellon Databases Storage II, Lecture 4</p>
<p>Prof. Andy Pavlo [<a class="reference external" href="https://www.youtube.com/watch?v=YWRYEXNy6IE&amp;list=PLSE8ODhjZXjbohkNBWQs_otTrBTrjyohi&amp;index=4">Watch on YouTube</a>]</p>
</blockquote>
<div class="section" id="the-problem-and-solution">
<h2>The Problem and Solution</h2>
<p>How should the DBMS represent the database in storage files on disk? Solve it by choosing the right <em>storage model</em> for your target <em>workload</em>. The right strategy varies if you are reading data, writing data and with how many joins you are performing.</p>
</div>
<div class="section" id="workload-characterization">
<h2>Workload Characterization</h2>
<p><strong>OLTP</strong> (<a class="reference external" href="https://en.wikipedia.org/wiki/Online_transaction_processing">Online Transaction Processing</a>): &quot;Simple queries with lots of writes.&quot;</p>
<p><strong>OLAP</strong> (<a class="reference external" href="https://en.wikipedia.org/wiki/Online_analytical_processing">Online Analytical Processing</a>): &quot;Read only queries. Lots of joins. Doing a lot of reads, but they're more complex.&quot;</p>
<p><strong>HTAP</strong> (<a class="reference external" href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing">Hybrid Transactional Analytical Processing</a>): &quot;is trying to do both of them. You still want to ingest new data, but analyze it as it comes in. It's used for companies making decisions on the fly as people are browsing websites, like internet advertising companies.&quot;</p>
</div>
<div class="section" id="screenshot-2020-06-27-at-11-56-10-am">
<h2><img alt="Screenshot 2020-06-27 at 11.56.10 AM" class="alignnone size-full wp-image-3897" src="https://pythonmarketer.files.wordpress.com/2020/06/screenshot-2020-06-27-at-11.56.10-am.png" style="width: 1920px; height: 1080px;" /></h2>
</div>
<div class="section" id="storage-models">
<h2>Storage Models</h2>
<p><em>screenshots from the</em><a class="reference external" href="https://www.youtube.com/watch?v=YWRYEXNy6IE&amp;list=PLSE8ODhjZXjbohkNBWQs_otTrBTrjyohi&amp;index=4">lecture</a></p>
<img alt="n-ary model" class="alignnone size-full wp-image-3918" src="https://pythonmarketer.files.wordpress.com/2020/06/n-ary-model.png" style="width: 692px; height: 360px;" />
<p>N-ary used to be the dominant model until the '80s.</p>
<img alt="DSM model" class="alignnone size-full wp-image-3917" src="https://pythonmarketer.files.wordpress.com/2020/06/dsm-model-1.png" style="width: 938px; height: 396px;" />
<p><strong>Additional Reading:</strong> <a class="reference external" href="https://www.allthingsdistributed.com/2013/09/column-oriented-databases.html">All Things Distributed</a></p>
</div>
<div class="section" id="column-store-vs-row-store-rdbms">
<h2>Column Store Vs. Row Store RDBMS</h2>
<p><a class="reference external" href="https://dataschool.com/data-modeling-101/row-vs-column-oriented-databases/">Row-oriented DBMS</a><strong>(Row Store)</strong></p>
<ul class="simple">
<li>PostgreSQL, MySQL</li>
<li>Row Store = use OLTP</li>
</ul>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Column-oriented_DBMS">Column-oriented DBMS</a><strong>(Column Store)</strong></p>
<ul class="simple">
<li>Red Shift, BigQuery</li>
<li>Column Store = use OLAP</li>
</ul>
<p>If types are consistent, you can compress data into single column store.</p>
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/choosing-database-storage-models-and-workloads-that-mesh.html">posted at 13:22</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/data-databases-education-performance.html" rel="tag">data, Databases, education, performance</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/carnegie-mellon.html" class="tags">Carnegie Mellon</a>
                    &nbsp;<a href="https://lofipython.com/tag/database-storage.html" class="tags">database storage</a>
                    &nbsp;<a href="https://lofipython.com/tag/learning.html" class="tags">learning</a>
                    &nbsp;<a href="https://lofipython.com/tag/lectures-notes.html" class="tags">lectures notes</a>
                </div>
            </article>            <h4 class="date">May 18, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/how-to-make-json-requests-with-python.html" rel="bookmark" title="Permanent Link to &quot;A Guide To Making HTTP Requests To APIs With JSON & Python&quot;">A Guide To Making HTTP Requests To APIs With JSON &amp; Python</a>
                </h2>

                
                

                <p>This contains all of my best API-related knowledge picked up since learning how to use them. All APIs have their own style, quirks and unique requirements. This post explains general terminology, tips and examples if you're looking to tackle your first API.</p>
<p><strong>Here's what is covered:</strong></p>
<ol class="arabic simple">
<li>API &amp; HTTP Lingo You Should Know</li>
<li>Testing and Exporting Python Request Code from Postman (Optional)</li>
<li>Formatting Your Request</li>
<li>Example GET and POST Requests</li>
<li>&quot;Gotchyas&quot; To Avoid</li>
<li>Sidebar: requests.Session()</li>
<li>Dig deeper into requests by raising your HTTPConnection.debuglevel</li>
</ol>
<!--  -->
<blockquote>
<strong>Terminology Clarification</strong>: I will refer to &quot;items&quot; or &quot;data&quot; throughout this post. This could be substituted for contacts or whatever data you are looking for. For example, you might be fetching a page of contacts from your CRM. Or fetching your tweets from Twitter's API. Or searching the Google location API, you might look up an address and return geo-location coordinates.</blockquote>
<div class="section" id="api-http-lingo-you-should-know">
<h2>API &amp; HTTP Lingo You Should Know</h2>
<p><strong>Hypertext Transfer Protocol (HTTP)</strong></p>
<p>Per <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP">Mozilla</a>,&quot;Hypertext Transfer Protocol (HTTP) is an application-layer protocol for transmitting hypermedia documents, such as HTML. It was designed for communication between web browsers and web servers, but it can also be used for other purposes. HTTP follows a classical&nbsp;<a class="reference external" href="https://en.wikipedia.org/wiki/Client%E2%80%93server_model">client-server model</a>, with a client opening a connection to make a request, then waiting until it receives a response.&quot;</p>
<blockquote>
HTTP: you = client. API = way to communicate with server</blockquote>
<p><strong>Application Programming Interface (API)</strong></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Application_programming_interface">Per Wikipedia</a>, the purpose of an API is to simplify &quot;programming by <a class="reference external" href="https://en.wikipedia.org/wiki/Abstraction_(software_engineering)">abstracting</a> the underlying implementation and only exposing objects or actions the developer needs.&quot;</p>
<p><strong>Representational State Transfer (REST)</strong></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> is an architectural style of web APIs. It is the dominant architecture that many APIs use. Simple Object Access Protocol (<a class="reference external" href="https://smartbear.com/blog/test-and-monitor/soap-vs-rest-whats-the-difference/">SOAP</a>) is another style I've heard of, but it seems less common nowadays.</p>
<p>A REST API is built for interoperability and has properties like: &quot;simplicity of a uniform interface&quot; and &quot;visibility of communication between components by service agents.&quot; [<a class="reference external" href="https://en.wikipedia.org/wiki/Representational_state_transfer">Wikipedia</a>] If an API follows REST, it has many good principles baked in.</p>
<p><strong>``GET``, ``POST`` and ``PATCH``</strong></p>
<p>These are three common types of request methods.</p>
<ul class="simple">
<li><tt class="docutils literal">GET</tt>: &nbsp;Read data returned, such as all of your tweets in <a class="reference external" href="https://developer.twitter.com/en/docs">the Twitter API</a>.</li>
<li><tt class="docutils literal">POST</tt>: Create a new item, like writing a new tweet. Can also update existing data. Tweets aren't editable though!</li>
<li><tt class="docutils literal">PATCH</tt>: Similar to <tt class="docutils literal">POST</tt>, this is typically used for updating data.</li>
</ul>
<p><strong>URL or &quot;endpoint&quot;</strong></p>
<p>The website location to send your request</p>
<p><strong>URL Parameters</strong></p>
<p>Values you pass to tell the API what you want. They are defined by the API specifications, which are usually <a class="reference external" href="https://developers.activecampaign.com/reference">well documented</a>. In python's <tt class="docutils literal">requests</tt> library, they may be passed as <a class="reference external" href="https://treyhunner.com/2018/04/keyword-arguments-in-python/">keyword arguments</a>. Sometimes they are passable directly within the endpoint url string.</p>
<p><strong>Body or &quot;payload&quot;</strong></p>
<p>To make a request, you send a payload to the url. Often this is a JSON string with the API's URL parameters and values, AKA the request body. If the <a class="reference external" href="https://jira.readthedocs.io/">API is written specifically for Python</a>, it might accept an actual Python dictionary.</p>
<p><strong>Javascript Object Notation (JSON)</strong></p>
<p><a class="reference external" href="https://www.youtube.com/watch?v=KnAyziNnuI0">JSON</a> is the data interchange standard for all languages. Usually it is the default way to pass data into and receive data from an API. If making a&nbsp; <tt class="docutils literal">POST</tt>, you can check your json object is formatted correctly by using a <a class="reference external" href="https://jslint.com/">json linter</a>. Or try Python's <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json.tool">json.tool</a>! You can also pretty print your JSON or python dictionary with the <a class="reference external" href="https://docs.python.org/3/library/pprint.html">pprint</a> module. If you're using json.dumps remember it has <a class="reference external" href="https://docs.python.org/3/library/json.html">pretty printing accessible by keyword arguments</a>! These features are accessible in the standard library. Isn't Python great? See also: <a class="reference external" href="https://www.blog.pythonlibrary.org/2020/09/15/python-101-an-intro-to-working-with-json/">Python 101 - An Intro to Working with JSON</a></p>
<p><strong>Headers</strong></p>
<p>These usually contain website cookies and authorization info. They also may tell the API what kind of data you want back. JSON and XML are the two most common types of data to return. You can specify the return format in the <tt class="docutils literal"><span class="pre">content-type</span></tt> headers.</p>
<blockquote>
If you need to parse an XML response, check out Python's stock <a class="reference external" href="https://docs.python.org/3.8/library/xml.etree.elementtree.html">ElementTree API</a>. I've only seen a few APIs using XML responses, such as the <a class="reference external" href="https://www.usps.com/business/web-tools-apis/">USPS Address Validation API</a>.</blockquote>
<p><strong>Authorization</strong></p>
<p>Authorization varies widely. This is the level of identification you need to pass to the API to make a request. Public APIs might require none. Some just need a username and password. Others use the <a class="reference external" href="https://en.wikipedia.org/wiki/OAuth">Oauth standard</a>, which is a system involving credentials and tokens for extra security.</p>
<blockquote>
<p><strong>Authorization Scheme Example [</strong><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization">Mozilla</a><strong>]</strong></p>
<p>Authorization: &lt;auth-scheme&gt; &lt;authorisation-parameters&gt;</p>
</blockquote>
<pre class="literal-block">
# headers python dict example
headers = {&quot;Authorization&quot;: f&quot;basic {token}&quot;}
</pre>
<p><strong>Pages</strong></p>
<p>API data is commonly returned in multiple pages when there is a lot of data returned. Each page can be accessed one request at a time. Sometimes you can specify how many items you want on a page. But there is usually a maximum items per page limit like 100.</p>
<p><strong>Status code</strong></p>
<p>Each request usually gives you a <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">numeric code corresponding to happened</a> when the server tried to handle your request. There is also usually a message returned.</p>
<p><strong>See also: Web Server Gateway Interface (WSGI, pronounced &quot;Wis-Ghee&quot;)</strong></p>
<p>&quot;As described in <a class="reference external" href="https://www.python.org/dev/peps/pep-3333/">PEP3333</a>, the Python Web Server Gateway Interface (WSGI) is a way to make sure that web servers and python web applications can talk to each other.&quot;&nbsp; <a class="reference external" href="https://docs.gunicorn.org/en/latest/install.html">Gunicorn</a> is one of <a class="reference external" href="https://flask.palletsprojects.com/en/1.1.x/deploying/wsgi-standalone/#uwsgi">a few Python WSGI clients</a>. <a class="reference external" href="https://pythonmarketer.wordpress.com/2016/04/30/useful-links-for-web2py-beginners/">web2py</a> is another WSGI client and web framework I have used.</p>
<p><strong>See also:</strong> <a class="reference external" href="https://en.wikipedia.org/wiki/Nginx">Nginx</a></p>
<p><strong>See also:</strong><a class="reference external" href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">Create, read, update and delete (CRUD)</a></p>
</div>
<div class="section" id="creating-the-request-json">
<h2>Creating the Request JSON</h2>
<p>I recommend using <a class="reference external" href="https://www.postman.com/">Postman</a> in most cases, depending on the complexity of the API. If the JSON syntax is straightforward, you can format your data as a python dictionary, then convert it to a JSON object with <tt class="docutils literal">json.dumps</tt> from the standard library's <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps">json module</a>. But JSON can be tricky sometimes. You may also need to pass a dictionary of HTTP headers.</p>
<p>Some APIs have &quot;Postman Collections&quot;, a set of Python (or any language) script templates for the API. In those cases, it might make sense to use those resources.</p>
<blockquote>
<p><strong>Path One: Make HTTP request with json &amp; requests libraries</strong></p>
<p>Format Python dict with <tt class="docutils literal">json.dumps</tt> from the standard library's <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads">json module</a>.&nbsp; Infer API requirements from documentation. Use requests for HTTP.</p>
<p><strong>Path Two: Make HTTP request with Postman &amp; requests library</strong></p>
<p>Use Postman to generate the JSON payload. Plug headers and payload into requests. Use requests library for HTTP.</p>
</blockquote>
<p>Postman has a friendly interface for plugging in all your pieces and tinkering with your request body until it works. Make it easier on yourself and use Postman, especially if there are collections. An alternative is to troubleshoot in Python if you are confident in your grasp of the API. I use both options depending on my familiarity with the API at hand.</p>
<p>Once you have the request working, you may <a class="reference external" href="https://learning.postman.com/docs/postman/sending-api-requests/generate-code-snippets/">export your Postman request to almost any language</a>. For Python, you can sometimes export to the <tt class="docutils literal">requests</tt>,&nbsp; <tt class="docutils literal">http.client</tt> or <tt class="docutils literal">urllib</tt> libraries. Hit the &quot;code&quot; button in Postman and then copy your code.</p>
<blockquote>
If you choose not to use Postman, you can use the json library. See the use of <tt class="docutils literal">json.dumps()</tt>to convert a dictionary to a JSON object in Example #2 below</blockquote>
</div>
<div class="section" id="formatting-your-request">
<h2>Formatting Your Request</h2>
<ol class="arabic simple">
<li>Paste your Postman headers, payload and url into your existing code.</li>
<li>You may want to use a dict or <a class="reference external" href="https://www.blog.pythonlibrary.org/2020/04/07/python-101-working-with-strings/">string formatting</a> to pass values to your request parameters or url.</li>
<li>If the API uses a token or other form of authorization that needs to be refreshed intermittently, I usually have a function that returns a token. <tt class="docutils literal">token = fetch_token()</tt> Then put the token in the headers dict.&nbsp; <tt class="docutils literal">{&quot;Authorization&quot;: f&quot;basic <span class="pre">{token}&quot;}</span></tt> Finally pass your headers and payload to your&nbsp; <tt class="docutils literal">requests.get</tt> or <tt class="docutils literal">requests.request</tt> function along with the endpoint url. You're now ready to test the request.</li>
</ol>
</div>
<div class="section" id="python-installation">
<h2>Python Installation</h2>
<p>You can install <tt class="docutils literal">requests</tt> with <a class="reference external" href="https://pythonmarketer.wordpress.com/2018/01/20/how-to-python-pip-install-new-libraries/">pip</a>. Alternatively, <tt class="docutils literal">http.client</tt> is included within the Python standard library. If you want to convert HTTP response data to a dataframe or csv, install <tt class="docutils literal">pandas.</tt></p>
<p><tt class="docutils literal">python <span class="pre">-m</span> pip install requests</tt></p>
<p><tt class="docutils literal">python <span class="pre">-m</span> pip install pandas</tt></p>
</div>
<div class="section" id="example-1-get-the-geolocation-details-of-any-public-location-with-the-google-api">
<h2>Example #1: <tt class="docutils literal">GET</tt> the geolocation details of any public location with the Google API</h2>
<p>This was modified from another example of <a class="reference external" href="https://www.geeksforgeeks.org/get-post-requests-using-python/">Google's Geolocation API</a>. To use this, you need to <a class="reference external" href="https://developers.google.com/maps/documentation/geolocation/intro">create a developer account with Google</a> and paste your API keys below.</p>
<pre class="literal-block">
import requests
# import pandas as pd

&quot;&quot;&quot;Find the best double-cheeseburger + fries $7 can buy.&quot;&quot;&quot;
payload = {&quot;key&quot;:&quot;Add_Google_API_Key_Here&quot;, &quot;address&quot;:&quot;Redhot Ranch&quot;}
# optional: set a 5 second timeout for the http request
r = requests.get(url=&quot;https://maps.googleapis.com/maps/api/geocode/json&quot;,
                 params=payload,
                 timeout=5)
print(r.text)
print(r.status_code)
data = r.json()

# extracting latitude, longitude and formatted address of the first matching location
latitude = data['results'][0]['geometry']['location']['lat']
longitude = data['results'][0]['geometry']['location']['lng']
formatted_address = data['results'][0]['formatted_address']
print(longitude)
print(latitude)
print(formatted_address)

# optional: convert response into a dataframe with pandas
# location_df = pd.json_normalize(data['results'])
# location_df.to_csv('Locations.csv')
</pre>
<p><strong>Above you can see:</strong></p>
<ul class="simple">
<li><tt class="docutils literal">requests</tt> makes it easy to see the server's text response also with <tt class="docutils literal">response.text</tt></li>
<li><tt class="docutils literal">requests</tt> also makes JSON encoding easy with <tt class="docutils literal">response.json()</tt></li>
<li>I like to use <tt class="docutils literal">pd.json_normalize()</tt> to convert the response object to a dataframe.</li>
</ul>
</div>
<div class="section" id="example-2-encode-a-python-dictionary-to-json-string-and-post-to-a-hypothetical-api">
<h2>Example #2: Encode a Python dictionary to json string and <tt class="docutils literal">POST</tt> to a hypothetical API</h2>
<ol class="arabic simple">
<li>Create a simple dictionary with request body data and pretty inspect it with pprint.</li>
<li>Convert it to encoded json string with <tt class="docutils literal">json.dumps</tt> from the standard library's <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads">json module</a>.</li>
<li><tt class="docutils literal">POST</tt> the encoded JSON to the endpoint url with requests.</li>
</ol>
<pre class="literal-block">
import pprint
import json
import requests

def convert_dict_to_json_object():
    &quot;&quot;&quot;Create request body with fictional contact details.&quot;&quot;&quot;
    payload = {
        &quot;first_name&quot;:&quot;P&quot;,
        &quot;last_name&quot;:&quot;Sherman&quot;,
        &quot;address&quot;:&quot;42 Wallaby Way&quot;,
        &quot;address_2&quot;:&quot;&quot;,
        &quot;city&quot;:&quot;Sydney&quot;,
        &quot;state&quot;:&quot;NSW&quot;,
        &quot;country&quot;:&quot;AU&quot;,
        &quot;zip&quot;:&quot;2000&quot;
        }
    pprint.pprint(payload)
    json_str = json.dumps(payload, ensure_ascii=True)
    # encode json str to utf-8
    return json_str.encode(&quot;utf-8&quot;)

def create_new_contact(json_str):
    &quot;&quot;&quot;
    This is a fictional API request.
    Passing a json object to requests.
    Decoding server response with response.json(),
    Returning a contact id by calling the data's keys.
    &quot;&quot;&quot;
    headers = {
        &quot;Authorization&quot;: f&quot;Bearer {token}&quot;,
        &quot;Content-Type&quot;: &quot;application/json&quot;,
        &quot;cache-control&quot;: &quot;no-cache&quot;,
        &quot;Postman-Token&quot;: f&quot;{postman_token}&quot;
        }
    r = requests.request(method=&quot;POST&quot;,
                         url=&quot;https://SomeSoftwareAPI.com/contacts/&quot;,
                         data=json_str,
                         headers=headers)
    data = r.json()
    print(data.keys())
    contact_id = data['contact_id'] # call dict keys to get their values
    return contact_id

json_str = convert_dict_to_json_object()
contact_id = create_new_contact(json_str)
</pre>
<!--  -->
<blockquote>
<p><strong>requests.request keyword argument alternatives for passing data</strong></p>
<p><strong>params</strong>&nbsp;‚Äì (optional) Dictionary, list of tuples or bytes to send in the query string for the&nbsp;<tt class="docutils literal">`Request</tt> &lt;<a class="reference external" href="https://2.python-requests.org/en/master/api/#requests.Request">https://2.python-requests.org/en/master/api/#requests.Request</a>&gt;`__.</p>
<p><strong>data</strong>&nbsp;‚Äì (optional) Dictionary, list of tuples, bytes, or file-like object to send in the body of the&nbsp;<tt class="docutils literal">`Request</tt> &lt;<a class="reference external" href="https://2.python-requests.org/en/master/api/#requests.Request">https://2.python-requests.org/en/master/api/#requests.Request</a>&gt;`__.</p>
<p><strong>json</strong>&nbsp;‚Äì (optional) A JSON serializable Python object to send in the body of the&nbsp;<tt class="docutils literal">`Request</tt> &lt;<a class="reference external" href="https://2.python-requests.org/en/master/api/#requests.Request">https://2.python-requests.org/en/master/api/#requests.Request</a>&gt;`__.</p>
<p><strong>[</strong><a class="reference external" href="https://2.python-requests.org/en/master/api/">requests API documentation</a><strong>]</strong></p>
</blockquote>
<p><strong>&quot;Gotchyas&quot; To Avoid</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">Status codes</a> are your friend. They offer a hint at why your request is not working. If you see 200 or 201, that's a good sign. They're usually helpful, but sometimes they can be misleading.</li>
<li>Ensure you are defining the correct content-type. I had an experience where Postman defined two conflicting <tt class="docutils literal"><span class="pre">content-type</span></tt> headers and it <a class="reference external" href="https://github.com/postmanlabs/postman-code-generators/issues/215">caused my request to fail</a>. The server's error message indicated the problem was in my JSON, so it took me a while to figure out the headers were the problem.</li>
<li>Sometimes it makes a difference if your url has <tt class="docutils literal"><span class="pre">http://</span></tt> vs. <tt class="docutils literal"><span class="pre">https://</span></tt> in it. Usually <tt class="docutils literal"><span class="pre">https://</span></tt> is preferred.**&nbsp;**</li>
</ul>
<p><strong>Sidebar:</strong><a class="reference external" href="https://requests.readthedocs.io/en/master/user/advanced/">requests.Session()</a></p>
<p>You might be able to improve performance by using a requests <a class="reference external" href="https://requests.readthedocs.io/en/master/user/advanced/">&quot;session&quot; object</a>.</p>
<pre class="literal-block">
&quot;&quot;&quot;
a session adds a &quot;keep-alive&quot; header to your HTTP connection.
It can be used to store cookies across requests.
&quot;&quot;&quot;
import requests
s = requests.Session()
for page in range(0, 2):
    url = f&quot;https://SomeSoftwareAPI.com/contacts/{str(page)}&quot;
    r = s.get(url)
    print(r.text)
</pre>
<p><strong>Dig deeper into requests by raising your HTTPConnection.debuglevel</strong></p>
<p><strong>HTTPResponse.debuglevel:</strong> A debugging hook. If <tt class="docutils literal">`debuglevel</tt> &lt;<a class="reference external" href="https://docs.python.org/3/library/http.client.html#http.client.HTTPResponse.debuglevel">https://docs.python.org/3/library/http.client.html#http.client.HTTPResponse.debuglevel</a>&gt;`__ is greater than zero, messages will be printed to stdout as the response is read and parsed. <strong>-</strong><a class="reference external" href="https://docs.python.org/3/library/http.client.html#http.client.HTTPResponse.debuglevel">http.client Python Docs</a></p>
<pre class="literal-block">
from http.client import HTTPConnection
import requests
HTTPConnection.debuglevel = 1
payload = {&quot;key&quot;:&quot;Add_Google_API_Key_Here&quot;, &quot;address&quot;:&quot;90 Miles&quot;}
url = &quot;https://maps.googleapis.com/maps/api/geocode/json&quot;
r = requests.get(url=url, params=payload, timeout=5)
print(r.text)
</pre>
<p><strong>Conclusion</strong></p>
<p>I remember APIs seemed mysterious and daunting before I had used them. But like all things, they can be conquered with knowledge, understanding and tenacity to keep trying until you figure it out. Good luck!</p>
<p><strong>Requests Documentation</strong></p>
<p><a class="reference external" href="https://requests.readthedocs.io/en/master/api/">requests.request() API documentation</a></p>
<p><a class="reference external" href="https://2.python-requests.org/en/master/api/#requests.get">requests.get() API documentation</a></p>
<p><a class="reference external" href="https://2.python-requests.org/en/master/api/#requests.post">requests.post() API documentation</a></p>
<p><strong>Supplementary Reading</strong></p>
<p><a class="reference external" href="https://developers.google.com/web/tools/chrome-devtools/network/reference#timing-explanation">Google's HTTP Timing Explanation</a></p>
<p><a class="reference external" href="https://github.com/Rolstenhouse/unofficial-apis">List of Interesting &quot;Unofficial&quot; APIs</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Proxy_server">Proxy servers</a></p>
<p><a class="reference external" href="https://pawelmhm.github.io/asyncio/python/aiohttp/2016/04/22/asyncio-aiohttp.html">Making 1 million requests with python-aiohttp</a></p>
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/how-to-make-json-requests-with-python.html">posted at 05:41</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/chicago-coding-http-json-pandas-programming.html" rel="tag">Chicago, coding, HTTP, json, pandas, programming</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/api.html" class="tags">api</a>
                    &nbsp;<a href="https://lofipython.com/tag/data.html" class="tags">data</a>
                    &nbsp;<a href="https://lofipython.com/tag/python.html" class="tags">python</a>
                    &nbsp;<a href="https://lofipython.com/tag/requests.html" class="tags">requests</a>
                    &nbsp;<a href="https://lofipython.com/tag/sandwiches.html" class="tags">sandwiches</a>
                    &nbsp;<a href="https://lofipython.com/tag/web.html" class="tags">web</a>
                </div>
            </article>            <h4 class="date">May 09, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/when-random-isnt-so-random-the-time-i-accidentally-postcard-bombed-some-people.html" rel="bookmark" title="Permanent Link to &quot;Assessing The Marketing Effects of Randomization Failure&quot;">Assessing The Marketing Effects of Randomization Failure</a>
                </h2>

                
                

                <p><strong>Preface</strong></p>
<p>I always enjoy reading when technical people share their stories of the times things went a little haywire. Times when, despite their best intentions, a solution didn't work as planned and it ends in unpleasant or catastrophic failure. I had an experience like this recently, so here's my &quot;oops&quot; story. Fortunately, I think this falls closer to the unpleasant end of the spectrum.</p>
<p><strong>Finding A Solution</strong></p>
<p>My employer needed a way to create postcard contact lists to mail 500,000 people each month. About 2 years in with the company, the old postcard system was breaking down and no one knew how to fix it. The guy who built it left the company. I never knew him and he didn't leave behind much help for anyone to fix his creation.</p>
<p>For my team, it was easier to create the contacts lists by drawing contact data out of our CRM with <a class="reference external" href="https://requests.readthedocs.io/en/master/">requests</a> and formatting the data with <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html">pandas</a>. So that's what I did to help us deliver the postcards. (Let's set aside the debate on the strategic value of postcards.)</p>
<p>Things were going smooth for a few months. The new system was creating the lists and nothing appeared to change. The system is still in use today we are more reliable than the old system in its partially degraded state. But there were some growing pains.</p>
<p><strong>The Moment of</strong> <a class="reference external" href="https://twitter.com/jamesorharry/status/1100717726547562503">Ely</a></p>
<blockquote>
ELY (n.) The first, tiniest inkling you get that something, somewhere, has gone terribly wrong. [Douglas Adams, The Meaning of Liff]</blockquote>
<p>We began to hear murmurs of the same contacts getting mailed each month from our senders. The script was supposed to draw a certain allocation of contacts at random for each sender. I knew I used <tt class="docutils literal">`df.sample(n=1)</tt> &lt;<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sample.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sample.html</a>&gt;`__ from pandas to randomize the contact pool. The contacts were definitely getting randomized.</p>
<p>Then one day while making a change requested by our stakeholders, I noticed some code I had written that looked sort of like this:</p>
<pre class="literal-block">
def remove_duplicates(df):
    &quot;&quot;&quot;Remove duplicates and randomize the order of the rows.&quot;&quot;&quot;
    original = df.copy(deep=True)
    df = format_for_duplicate_removal(df)
    df = df.drop_duplicates().sample(n=1)
    deduped_contacts = original[original.index.isin(df.index)]
    return deduped_contacts
</pre>
<p><strong>The idea of this function was to:</strong></p>
<ul class="simple">
<li>create a throwaway copy of the original dataframe with <tt class="docutils literal">df.copy()</tt></li>
<li>format the throwaway for better duplicate removal</li>
<li><tt class="docutils literal">drop_duplicates()</tt> and randomize the dataframe's order of the rows with <tt class="docutils literal">df.sample(n=1)</tt></li>
<li>return those rows from the original dataframe, preserving original data but in randomized order</li>
</ul>
<p><strong>Discovering The Error</strong></p>
<p>Looks great, right? Can you spot my error? Here's where I went wrong: I needed to randomize the data that gets returned. But instead, I randomized the throwaway dataframe. I never once altered the order of the original table. I did remove the duplicates, but the row order of the original dataframe never changed.</p>
<p><strong>Assessing the Damage</strong></p>
<p>It took me a few months after I wrote the code to realize. That was enough time for a small fraction of our customers to get postcard bombed.</p>
<p>Suppose you have two postcard campaigns every month. Both campaigns are drawing from the same contact source data. Both lists are created by the same script with nearly the same logic. That's ok if you randomize the contact order or the list is static. But if you don't randomize them and it's supposed to be a &quot;random&quot; draw campaign, that means you'll likely end up sending to the same people in both campaigns. That's exactly what happened. I accidentally postcard bombed 'em.</p>
<p>Thankfully, only a small percent of our &quot;senders&quot; were opted into both campaigns. What does that mean for those senders? Their contacts got <a class="reference external" href="https://www.youtube.com/watch?v=SSPewc--3yY">NFL blitzed</a> for 3 months straight. Instead of getting 1 or maybe 2 postcards a month if they're really lucky, they received 2 a month, each month until I caught the error. We bombarded about 3,000 lucky potential customers each month during that time. Some of them let us know they thought it was excessive.</p>
<blockquote>
The opposite of love is not hate, it's indifference. - Elie Wiesel</blockquote>
<p><strong>Sidebar On Analog Marketing</strong></p>
<p>I think postcards are still relevant as a Marketing tool in 2020. From an environmental perspective, I prefer going digital. Some people let us know when we mail them that they feel the same way and then we stop mailing them. But I think there's something tangible about real things you can hold in your hands. Postcards also tend to get a reaction, even if it's not a good one. Sometimes that reaction is an email stating, &quot;DON'T EVER MAIL ME AGAIN!!!&quot; üòÜ</p>
<p><strong>For the record, I changed my mistake to this:</strong></p>
<pre class="literal-block">
def remove_duplicates(df):
    &quot;&quot;&quot;Remove duplicates and randomize the order of the rows.&quot;&quot;&quot;
    original = df.copy(deep=True)
    df = format_for_duplicate_removal(df)
    df = df.drop_duplicates()
    deduped_contacts = original[original.index.isin(df.index)]
    randomized_contacts = deduped_contacts.sample(n=1)
    return randomized_contacts
</pre>
<p><strong>Or maybe something like this would be better, for clearer separation of actions:</strong></p>
<pre class="literal-block">
def remove_duplicates(df):
    &quot;&quot;&quot;Remove duplicates while preserving original data.&quot;&quot;&quot;
    original = df.copy(deep=True)
    df = format_for_duplicate_removal(df)
    df = df.drop_duplicates()
    deduped_contacts = original[original.index.isin(df.index)]
    return deduped_contacts

def randomize_contacts(df):
    &quot;&quot;&quot;Randomize the order of the rows.&quot;&quot;&quot;
    randomized_contacts = df.sample(n=1)
    return randomized_contacts
</pre>
<p><strong>In Conclusion: Mistakes Happen.</strong></p>
<p>Sometimes they have interesting consequences when you make them at a certain scale. Maybe I could have written some tests to prevent this. Maybe I should have reviewed my code a couple more times. Sometimes, we're asked to do work that stretches our mental capacity and time to the limit.</p>
<p>Additionally, it's almost always a better choice to use an existing system, rather than writing your own. But in this case, my team was put in a situation where we needed to deliver because some else's software wasn't doing the job. I did my best to fill that need. And we're still using this way to send postcards today.</p>
<p>I wish this failure didn't happen for the sake of everyone involved, but <a class="reference external" href="https://en.wikipedia.org/wiki/An_Essay_on_Criticism">to err is human</a>, right? Live and learn.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/when-random-isnt-so-random-the-time-i-accidentally-postcard-bombed-some-people.html">posted at 04:06</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-marketing-pandas-programming-python-work.html" rel="tag">coding, Marketing, pandas, programming, python, work</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/business.html" class="tags">business</a>
                    &nbsp;<a href="https://lofipython.com/tag/mistakes.html" class="tags">mistakes</a>
                    &nbsp;<a href="https://lofipython.com/tag/random.html" class="tags">random</a>
                </div>
            </article>

                <div class="clear"></div>
                <div class="pages">

                    <a href="https://lofipython.com/author/pythonmarketer2.html" class="prev_page">&larr;&nbsp;Previous</a>

                    <a href="https://lofipython.com/author/pythonmarketer4.html" class="next_page">Next&nbsp;&rarr;</a>

                    <span>Page 3 of 6</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>