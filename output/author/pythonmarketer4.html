<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link href="https://github.com/erickbytes" rel="me">
    <link rel="webmention" href="https://webmention.io/lofipython.com/webmention" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lo-Fi Python | Articles by pythonmarketer</title>
    <link rel="shortcut icon" type="image/png" href="https://lofipython.com/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://lofipython.com/favicon.ico">
    <link href="https://lofipython.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lo-Fi Python Full Atom Feed" />
    <link href="https://lofipython.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Lo-Fi Python Full RSS Feed" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="@erickbytes" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>

                <li class="ephemeral selected"><a href="https://lofipython.com/author/pythonmarketer4.html">pythonmarketer</a></li>
                <li><a href="https://lofipython.com/">Home</a></li>
                <li><a href="feeds/all.rss.xml">RSS</a></li>
                <li><a href="feeds/all.atom.xml">Atom</a></li>
                <li><a href="https://github.com/erickbytes/lofipython">Github</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="https://lofipython.com/">
            <image src='images/python-powered-h-140x182.png' class="avatar" width="50px" /><span class="site_title">Lo-Fi Python</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Jan 05, 2022</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/how-to-track-python-script-completion.html" rel="bookmark" title="Permanent Link to &quot;How to Track Python Script Completion&quot;">How to Track Python Script Completion</a>
                </h2>

                
                

                <p>Did your script run to completion? Sure, you might log some tracebacks along the way or terminate the program early with <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.exit">sys.exit()</a>. But did your script actually run completely to the end? I have yet to use the <a class="reference external" href="https://docs.python.org/3/library/trace.html">Trace module</a> but it seems worth checking out also. Visualization tools like <a class="reference external" href="https://github.com/alexmojaki/heartrate">heartrate</a> are worth mentioning too depending on how you are running your scripts. Task runners typically have run status tracking as well. I like having a visual confirmation by logging some sort of information when a script finishes as intended. It's nice to know when your scripts finished or not. Use logging and Trace to up your reliability of your scripts.</p>
<p><strong>An easy way to track this is with the logging module:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="k">def</span> <span class="nf">improvise</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Improv Tutorial: https://www.youtube.com/watch?v=C6wY9OwqJ2A&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Boom! Detective Michael Scarn, I&#39;m with the FBI!&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Error occurred during improv.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="n">FORMAT</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(clientip)-15s</span><span class="s1"> </span><span class="si">%(user)-8s</span><span class="s1"> </span><span class="si">%(message)s</span><span class="s1">&#39;</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;improvise.log&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">FORMAT</span><span class="p">)</span>
<span class="n">improvise</span><span class="p">()</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Improvisation finished!&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/how-to-track-python-script-completion.html">posted at 11:49</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python-scripts.html" rel="tag">coding, programming, python, Scripts</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/logging.html" class="tags">logging</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-scripts.html" class="tags">python scripts</a>
                    &nbsp;<a href="https://lofipython.com/tag/reliability.html" class="tags">reliability</a>
                    &nbsp;<a href="https://lofipython.com/tag/tracking.html" class="tags">tracking</a>
                </div>
            </article>            <h4 class="date">Dec 31, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/phone-number-cleaning-regex-pandas-series-example.html" rel="bookmark" title="Permanent Link to &quot;Phone Number Cleaning Regex + pandas Series Example&quot;">Phone Number Cleaning Regex + pandas Series Example</a>
                </h2>

                
                

                <p>This is a solution I worked out recently to strip phone numbers into a uniform format. To install <a class="reference external" href="https://pandas.pydata.org/docs/getting_started/install.html">pandas with pip</a>, enter in command prompt:</p>
<pre class="code python literal-block">
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pandas</span>
</pre>
<p>The pandas library has regex built in and it's pretty neat! Behold the power of pandas and a <a class="reference external" href="https://en.wikipedia.org/wiki/Regular_expression">regular expression</a> to do trivial telephone tidying:</p>
<div class="wp-image-6382 figure">
<img alt="strip phone formatting with Python" src="https://pythonmarketer.files.wordpress.com/2021/12/pandas-example-7-3.41.12-pm.png?w=561" style="width: 767px; height: 150px;" />
</div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;(010) 001-1010&quot;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Phone&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;str&quot;</span><span class="p">)</span>
<span class="c1"># remove parentheses, hyphens and spaces with pandas + regex</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">pat</span><span class="o">=</span><span class="s2">&quot;\(|\)|-| &quot;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="c1"># resulting number: &quot;0100011010&quot;</span>
</pre></div></td></tr></table></div>
<p><strong>Regex is cool.</strong></p>
<p>Grasping the intricacies of what this code is doing feels elegant when you connect the dots.. or pipes. The replace is done via a pandas <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/series.html#api-series-str">str accessor</a>. In the pat string, the parentheses are escaped with slashes and separated by pipes &quot;|&quot;. They act as an <a class="reference external" href="https://realpython.com/python-or-operator/">or operator</a>, succinctly chaining multiple characters together for matching and in this case replacing them with nothing. Pretty nifty. If you read the <a class="reference external" href="https://pandas.pydata.org/docs/">pandas docs</a>, you'll find regex is accessible in different parts of the API. Dive in, it's some of my favorite documentation to snoop. There is so much you can do with pandas. This example demonstrates how its flexible functions get the job done efficiently.</p>
<p><strong>Further Reading:</strong></p>
<p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html">pandas.Series documentation</a></p>
<p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.str.replace.html">pandas str.replace documentation</a></p>
<p><a class="reference external" href="http://regex.info/blog/2006-09-15/247">Source of the famous ‚ÄúNow you have two problems‚Äù quote</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/phone-number-cleaning-regex-pandas-series-example.html">posted at 14:19</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-pandas-programming-python.html" rel="tag">coding, pandas, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/data-cleaning.html" class="tags">data cleaning</a>
                    &nbsp;<a href="https://lofipython.com/tag/regex.html" class="tags">regex</a>
                </div>
            </article>            <h4 class="date">Dec 19, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/tools-tips-to-beat-memoryerror-in-your-python-scripts.html" rel="bookmark" title="Permanent Link to &quot;Memory Monitoring Python Libraries + Tools&quot;">Memory Monitoring Python Libraries + Tools</a>
                </h2>

                
                

                <p>If you write Python code, there's probably been a time or two when you saw the dreaded <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#MemoryError">&quot;MemoryError&quot;</a>.
This happens after one of your Python scripts stops because your computer has no spare <a class="reference external" href="https://en.wikipedia.org/wiki/Random-access_memory">RAM</a> to execute it.
I recently experienced this frustration whilst trying to write hundreds of thousands of csv files. However, this time I grasped for tools that support smarter memory management.
Now, I can watch my computer's memory bounce around with the Windows Resource Monitor. Python has quite a few memory profiling libraries for monitoring memory too!</p>
<p><strong>Python Libraries and Guides</strong></p>
<p><a class="reference external" href="https://docs.python.org/3/c-api/memory.html">Memory Management Overview</a>, Python documentation</p>
<p><a class="reference external" href="https://github.com/pythonprofilers/memory_profiler">Memory Profiler</a>: &quot;monitor memory usage of Python code&quot;</p>
<p><a class="reference external" href="https://github.com/giampaolo/psutil">psutil</a>: &quot;Cross-platform lib for process and system monitoring in Python&quot;</p>
<p><a class="reference external" href="https://github.com/benfred/py-spy">py-spy</a>: &quot;Sampling profiler for Python programs&quot;</p>
<p><a class="reference external" href="https://github.com/joerick/pyinstrument">pyinstrument</a>: &quot;üö¥ Call stack profiler for Python. Shows you why your code is slow!&quot;</p>
<p><a class="reference external" href="https://github.com/plasma-umass/scalene">Scalene</a>: &quot;a high-performance, high-precision CPU, GPU, and memory profiler for Python&quot;</p>
<p><a class="reference external" href="https://github.com/nicolargo/glances">Glances</a>: &quot;Glances an Eye on your system. A top/htop alternative for GNU/Linux, BSD, Mac OS and Windows operating systems.&quot;</p>
<p><a class="reference external" href="https://github.com/sumerc/yappi">Yappi</a>: &quot;Yet Another Python Profiler, but this time thread &amp; coroutine &amp; greenlet aware.&quot;</p>
<p><a class="reference external" href="https://github.com/pythonspeed/filprofiler">Fil</a>: &quot;A Python memory profiler for data processing and scientific computing applications&quot; (<a class="reference external" href="https://www.youtube.com/watch?v=2nKvzVIUjLE&amp;ab_channel=PyninsulaOfficial">Video</a>)</p>
<p><a class="reference external" href="https://github.com/pyutils/line_profiler">line_profiler</a>: &quot;Line-by-line profiling for Python&quot;</p>
<p><a class="reference external" href="https://github.com/vpelletier/pprofile">pprofile</a>: &quot;Line-granularity, thread-aware deterministic and statistic pure-python profiler&quot;</p>
<p><a class="reference external" href="https://github.com/zhuyifei1999/guppy3/">Guppy 3</a>: &quot;Python programming environment and heap analysis toolset&quot;</p>
<p><em>See also:</em> <a class="reference external" href="https://docs.python.org/3/library/profile.html">The Python Profilers</a>, Python documentation</p>
<blockquote>
<p>CPython standard distribution comes with three deterministic profilers. <tt class="docutils literal">cProfile</tt>, <tt class="docutils literal">Profile</tt> and <tt class="docutils literal">hotshot</tt>. <tt class="docutils literal">cProfile</tt> is implemented
as a C module based on <tt class="docutils literal">lsprof</tt>, <tt class="docutils literal">Profile</tt> is in pure Python and <tt class="docutils literal">hotshot</tt> can be seen as a small subset of a cProfile.</p>
<p>Yappi Github, <a class="reference external" href="https://github.com/sumerc/yappi">https://github.com/sumerc/yappi</a></p>
</blockquote>
<p><strong>Windows Tools</strong></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Windows_Task_Manager#:~:text=The%20program%20can%20be%20started,typing%20taskmgr%20in%20the%20File">Task Manager</a>: Windows process management tool with some memory analytics</p>
<p><a class="reference external" href="https://help.tableau.com/current/server/en-us/perf_collect_perfmon.htm">Collect Data in Windows with Performance Monitor</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Resource_Monitor">Resource Monitor</a>: Windows tool with Memory, CPU, Disk and Network monitoring tabs</p>
<div class="wp-image-6300 figure">
<img alt="Resource Monitor can stop processes from running and view in use, standby (Cached) and free memory. This shows 7 Python scripts running and 49% of total memory is being consumed. Looks like we are running steady and safely below &quot;MemoryError&quot; overflow. We might be able to add a few more scripts with 51% of RAM available!" src="https://pythonmarketer.files.wordpress.com/2021/12/resource-monitor-labels-full.jpg?w=796" />
<p class="caption">Resource Monitor can stop processes from running and view in use, standby (Cached) and free memory. This shows 7 Python scripts running and 49% of total memory is being consumed. Looks like we are running steady and safely below &quot;MemoryError&quot; overflow. We might be able to add a few more scripts with 51% of RAM available!</p>
</div>
<p><strong>Memory Tips and Guides</strong></p>
<ul class="simple">
<li>Use only the data you need. Any data you read in and aren't using is held in memory. The <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html">usecols argument</a> in pandas is a great way to read a csv and only use the columns you need.</li>
<li><a class="reference external" href="https://pythonspeed.com/articles/chunking-pandas/">Reading data in chunks</a> with the <a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v1.3.5/pandas/io/parsers/readers.py#L491-L586">chunksize argument</a> is another way to reduce memory usage for large datasets.</li>
<li><a class="reference external" href="https://pythonspeed.com/articles/pandas-dataframe-series-memory-usage/">Measuring the memory usage of a Pandas dataframe</a></li>
<li>Some tools are line oriented, others are function oriented. If your code contains large functions, you might favor a line based profiling tool.</li>
<li>Be aware of the overhead some memory tools may incur. memory_profile was clocked with a whopping 270x slowdown per the Scalene PyCon talk below. The talk shows an awesome comparison of these Python profiling libraries:</li>
</ul>
<div class="wp-image-6330 figure">
<img alt="Scalene Pycon US 2021 Talk" src="https://pythonmarketer.files.wordpress.com/2021/12/scalene-pycon-us-2021-memory-library-comparison.png?w=1024" />
</div>
<p><strong>Recommended Reading</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://martinheinz.dev/blog/64">Profiling and Analyzing Performance of Python Programs</a></li>
<li><a class="reference external" href="http://pymotw.com/2/profile/">profile, cProfile, and pstats ‚Äì Performance analysis of Python programs.</a></li>
<li><a class="reference external" href="https://martinheinz.dev/blog/64">Profiling and Analyzing Performance of Python Programs</a></li>
<li><a class="reference external" href="https://www.tecmint.com/command-line-tools-to-monitor-linux-performance/">20 Linux Memory Management Command Line Tools</a></li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Random-access_memory">Random-access Memory (RAM)</a></li>
<li><a class="reference external" href="https://computersciencewiki.org/index.php/Cache_memory">Cache Memory</a></li>
</ul>
<p><strong>Conclusion</strong></p>
<p>When you'll see &quot;MemoryError&quot; depends on your computer's hardware, the size of your dataset and what operations you need to script out. Generally speaking, <a class="reference external" href="https://en.wikipedia.org/wiki/Input/output">I/O</a> or file reads and writes are more expensive operations.</p>
<p>The tools in this post will help you anticipate how much computing power you have available, monitor your memory consumption more closely and avoid pushing your computer past its limits.
You can do things like reading data in chunks and only using the columns you need to reduce your memory consumption.
Realizing these tools and strategies can make getting things done with Python a smoother ride.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/tools-tips-to-beat-memoryerror-in-your-python-scripts.html">posted at 11:57</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-computing-pandas-performance-programming.html" rel="tag">coding, computing, pandas, performance, programming</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/memory-profiling.html" class="tags">memory profiling</a>
                    &nbsp;<a href="https://lofipython.com/tag/monitoring.html" class="tags">monitoring</a>
                    &nbsp;<a href="https://lofipython.com/tag/python.html" class="tags">python</a>
                    &nbsp;<a href="https://lofipython.com/tag/ram.html" class="tags">RAM</a>
                    &nbsp;<a href="https://lofipython.com/tag/windows.html" class="tags">Windows</a>
                </div>
            </article>            <h4 class="date">Dec 18, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/in-praise-of-resource-scoping.html" rel="bookmark" title="Permanent Link to &quot;In Praise of Resource Scoping&quot;">In Praise of Resource Scoping</a>
                </h2>

                
                

                <p>When assessing your environment, problem or your goal, meticulously scout the tools at your disposal. When you're learning a new job, a new project or a programming language's tools for example, it pays to have a grasp of your options. Researching what documentation, guides, tools or libraries are at your disposal will help you accomplish your goal. That sounds obvious but here's what I mean.</p>
<p>Seek out resources. Bookmark links and support info in an Excel spreadsheet with a handful of columns, for example.
Soon, you'll amass a collection tools and guides to get things done. Most companies or products have &quot;resource centers&quot;,
mountains of internal documentation, tools and blogs. At many organizations, people have likely made tools for something
they needed in the past then moved on. Often these tools can be leveraged for anyone who cares enough to seek out,
read about and learn how to use them. Dig for these tools too. Find resources by googling products you use.
Subscribe to their <a class="reference external" href="https://status.box.com/">status pages</a>. Look for other tools that may help you in a pinch
like <a class="reference external" href="https://support.goto.com/webinar/system-check-attendee">GoToWebinar's system check</a> to help someone figure out what's wrong
with their browser. I love these types of browser-based troubleshooting software. These are ways to gain a better understanding of technologies
that might affect or improve your productivity or day to day goals.</p>
<p>I think of &quot;resource scoping&quot; as crawling these types of resources for every tool, guide and support contact that might good to know. The effort you put in to scope available resources is worth the time spent. Check out the &quot;resource scoping&quot;
I did in <a class="reference external" href="https://lofipython.com/python-libraries-tools-resources-for-creative-and-academic-writers/">this post I wrote focused on tools for writers</a>!</p>
<div class="wp-image-6282 figure">
<img alt="cartoon media types" src="https://pythonmarketer.files.wordpress.com/2021/12/pixel-cells-gce7fcdb43_640.png?w=640" />
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/in-praise-of-resource-scoping.html">posted at 11:09</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/productivity-work.html" rel="tag">productivity, work</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/documentation.html" class="tags">documentation</a>
                    &nbsp;<a href="https://lofipython.com/tag/research.html" class="tags">research</a>
                    &nbsp;<a href="https://lofipython.com/tag/tools.html" class="tags">tools</a>
                </div>
            </article>            <h4 class="date">Nov 06, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/what-is-your-circle-of-the-internet.html" rel="bookmark" title="Permanent Link to &quot;What is Your Circle of the Internet?&quot;">What is Your Circle of the Internet?</a>
                </h2>

                
                

                <p>This morning I'm meditating on my usual apps or websites I visit through the course of a typical day. I wonder how limited or expansive it could be in the span of all that's waiting to be consumed on the internet. I like reading online or physical books too and writing. Consider your own circle of the internet. What sites do you frequent? What do you consume? This is more rhetorical. It's good to pose the question and consider what you might be missing. I recently downloaded a bunch of nature and hiking apps. Maybe that means I want more of that in my life. <a class="reference external" href="https://www.youtube.com/watch?v=hgw_yprN_-w&amp;ab_channel=LiliDVLima">Happy trails</a>.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/what-is-your-circle-of-the-internet.html">posted at 11:29</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/apps-internet-life.html" rel="tag">apps, internet, life</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/introspection.html" class="tags">introspection</a>
                    &nbsp;<a href="https://lofipython.com/tag/web-browsing.html" class="tags">web browsing</a>
                </div>
            </article>            <h4 class="date">Oct 30, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/meta-blog-mediocre-september-ad-campaign-results.html" rel="bookmark" title="Permanent Link to &quot;WordPress Ad Campaign Results from a Typical Blog&quot;">WordPress Ad Campaign Results from a Typical Blog</a>
                </h2>

                
                

                <p>In September 2021, I tested out the recommended ads runner, <a class="reference external" href="https://wordads.co/">WordAds</a>, on this WordPress blog. 6,182 ads were served over the course of a month, earning $0.86 from impressions and clicks. My average CPM or cost per thousand impressions was $0.14. My blog averages about 1,600 views a month at the moment, mostly fueled by various search engines. Here's an example of one ad that ran:</p>
<div class="wp-image-6185 figure">
<img alt="**Example Ad Run on This Site Shown Above**" src="https://pythonmarketer.files.wordpress.com/2021/10/wordads-ad-1.png?w=877" />
<p class="caption"><strong>Example Ad Run on This Site Shown Above</strong></p>
</div>
<p>In my WordPress account, I upgraded to the business plan. This gave me access to WordPress plug-ins. I enabled the <a class="reference external" href="https://yoast.com/wordpress/plugins/seo/">Yoast SEO plug-in</a> and activated its site optimization. I also enabled the maximum ads possible in my settings. In spite of these efforts, the results were sparse. Maybe there's more that I could have done. But this blog is passive and more like a hobby at the moment. I'm ok with a blog that makes $0.86 per month. Maybe someday it will be worth more. But I enjoy writing so it's all good. My skills grow and maybe I share something with someone across the world. That's what keeps me coming back.</p>
<p>I concluded I will not be running ads anytime soon. I wanted to get a baseline of what I was leaving on the table by not running ads. Now I can project when I might tap into the blog's potential traffic revenue, if ever. It seems I would need much higher views per month before ads makes sense with my level of traffic, 65 blog followers and minor social media clout.</p>
<p>There's also the added benefit of not serving up people's data to ad companies. Ads seem to be a generally accepted way to earn from your internet labors. But right now, they're not for this blog. Good luck monetizing your blog. Or just writing for the hell of it!</p>
<div class="wp-image-6182 figure">
<img alt="Wordpress Ad Campaign Analytics" src="https://pythonmarketer.files.wordpress.com/2021/10/sept-2021-ad-campaign-results.png?w=1024" />
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/meta-blog-mediocre-september-ad-campaign-results.html">posted at 19:32</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/marketing-meta-writing.html" rel="tag">Marketing, meta, writing</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/ad-campaign.html" class="tags">ad campaign</a>
                    &nbsp;<a href="https://lofipython.com/tag/seo.html" class="tags">SEO</a>
                </div>
            </article>            <h4 class="date">Sep 23, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/a-learning-use-case-for-black-python-code-formatter.html" rel="bookmark" title="Permanent Link to &quot;What I Learned from Black, Python's "Uncompromising" Code Formatter&quot;">What I Learned from Black, Python's &quot;Uncompromising&quot; Code Formatter</a>
                </h2>

                
                

                <p>Black is a code formatting tool that I have been testing out recently to see what the hype is about. It is the defacto &quot;uncompromising code formatter in Python&quot;. I normally do not use any code formatters since I'm not required to use them. This short post aims to convince you that Black is an insightful way to see the parts of your code that are dangerously unreadable.</p>
<p>I have found it interesting to see what black does with my gnarliest code. It has taught me what is considered &quot;good formatting&quot; by some Pythonistas. The areas where I see the most improvement is how it enforces <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP-8</a>'s characters per line limit. Often before, I didn't know how to break my code into several lines. My scripts tended to have one-liners trailing off the edge of my text editor. Black teaches you new ways to organize your code and makes it easier to understand. Now I write my code like Black the first time instead of letting it trail off the screen.</p>
<p>Initially I was hesitant to try Black because I didn't want to sabotage my own code style. But since running Black on a few of my scripts, it has taught me new ways to write code. Give Black a chance and you will learn how to write more readable Python.</p>
<p>Here's the project on GitHub: <a class="reference external" href="https://github.com/psf/black">https://github.com/psf/black</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/a-learning-use-case-for-black-python-code-formatter.html">posted at 10:12</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python.html" rel="tag">coding, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/black-python.html" class="tags">Black Python</a>
                    &nbsp;<a href="https://lofipython.com/tag/pep-8.html" class="tags">PEP-8</a>
                    &nbsp;<a href="https://lofipython.com/tag/writing-code.html" class="tags">writing code</a>
                </div>
            </article>            <h4 class="date">Sep 09, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/write-more-code-write-less-code.html" rel="bookmark" title="Permanent Link to &quot;Write More Code, Write Less Code&quot;">Write More Code, Write Less Code</a>
                </h2>

                
                

                <p><strong>Write More Code</strong></p>
<p>Write code everyday. Code fast and break things. Cherish your tracebacks. Keep going back, no matter how hopeless it may seem. Code habitually. Learn how to code. Get better at code. Love code.</p>
<p><strong>Write Less Code</strong></p>
<p>Use as few lines as possible. Nothing looks better than a program shorter than 50 or 100 lines! Avoid aggressively gnarly one-liners. Use sensible one-liners or [<em>gasp</em>] for loops. Read other people's code.</p>
<p>Write more code, write less code.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/write-more-code-write-less-code.html">posted at 17:11</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding.html" rel="tag">coding</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/code.html" class="tags">code</a>
                    &nbsp;<a href="https://lofipython.com/tag/coding-practice.html" class="tags">coding practice</a>
                    &nbsp;<a href="https://lofipython.com/tag/how-to-code.html" class="tags">how to code</a>
                </div>
            </article>            <h4 class="date">Sep 06, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/yoast-api-python-example-with-requests-pandas.html" rel="bookmark" title="Permanent Link to &quot;Yoast SEO API Python Example With requests + pandas&quot;">Yoast SEO API Python Example With requests + pandas</a>
                </h2>

                
                

                <p>Lately I've been checking out the <a class="reference external" href="https://yoast.com/wordpress/plugins/seo/">Yoast SEO plug-in</a> and their <a class="reference external" href="https://developer.yoast.com/customization/apis/rest-api">REST API</a>. The API returns all of the SEO metadata, meta tags, schema.org data, etc. for your Wordpress blog posts. Here's a Yoast API Python example script to fetch post metadata via requests and pandas:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">fetch_metadata</span><span class="p">(</span><span class="n">post_url</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the Yoast API response as pandas dataframe.&quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://atomic-temporary-107329037.wpcomstaging.com/wp-json/yoast/v1/get_head?url=</span><span class="si">{</span><span class="n">post_url</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
    <span class="n">response_dict</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">metadata_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">response_dict</span><span class="p">[</span><span class="s1">&#39;json&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">metadata_df</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/erickbytes/Python-Marketer-Reader-Analytics/blob/master/dataset/2020_pythonmarketer.com_post_views.xlsx?raw=true.xlsx&#39;</span>
<span class="n">posts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="c1"># update url domain with pandas .str accessor</span>
<span class="n">posts</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">posts</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">pat</span><span class="o">=</span><span class="s1">&#39;.wordpress&#39;</span><span class="p">,</span> <span class="n">repl</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">posts</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">posts</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">fetch_metadata</span><span class="p">)</span>
<span class="n">metadata_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">posts</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">]))</span>
<span class="n">metadata_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;Wordpress Blog Post Yoast API Metadata.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div></td></tr></table></div>
<p><strong>What this script is doing:</strong></p>
<ol class="arabic simple">
<li>Read a list of my blog posts from Github into a <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html">pandas dataframe</a>.</li>
<li>Use <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.apply.html">pandas .apply</a> to fetch the metadata for each post url.</li>
<li>Deserialize + normalize the JSON response.</li>
<li>Convert to a pandas dataframe and store in a pandas Series named 'metadata'.</li>
<li>Merge the series and write the metadata to a csv file.</li>
</ol>
<p><strong>The Payoff</strong>:</p>
<p>You'll end up with blobs of JSON formatted metadata to sift through or wrangle to your liking! Check out the <a class="reference external" href="https://developer.yoast.com/">Yoast documentation</a> if you're interested in finding out more about their APIs.</p>
<p><strong>New to APIs?</strong></p>
<p>It's ok if so, we all were once. Check out my <a class="reference external" href="https://lofipython.com/how-to-make-json-requests-with-python/">guide to making HTTP requests with Python</a> if you want to see more API examples.</p>
<div class="wp-image-5922 figure">
<img alt="SEO Overview" src="https://pythonmarketer.files.wordpress.com/2021/10/e5f7c-image.png" style="width: 640px; height: 451px;" />
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/yoast-api-python-example-with-requests-pandas.html">posted at 14:12</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/apis-coding-http-programming-python.html" rel="tag">APIs, coding, HTTP, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/python-wordpress-blog-seo.html" class="tags">Python Wordpress Blog SEO</a>
                    &nbsp;<a href="https://lofipython.com/tag/seo.html" class="tags">SEO</a>
                    &nbsp;<a href="https://lofipython.com/tag/yoast-api.html" class="tags">Yoast API</a>
                </div>
            </article>            <h4 class="date">Aug 15, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/how-to-open-firefox-with-webbrowser-on-ubuntu-linux.html" rel="bookmark" title="Permanent Link to &quot;Opening Firefox Via the webbrowser Module + RPA Tools&quot;">Opening Firefox Via the webbrowser Module + RPA Tools</a>
                </h2>

                
                

                <p>webbrowser is a convenient Python standard library module. It opened my
Firefox browser on my Ubuntu Linux operating system running on a
Chromebook. This code is adapted from a <a class="reference external" href="https://pythonexamples.org/python-open-url-in-firefox-browser/">Python Examples blog post</a>.
Below is a list of other browsers you can open with webbrowser. At the
bottom of this post, you'll find more tools to interact with browsers
and GUIs programmatically.</p>
<pre class="code python literal-block">
<span class="kn">import</span> <span class="nn">webbrowser</span><span class="w">

</span><span class="n">firefox_sh</span> <span class="o">=</span> <span class="s2">&quot;/usr/lib/firefox/firefox.sh&quot;</span><span class="w">
</span><span class="n">webbrowser</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;firefox&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">webbrowser</span><span class="o">.</span><span class="n">BackgroundBrowser</span><span class="p">(</span><span class="n">firefox_sh</span><span class="p">))</span><span class="w">
</span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://lofipython.com&quot;</span><span class="w">
</span><span class="n">webbrowser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;firefox&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open_new_tab</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="w">
</span><span class="nb">print</span><span class="p">(</span><span class="n">webbrowser</span><span class="o">.</span><span class="n">_browsers</span><span class="p">)</span>
</pre>
<figure class="wp-block-table is-style-regular"><table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Type Name</th>
<th class="head">Class Name</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal">'mozilla'</tt></td>
<td><tt class="docutils literal"><span class="pre">Mozilla('mozilla')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'firefox'</tt></td>
<td><tt class="docutils literal"><span class="pre">Mozilla('mozilla')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'netscape'</tt></td>
<td><tt class="docutils literal"><span class="pre">Mozilla('netscape')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'galeon'</tt></td>
<td><tt class="docutils literal"><span class="pre">Galeon('galeon')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'epiphany'</tt></td>
<td><tt class="docutils literal"><span class="pre">Galeon('epiphany')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'skipstone'</tt></td>
<td><tt class="docutils literal"><span class="pre">BackgroundBrowser('skipstone')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'kfmclient'</tt></td>
<td><tt class="docutils literal">Konqueror()</tt></td>
</tr>
<tr><td><tt class="docutils literal">'konqueror'</tt></td>
<td><tt class="docutils literal">Konqueror()</tt></td>
</tr>
<tr><td><tt class="docutils literal">'kfm'</tt></td>
<td><tt class="docutils literal">Konqueror()</tt></td>
</tr>
<tr><td><tt class="docutils literal">'mosaic'</tt></td>
<td><tt class="docutils literal"><span class="pre">BackgroundBrowser('mosaic')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'opera'</tt></td>
<td><tt class="docutils literal">Opera()</tt></td>
</tr>
<tr><td><tt class="docutils literal">'grail'</tt></td>
<td><tt class="docutils literal">Grail()</tt></td>
</tr>
<tr><td><tt class="docutils literal">'links'</tt></td>
<td><tt class="docutils literal"><span class="pre">GenericBrowser('links')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'elinks'</tt></td>
<td><tt class="docutils literal"><span class="pre">Elinks('elinks')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'lynx'</tt></td>
<td><tt class="docutils literal"><span class="pre">GenericBrowser('lynx')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'w3m'</tt></td>
<td><tt class="docutils literal"><span class="pre">GenericBrowser('w3m')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">'windows-default'</span></tt></td>
<td><tt class="docutils literal">WindowsDefault</tt></td>
</tr>
<tr><td><tt class="docutils literal">'macosx'</tt></td>
<td><tt class="docutils literal"><span class="pre">MacOSX('default')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'safari'</tt></td>
<td><tt class="docutils literal"><span class="pre">MacOSX('safari')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">'google-chrome'</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Chrome('google-chrome')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'chrome'</tt></td>
<td><tt class="docutils literal"><span class="pre">Chrome('chrome')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal">'chromium'</tt></td>
<td><tt class="docutils literal"><span class="pre">Chromium('chromium')</span></tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">'chromium-browser'</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Chromium('chromium-browser')</span></tt></td>
</tr>
</tbody>
</table>
<figcaption><p><a class="reference external" href="https://docs.python.org/3/library/webbrowser.html#webbrowser.get">webbrowser docs</a></p>
</figcaption></figure><p><strong>Check out these other browsergui automation tools:</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://pyautogui.readthedocs.io/en/latest/">pyautogui</a></li>
<li><a class="reference external" href="https://www.selenium.dev/selenium/docs/api/py/">Selenium</a></li>
<li><a class="reference external" href="https://github.com/tebelorg/RPA-Python">RPA for Python</a></li>
<li><a class="reference external" href="https://github.com/robotframework/robotframework">robotframework</a></li>
<li><a class="reference external" href="https://github.com/kelaberetiv/TagUI">TagUI</a></li>
<li><a class="reference external" href="https://github.com/RaiMan/SikuliX1">Sikuli</a></li>
<li><a class="reference external" href="https://github.com/open-rpa/openrpa">Open RPA</a></li>
<li><a class="reference external" href="https://powerautomate.microsoft.com/en-us/blog/automate-tasks-with-power-automate-desktop-for-windows-10-no-additional-cost/">Power Automate</a></li>
<li><a class="reference external" href="https://github.com/ariya/phantomjs">PhantomJS</a></li>
<li><a class="reference external" href="https://slimerjs.org/">SlimerJS</a></li>
</ul>
<p><em>see also:</em>
| <a class="reference external" href="https://en.wikipedia.org/wiki/Robotic_process_automation">Robot Process Automation</a>
| <a class="reference external" href="https://github.com/luruke/browser-2020">Things You Can Do With a Browser in 2020</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/how-to-open-firefox-with-webbrowser-on-ubuntu-linux.html">posted at 23:13</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/automation-coding-gui-programming-python.html" rel="tag">automation, coding, gui, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/firefox.html" class="tags">Firefox</a>
                    &nbsp;<a href="https://lofipython.com/tag/rpa.html" class="tags">RPA</a>
                </div>
            </article>

                <div class="clear"></div>
                <div class="pages">

                    <a href="https://lofipython.com/author/pythonmarketer3.html" class="prev_page">&larr;&nbsp;Previous</a>

                    <a href="https://lofipython.com/author/pythonmarketer5.html" class="next_page">Next&nbsp;&rarr;</a>

                    <span>Page 4 of 10</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>