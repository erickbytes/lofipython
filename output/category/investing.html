<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python Marketer | articles in the "investing" category</title>
    <link rel="shortcut icon" type="image/png" href="https://pythonmarketer.com/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://pythonmarketer.com/favicon.ico">
    <link href="https://pythonmarketer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Python Marketer Full Atom Feed" />
    <link href="https://pythonmarketer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Python Marketer Full RSS Feed" />
    <link href="https://pythonmarketer.com/feeds/investing.atom.xml" type="application/atom+xml" rel="alternate" title="Python Marketer Categories Atom Feed" />
    <link href="https://pythonmarketer.com/feeds/investing.rss.xml" type="application/rss+xml" rel="alternate" title="Python Marketer Categories RSS Feed" />
    <link rel="stylesheet" href="https://pythonmarketer.com/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="https://pythonmarketer.com/theme/css/pygments.css" type="text/css" />
    <style> 
    @media (prefers-color-scheme: light) {
        :root {
            --main-bg-color: #FFFFFF;
            --accent-color: #FFFFFF;
            --tab-bg-hover: #d3d3d3;
            --info-bg-color: #CCC;
        }
    }
    </style>
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="@erickbytes" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>

                <li class="ephemeral selected"><a href="https://pythonmarketer.com/category/investing.html">investing</a></li>
                <li><a href="https://pythonmarketer.com/">Home</a></li>
                <li><a href="feeds/all.rss.xml">RSS</a></li>
                <li><a href="feeds/all.atom.xml">Atom</a></li>
                <li><a href="https://github.com/erickbytes/divbull">Github</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="https://pythonmarketer.com/">
            <image src='python-powered-h-140x182.png' class="avatar" width="50px" /><span class="site_title">Python Marketer</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Jan 16, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://pythonmarketer.com/pick-stocks-like-a-pro-with-ffn.html" rel="bookmark" title="Permanent Link to &quot;Pick Stocks Intelligently with ffn&quot;">Pick Stocks Intelligently with ffn</a>
                </h2>

                
                

                <p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>How do you calculate stock valuation metrics like <a href="https://www.investopedia.com/terms/s/sharperatio.asp">Sharpe ratio</a>?</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>Recently I've been reading about common <a href="https://www.suredividend.com/ratios-metrics/">stock valuation metrics</a> and wondered how I can apply them to my stock portfolio. I started reading about different metrics, sketching formulas and entertained writing a script to calculate these metrics. But Python has no shortage of finance-related libraries. After some furious googling I found <a href="https://github.com/pmorissette/ffn">ffn</a>, a way better option than rolling my own formulas. It's a "financial function" library, installable with pip.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>It will be interesting to observe how these metrics vary in my portfolio and learn more of <a href="http://pmorissette.github.io/ffn/ffn.html">ffn's API</a>. I like that they use <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html">pandas dataframes</a> within their library because I'm already familiar with them. At minimum, it's good to understand what stock formulas purport to measure and what it means if the measure is low or high. It makes sense to compare stocks in similar industries or competitors like <a href="https://finance.yahoo.com/quote/NKE/">NKE</a> and <a href="https://finance.yahoo.com/quote/ADDYY?p=ADDYY&amp;.tsrc=fin-srch">ADDYY</a>. This is a neat tool for stock nerds who want to level up their stock analysis, make smart decisions and ideally pad the portfolio!</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>The funny thing is... my lowest university grade was a "C" in my only Finance class. It wasn't easy for me to grasp. But with Python it's a little more interesting and easier to apply. Anyone can level up their finance skills thanks to a cornucopia of finance calculation libraries in the Python ecosystem.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>Recommended Reading: <a href="https://pmorissette.github.io/ffn/index.html#a-brief-introduction">A Brief Introduction - ffn documentation</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>Install ffn with pip:</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><code>python -m pip install ffn</code></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>Here's the code to get stock data with <a href="https://pmorissette.github.io/ffn/quick.html">ffn</a>:</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:code --&gt;</code></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">ffn</span>

<span class="c1"># ffn.get returns a pandas dataframe of market data.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">ffn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s1">&#39;tsla,spot,nflx,nke,addyy&#39;</span><span class="p">,</span> 
    <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2019-01-01&#39;</span><span class="p">,</span> 
    <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2020-12-31&#39;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span> 
<span class="n">stats</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">calc_stats</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">display</span><span class="p">())</span>
</code></pre></div>

<p><code>&lt;!-- /wp:code --&gt;</code></p>
<p><code>&lt;!-- wp:image {"id":5165,"sizeSlug":"large","linkDestination":"none"} --&gt;</code></p>
<p><img alt="" class="wp-image-5165" src="https://pythonmarketer.files.wordpress.com/2021/01/2019-2020-top-stock.jpg?w=794"></p>
<p><code>&lt;!-- /wp:image --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>side note on the pyfolio library</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>I first considered using pyfolio to pull stock data. It is not "out of the box" ready per se to deliver the results pictured in their <a href="https://pythonmarketer.wordpress.com/2021/01/16/pick-stocks-like-a-pro-with-pyfolio/">"single stock" example</a> documentation. You'd need to find another way to fetch your market data or somehow patch the Yahoo Finance API within pyfolio. I preferred <a href="http://pmorissette.github.io/ffn/quick.html">ffn</a>, mostly because it worked right away after pip installing it and running the above code.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>2023 Update:</strong> ffn and pyfolio depend on the Yahoo Finance API, which changes sometimes break these libraries. Troubleshooting traceback errors may be required.</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><strong>Try these other Python financial analysis libraries:</strong></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://financetrain.com/best-python-librariespackages-finance-financial-data-scientists/">Best Python Libraries/Packages for Finance and Financial Data Scientists</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://docs.python.org/3/library/statistics.html">python's built-in statistics module</a> - <a href="https://github.com/mementum/backtrader">Backtrader</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://github.com/bpsmith/tia">tia: Toolkit for integration and analysis</a> - <a href="https://github.com/peerchemist/finta">FinTA (Financial Technical Analysis)</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://pydata.github.io/pandas-datareader/index.html">pandas-datareader</a> - <a href="https://github.com/matplotlib/mplfinance#usage">mplfinance</a> - <a href="https://github.com/robertmartin8/PyPortfolioOpt">PyPortfolioOpt</a> - <a href="https://github.com/mrjbq7/ta-lib">TA-Lib Python Port</a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p><a href="https://github.com/erickbytes/finsou.py">finsou.py</a> (CLI written by me)</p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:paragraph --&gt;</code></p>
<p>see more: <a href="https://github.com/wilsonfreitas/awesome-quant">awesome-quant</a><a href="https://github.com/bpsmith/tia#overview"></a></p>
<p><code>&lt;!-- /wp:paragraph --&gt;</code></p>
<p><code>&lt;!-- wp:image {"id":5037,"sizeSlug":"large","linkDestination":"none"} --&gt;</code></p>
<p><img alt="Image credit, ActiveState: https://www.activestate.com/blog/top-10-python-packages-for-finance-and-financial-modeling/" class="wp-image-5037" src="https://pythonmarketer.files.wordpress.com/2021/01/top10financepackages-1200x675-1.png?w=1024"></p>
<p><code>&lt;!-- /wp:image --&gt;</code></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://pythonmarketer.com/pick-stocks-like-a-pro-with-ffn.html">posted at 23:21</a>
                    &nbsp;&middot;&nbsp;<a href="https://pythonmarketer.com/category/investing.html" rel="tag">investing</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://pythonmarketer.com/tag/money.html" class="tags">money</a>
                    &nbsp;<a href="https://pythonmarketer.com/tag/personal-finance.html" class="tags">personal finance</a>
                    &nbsp;<a href="https://pythonmarketer.com/tag/python.html" class="tags">python</a>
                    &nbsp;<a href="https://pythonmarketer.com/tag/stock-formulas.html" class="tags">stock formulas</a>
                    &nbsp;<a href="https://pythonmarketer.com/tag/stocks.html" class="tags">stocks</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://pythonmarketer.com/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="https://pythonmarketer.com/feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>