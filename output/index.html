<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lo-Fi Python</title>
    <link rel="shortcut icon" type="image/png" href="https://lofipython.com/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://lofipython.com/favicon.ico">
    <link href="https://lofipython.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Lo-Fi Python Full Atom Feed" />
    <link href="https://lofipython.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Lo-Fi Python Full RSS Feed" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="https://lofipython.com/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="@erickbytes" />
</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>
                <li class="selected"><a href="https://lofipython.com/">Home</a></li>
                <li><a href="feeds/all.rss.xml">RSS</a></li>
                <li><a href="feeds/all.atom.xml">Atom</a></li>
                <li><a href="https://github.com/erickbytes/lofipython">Github</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="https://lofipython.com/">
            <image src='images/python-powered-h-140x182.png' class="avatar" width="50px" /><span class="site_title">Lo-Fi Python</span>
            </a></h1></div>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Oct 13, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/how-i-sped-up-a-python-get-request-by-25%.html" rel="bookmark" title="Permanent Link to &quot;How I Sped Up My Python CLI By 25%&quot;">How I Sped Up My Python CLI By 25%</a>
                </h2>

                
                

                <p>I recently noticed that the <a class="reference external" href="https://github.com/erickbytes/finsou.py">Yahoo Finance stock summary command line interface (CLI)</a> I made seemed to be slowing down. Seeking to understand what was happening in my code, I remembered Python has multiple profilers available like Scalene, line_profiler, cProfile and pyinstrument. In this case, I was running my code on Python version 3.11.</p>
<p>First, I tried <a class="reference external" href="https://docs.python.org/3/library/profile.html#module-cProfile">cProfile</a> from the Python standard library. It is nice to have without any install required! However, I found its output to be tough to interpret. I also remembered I liked a <a class="reference external" href="https://www.youtube.com/watch?v=5iEf-_7mM1k">talk I saw about Scalene</a>, which gave a thorough overview of several Python profilers and how they're different. So next, I tried Scalene. Finally, I found pyinstrument and can safely say it is now my favorite Python profiler. This post will focus on how I used <a class="reference external" href="https://pyinstrument.readthedocs.io/en/latest/guide.html">pyinstrument</a> to make my command line tool faster.</p>
<p><strong>Install pyinstrument with pip</strong></p>
<pre class="code console literal-block">
<span class="go">pip install pyinstrument</span>
</pre>
<p>I preferred the format in which pyinstrument presented the modules, functions and time they consumed in a tree structure. Scalene's percentage-based diagnosis was useful also. Scalene showed the specific lines where code was bottlenecked, whereas pyinstrument showed the time spent in each module and function. I liked that I could see time of specific  functions from the external modules I was using with pyinstrument. For example, the beautiful soup and rich modules both consumed shockingly little time. However, the pandas module took a whole second.</p>
<p>Just importing the pandas module and doing nothing else was taking up to and sometimes over a second each time my CLI ran. On a script that takes about four seconds to execute, one second is 25% of the total run time! Once I realized this, I decided to only import the pandas module if my CLI's --csv argument was given. I was only using pandas to sort stocks and write a CSV. It wasn't critical functionality for my CLI.</p>
<p>My CLI script accepts a stock ticker as an argument. The below command fetches a stock report from Yahoo Finance and prints to the terminal. Swapping out &quot;python&quot; for pyinstrument runs the script and prints a pyinstrument report to your console.</p>
<p><strong>Fetch a stock report from Yahoo.</strong></p>
<pre class="code console literal-block">
<span class="go">pyinstrument finsou.py -s GOOG</span>
</pre>
<p><strong>pyinstrument Results With Normal Pandas Import</strong></p>
<p><strong>GOOG, Google</strong></p>
<img alt="profiling a Python script with pyinstrument, before with GOOG" src="https://lofipython.com/blog/images/goog-pandas-import.png" />
<p><strong>MSFT, Microsoft</strong></p>
<img alt="profiling a Python script with pyinstrument, before with MSFT" src="https://lofipython.com/blog/images/msft-pandas-import.png" />
<p>The line for the pandas module looks like this:</p>
<blockquote>
0.946 &lt;module&gt;  pandas/__init__.py:1</blockquote>
<p><strong>pyinstrument Results With Pandas Import Only If Necessary</strong></p>
<p>After changing the pandas module to only import if needed, it is no longer eating almost a second of time. As a result, the script runs about second faster each time! Below are the pyinstrument reports for two different stocks after changing my pandas import to only be called if it was actually used:</p>
<p><strong>GOOG, Google</strong></p>
<img alt="profiling a Python script with pyinstrument, after with GOOG" src="https://lofipython.com/blog/images/goog-no-pandas-import-fast.png" />
<p><strong>NVDA, Nvidia</strong></p>
<img alt="profiling a Python script with pyinstrument, after with NVDA" src="https://lofipython.com/blog/images/nvda-no-pandas-import.png" />
<p><strong>Sidebar: HTTP Request Volatility</strong></p>
<blockquote>
The time that the script runs fluctuates about half a second to a few seconds based on the HTTP get request. It lags even more if my internet connection is weaker or Yahoo throttles my request because I've made too many in a short period of time. My time savings weren't gained from tinkering with the HTTP request, even though that was a time-eater. I noticed my get request tends to fluctate quite a bit and sometimes causes an extra delay.</blockquote>
<p><strong>Simplified Python Example to Achieve Speed Gains</strong></p>
<p>Below shows the method I used to achieve a faster CLI. Heads up, this code will not work if you run it. It's only meant to explain how I my code faster. You can find the actual script where I made this improvement <a class="reference external" href="https://github.com/erickbytes/finsou.py/blob/main/finsou.py">here on Github</a>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">rich</span> <span class="kn">import</span> <span class="nb">print</span> <span class="k">as</span> <span class="n">rprint</span>
<span class="c1"># Original import --&gt; lazy import only if csv argument given: import pandas as pd</span>

<span class="k">def</span> <span class="nf">yahoo_finance_prices</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stock</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Stonk went up.&quot;</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
    <span class="n">prog</span><span class="o">=</span><span class="s2">&quot;finsou.py&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Beautiful Financial Soup&quot;</span><span class="p">,</span>
    <span class="n">epilog</span><span class="o">=</span><span class="s2">&quot;fin soup... yum yum yum yum&quot;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="s2">&quot;--stocks&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;comma sep. stocks or portfolio.txt&quot;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="s2">&quot;--csv&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;set csv export with &quot;your_csv.csv&quot;&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="n">prices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">stock</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">stocks</span><span class="p">:</span>
    <span class="n">summary</span><span class="p">,</span> <span class="n">ah_pct_change</span> <span class="o">=</span> <span class="n">yahoo_finance_prices</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stock</span><span class="p">)</span>
    <span class="n">rprint</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[steel_blue]</span><span class="si">{</span><span class="n">summary</span><span class="si">}</span><span class="s2">[/steel_blue]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">prices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">stock</span><span class="p">,</span> <span class="n">summary</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">ah_pct_change</span><span class="p">])</span>
<span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">csv</span><span class="p">:</span>
    <span class="c1"># Importing here shaves 1 second off the CLI when CSV is not required.</span>
    <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Stock&quot;</span><span class="p">,</span> <span class="s2">&quot;Price_Summary&quot;</span><span class="p">,</span> <span class="s2">&quot;URL&quot;</span><span class="p">,</span> <span class="s2">&quot;AH_%_Change&quot;</span><span class="p">]</span>
    <span class="n">stock_prices</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">prices</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span>
    <span class="n">stock_prices</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">csv</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div></td></tr></table></div>
<p><strong>Make It Fast</strong></p>
<blockquote>
&quot;Make it work, make it better, make it fast.&quot;
- <a class="reference external" href="https://tidyfirst.substack.com/">Kent Beck</a></blockquote>
<p>That's how I sped up my Python CLI by 25%. This method bucks the convention of keeping your import statements at the top of your script. In my case, it's a hobby project so I feel ok with making the trade-off of less readable code for a snappier CLI experience. You could also consider using the standard library csv module instead of pandas.</p>
<p><strong>For Comparison, An import csv pyinstrument Report</strong></p>
<img alt="profiling an import of the Python csv module" src="https://lofipython.com/blog/images/csv-module-import.png" />
<p>I clocked the csv module import at 0.003 or three thousandths of a second with pyinstrument. That's insanely fast compared to pandas. I chose to make a quick fix by shifting the import but using the csv module could be a better long-term solution for speeding up your scripts.</p>
<p><strong>Supplementary Reading</strong></p>
<p><a class="reference external" href="https://lofipython.com/making-a-yahoo-stock-price-summary-cli-with-python">Making a Yahoo Stock Price CLI With Python</a></p>
<p><a class="reference external" href="https://docs.python.org/3/library/profile.html">The Python Profilers, Python Documentation</a></p>
<p><a class="reference external" href="https://stackoverflow.com/questions/62599036/python-requests-is-slow-and-takes-very-long-to-complete-http-or-https-request">Stack Overflow Thread About Slow HTTP Requests</a></p>
<p><a class="reference external" href="https://lofipython.com/tools-tips-to-beat-memoryerror-in-your-python-scripts">An Overview of Python Profiling and Diagnostic Tools</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/how-i-sped-up-a-python-get-request-by-25%.html">posted at 17:25</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python-python-performance-cli.html" rel="tag">coding, programming, python, python performance, CLI</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/python-cli.html" class="tags">python CLI</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-script-optimization.html" class="tags">python script optimization</a>
                    &nbsp;<a href="https://lofipython.com/tag/speeding-up-python-code.html" class="tags">speeding up python code</a>
                </div>
            </article>            <h4 class="date">Oct 10, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/making-a-yahoo-stock-price-summary-cli-with-python.html" rel="bookmark" title="Permanent Link to &quot;Making a Yahoo Stock Price Summary CLI with Python&quot;">Making a Yahoo Stock Price Summary CLI with Python</a>
                </h2>

                
                

                <p>Over the past few years, I found a few different external Python libraries that relied on a broken <a class="reference external" href="https://finance.yahoo.com/">Yahoo Finance</a> API. Apparently, the API changes frequently, leaving us developers in a tough spot troubleshooting tracebacks in order to get stock data. I wanted to check my stocks' prices from the terminal. 6 months ago, dealing with these frustrations inspired me to begin making a Python command line interface (CLI) to fetch stock info directly from the Yahoo Finance website.</p>
<p>With an idea and curiosity to see if I could make it work, I reached for the beautifulsoup4 library, the de facto HTML parser in Python. It turned out way better than I envisioned when I started. The CLI is working great, barring any changes to Yahoo's stock page HTML or CSS code. It accepts a stock ticker and grabs stock price data from the Yahoo website in your terminal. It is designed to monitor daily moves of stocks, including after hours prices.</p>
<p>Here is <a class="reference external" href="https://github.com/erickbytes/finsou.py">the Github repo with the code</a>. I've named the CLI finsou.py, which I've been pronouncing to myself as &quot;finsoupy&quot;, a word play on fin soup, short for financial soup. The standard library <a class="reference external" href="https://docs.python.org/3/library/argparse.html">argparse module</a> provided the CLI argument ingesting functionality. The CLI uses <a class="reference external" href="https://pypi.org/project/requests/">the requests module</a>, <a class="reference external" href="https://pypi.org/project/beautifulsoup4/">beautifulsoup4</a> and <a class="reference external" href="https://docs.python.org/3/library/re.html">re</a> modules. With these 3 modules, it retrieves stock info and organizes it into a tidy, color coded report that is printed to your console. After getting the essential functionality working, I added improvements like the <a class="reference external" href="https://github.com/Textualize/rich">rich module</a> to add in terminal color formatting and <a class="reference external" href="https://github.com/tqdm/tqdm">tqdm</a> for a progress bar.</p>
<p>The CLI currently works after the US stock market has closed normal market hours. Additionally, after hours prices for &quot;over the counter&quot; (OTC) traded stocks are not listed on Yahoo so an error is returned for those stocks.</p>
<p><strong>Getting Started with finsou.py</strong></p>
<ol class="arabic simple">
<li>First, install the necessary Python library dependencies:</li>
</ol>
<pre class="code console literal-block">
<span class="go">pip install beautifulsoup4
pip install pandas
pip install requests
pip install rich
pip install tqdm</span>
</pre>
<ol class="arabic simple" start="2">
<li>Next, clone the Github repo:</li>
</ol>
<pre class="code console literal-block">
<span class="go">git clone https://github.com/erickbytes/finsou.py.git</span>
</pre>
<ol class="arabic simple" start="3">
<li>Change directory into the finsou.py folder that contains the Python script:</li>
</ol>
<pre class="code console literal-block">
<span class="go">cd finsou.py</span>
</pre>
<ol class="arabic simple" start="4">
<li>Query a stock's daily price summary:</li>
</ol>
<pre class="code console literal-block">
<span class="gp"># </span>Print<span class="w"> </span>a<span class="w"> </span>daily<span class="w"> </span>stock<span class="w"> </span>summary<span class="w"> </span><span class="k">for</span><span class="w"> </span>Virgin<span class="w"> </span>Galactic<span class="w"> </span><span class="o">(</span>SPCE<span class="o">)</span>.<span class="w">
</span><span class="go">python finsou.py -s SPCE</span>
</pre>
<img alt="example stock summary report" src="https://lofipython.com/blog/images/finsoupy-stock-summary.png" />
<p><strong>Fetch a stock summary for multiple companies.</strong></p>
<pre class="code console literal-block">
<span class="gp"># </span>Summarize<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>stocks.<span class="w">
</span><span class="go">python finsou.py -s BABA,SPOT,KO</span>
</pre>
<p><strong>Read a list of stocks from a .txt file.</strong></p>
<pre class="code console literal-block">
<span class="gp"># </span>Read<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>stocks<span class="w"> </span>from<span class="w"> </span>a<span class="w"> </span>text<span class="w"> </span>file<span class="w"> </span>with<span class="w"> </span>one<span class="w"> </span>ticker<span class="w"> </span>on<span class="w"> </span>each<span class="w"> </span>line.<span class="w">
</span><span class="go">python finsou.py -s portfolio.txt -c &quot;Portfolio Prices.csv&quot;</span>
</pre>
<p><strong>Research + download media from investor relations websites.</strong></p>
<p>Note: currently the code needs to be modified depending on the HTML structure of the page.</p>
<pre class="code console literal-block">
<span class="gp"># </span>Note:<span class="w"> </span>this<span class="w"> </span>is<span class="w"> </span>experimental<span class="w"> </span>and<span class="w"> </span>results<span class="w"> </span>will<span class="w"> </span>vary.<span class="w"> </span>URLs<span class="w"> </span>are<span class="w"> </span>typically<span class="w"> </span>buried<span class="w"> </span><span class="k">in</span><span class="w"> </span>nested<span class="w"> </span>span<span class="w"> </span>and<span class="w"> </span>div<span class="w"> </span>tags.<span class="w">
</span><span class="go">python finsou.py -s GRAB -r https://investors.grab.com/events-and-presentations</span>
</pre>
<p><strong>How It Works</strong></p>
<p>Check out the <a class="reference external" href="https://github.com/erickbytes/finsou.py/blob/main/finsou.py">finsou.py Python script</a> to see the complete code for how this stock report is created. Here is a brief simplified example of the logic behind the code.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">stock</span> <span class="o">=</span> <span class="s2">&quot;SNOW&quot;</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://finance.yahoo.com/quote/</span><span class="si">{</span><span class="n">stock</span><span class="si">}</span><span class="s2">/&quot;</span>
<span class="n">user_agent</span> <span class="o">=</span> <span class="s2">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.1 (KHTML, like Gecko) Chrome/43.0.845.0 Safari/534.1&quot;</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Cache-Control&quot;</span><span class="p">:</span> <span class="s2">&quot;no-cache&quot;</span><span class="p">,</span>
    <span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="n">user_agent</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<span class="n">price_tags</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span>
    <span class="n">class_</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;Fw\(b\) Fz\(36px\) Mb\(\-4px\) D\(ib\)&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">mkt_close_price</span> <span class="o">=</span> <span class="n">price_tags</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mkt_close_price</span><span class="p">)</span>
</pre></div></td></tr></table></div>
<p>First, an HTTP request is made and parsed by beautiful soup using Python's html.parser. We can then use bs4 and regex's <a class="reference external" href="https://docs.python.org/3/library/re.html#re.compile">re.compile function</a> to return the HTML tags with a specific CSS class. Then once we have the tags, beautiful soup gives us a &quot;.string&quot; attribute for each tag to return their contents as a string. This pattern was applied to return all of the data in the stock report. To find the css classes I wanted, I right-clicked the price or data on Yahoo's website in a Chrome browser and selected &quot;Inspect&quot;. Doing this opens Chrome's developer tools and drops you into that spot in the HTML code, where you can find the class you want to target.</p>
<p><strong>No Official API, No Problem</strong></p>
<p>It felt good to prove the concept that you don't need an official API to print stock data in your terminal! If you want to check in on your portfolio's daily moves, give this CLI a try.</p>
<p><a class="reference external" href="https://github.com/erickbytes/finsou.py">finsou.py Github Repo</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/making-a-yahoo-stock-price-summary-cli-with-python.html">posted at 18:56</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python-stocks-cli.html" rel="tag">coding, programming, python, stocks, CLI</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/stock-prices-command-line.html" class="tags">stock prices command line</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-cli.html" class="tags">python CLI</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-investing-research.html" class="tags">python investing research</a>
                </div>
            </article>            <h4 class="date">Oct 02, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/an-introduction-to-the-langchain-python-library.html" rel="bookmark" title="Permanent Link to &quot;An Introduction to the LangChain Python Library&quot;">An Introduction to the LangChain Python Library</a>
                </h2>

                
                

                <p>LangChain is a lauded Python library in the <a class="reference external" href="https://en.wikipedia.org/wiki/Large_language_model">large language model</a> space. It seems to be riding along on the AI hype train as of late and is getting mentioned everywhere I look. I wrote this post to understand better, what is LangChain? Warning: I learned a lot by researching for this post! Below you'll find basic information about what LangChain is and code examples for a few of its use cases. I connected a few different sources that helped me fill in the gaps in my knowledge. After reading this, you'll have a basic understanding of what this Python module does and some of the diverse ways it can be applied.</p>
<p>A huge bonus of this library is that it has <a class="reference external" href="https://python.langchain.com/docs/get_started/quickstart">excellent documentation</a>. On the front page, they state its main value propositions.</p>
<blockquote>
<p>The main value props of LangChain are:</p>
<p>Components: abstractions for working with language models, along with a collection of implementations for each  abstraction. Components are modular and easy-to-use, whether you are using the rest of the LangChain framework or not</p>
<p>Off-the-shelf chains: a structured assembly of components for accomplishing specific higher-level tasks
Off-the-shelf chains make it easy to get started. For complex applications, components make it easy to customize existing chains and build new ones.</p>
</blockquote>
<p>The Github repo states LangChain is for &quot;Building applications with LLMs through composability&quot;. Ok, so what is composability?</p>
<blockquote>
Composability is a system design principle that deals with the inter-relationships of components. A highly composable system provides components that can be selected and assembled in various combinations to satisfy specific user requirements. - <a class="reference external" href="https://en.wikipedia.org/wiki/Large_language_model">Wikipedia</a></blockquote>
<p>LangChain is important because it provides the function of &quot;orchestration&quot; in an LLM serving workflow:</p>
<blockquote>
<p>The leading orchestration tool right now in the LLM space is LangChain, and it is a marvel. It has a feature list a mile long, it provides astonishing power and flexibility, and it enables you to build AI apps of all sizes and levels of sophistication. But with that power comes quite a bit of complexity. Learning LangChain isn’t necessarily an easy task, let alone harnessing its full power.</p>
<p>- Stephen Hood, <a class="reference external" href="https://hacks.mozilla.org/2023/07/so-you-want-to-build-your-own-open-source-chatbot">So you want to build your own open source chatbot… – Mozilla Hacks</a></p>
</blockquote>
<p>Sometimes an orchestration tool is required, but sometimes you can &quot;roll your own&quot; in a sense, as Mozilla did in their post about serving an LLM. When making your own large language model, you'll want to consider how it will be orchestrated. This is the functionality LangChain provides. In more complex LLM flows that involve tasks like writing code and subsequently running it, LangChain is essential.</p>
<blockquote>
<p>Often people hook up LLMs as part of a sequence of operations. LangChain does this. It puts an LLM in series with some other tools. For instance, LLMs can’t do math, they just spout plausible answers. They can write code, because they’ve read so much of it in their training. By themselves, they can’t use it. But configure a LangChain agent with both an LLM and a Python interpreter, and it can answer word problems. First ask the LLM for a plan to solve the problem, given a Python interpreter; then when the LLM returns code, run it; then provide the answer to the LLM so it can structure the final response.</p>
<p>- Jessica Kerr, <a class="reference external" href="https://jessitron.com/2023/09/04/a-developers-guide-to-integrating-with-llms">A Developer’s Starting Point for Integrating with LLMs</a></p>
</blockquote>
<p>You'll also want to consider if you need to tune your own AI model, but beware that this can cost a lot of money in compute resources consumed. It seems more likely that for the AI-layperson coder, going with an off-the-shelf model via an API or open source code base makes more fiscal sense and is probably easier. However, you may achieve a unique quality of response by tuning your model to your specific use case, or providing examples as tokens for the model to consume before responding.</p>
<blockquote>
<p>Model training needs lots and lots of machines in relatively close proximity to one another. It needs the absolute latest, greatest GPUs.</p>
<p>- Matthew Prince, James Governor, <a class="reference external" href="https://redmonk.com/jgovernor/2023/07/17/cloudflare-as-an-ai-play-an-interview-with-ceo-matthew-prince">Cloudflare as an AI play. An Interview with Matthew Prince</a></p>
</blockquote>
<p><strong>An Example LLM Stack With LangChain</strong></p>
<img alt="Overview of an LLM stack from Mozilla" src="https://lofipython.com/blog/images/MozillaAssistantdiagram.png" />
<p>source: <a class="reference external" href="https://hacks.mozilla.org/2023/07/so-you-want-to-build-your-own-open-source-chatbot">So you want to build your own open source chatbot… – Mozilla Hacks</a></p>
<p><strong>Installing the Python Libraries with pip</strong></p>
<pre class="code console literal-block">
<span class="go">pip install langchain[all]</span>
</pre>
<pre class="code console literal-block">
<span class="go">pip install openai</span>
</pre>
<p><strong>The Two Types of Language Models</strong></p>
<blockquote>
<p>There are two types of language models, which in LangChain are called:</p>
<p>LLMs: this is a language model which takes a string as input and returns a string</p>
<p>ChatModels: this is a language model which takes a list of messages as input and returns a message</p>
</blockquote>
<p><strong>Calling OpenAI Without a Chain from LangChain</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">openai_api_key</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;What would be a good company name for a company that makes colorful socks?&quot;</span>
<span class="n">llm</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="c1"># &gt;&gt; Feetful of Fun</span>
<span class="n">chat_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="c1"># &gt;&gt; Socks O&#39;Color</span>
</pre></div></td></tr></table></div>
<p><strong>Chaining Components with LangChain</strong></p>
<p>The chains are a Python class, as demonstrated in this psuedo-code from their docs.</p>
<blockquote>
<p>Using an LLM in isolation is fine for simple applications, but more complex applications require chaining LLMs - either with each other or with other components.</p>
<p>LangChain provides the Chain interface for such &quot;chained&quot; applications. We define a Chain very generically as a sequence of calls to components, which can include other chains. The base interface is simple:</p>
<p>- <a class="reference external" href="https://python.langchain.com/docs/modules/chains/">LangChain Documentation, Chains How-To</a></p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><span class="k">class</span> <span class="nc">Chain</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base interface that all chains should implement.&quot;&quot;&quot;</span>

    <span class="n">memory</span><span class="p">:</span> <span class="n">BaseMemory</span>
    <span class="n">callbacks</span><span class="p">:</span> <span class="n">Callbacks</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">inputs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">return_only_outputs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">callbacks</span><span class="p">:</span> <span class="n">Callbacks</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="o">...</span>
</pre></div></td></tr></table></div>
<p><strong>Chaining Open AI Components</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">from</span> <span class="nn">langchain.prompts</span> <span class="kn">import</span> <span class="n">PromptTemplate</span>
<span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">LLMChain</span>

<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="n">PromptTemplate</span><span class="p">(</span>
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;product&quot;</span><span class="p">],</span>
    <span class="n">template</span><span class="o">=</span><span class="s2">&quot;What is a good name for a company that makes </span><span class="si">{product}</span><span class="s2">?&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">chain</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">)</span>
<span class="c1"># Run the chain only specifying the input variable.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;colorful socks&quot;</span><span class="p">))</span>
<span class="c1"># &gt;&gt; Socks O&#39;Color</span>
</pre></div></td></tr></table></div>
<p><strong>Natural Language Queries with LangChain</strong></p>
<p>These examples are shown in <a class="reference external" href="https://python.langchain.com/docs/use_cases/qa_structured/sql/">Analyzing Structured Data</a>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">from</span> <span class="nn">langchain.utilities</span> <span class="kn">import</span> <span class="n">SQLDatabase</span>
<span class="kn">from</span> <span class="nn">langchain.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">from</span> <span class="nn">langchain_experimental.sql</span> <span class="kn">import</span> <span class="n">SQLDatabaseChain</span>

<span class="c1"># The documented examples use a Chinook DB.</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabase</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="s2">&quot;sqlite:///Chinook.db&quot;</span><span class="p">)</span>
<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">db_chain</span> <span class="o">=</span> <span class="n">SQLDatabaseChain</span><span class="o">.</span><span class="n">from_llm</span><span class="p">(</span><span class="n">llm</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">db_chain</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;How many employees are there?&quot;</span><span class="p">)</span>
<span class="c1"># &gt;&gt;&gt; &#39;There are 8 employees.&#39;</span>
</pre></div></td></tr></table></div>
<p><strong>Text to SQL Queries With Ability to Run the Query on the Database</strong></p>
<blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">from</span> <span class="nn">langchain.utilities</span> <span class="kn">import</span> <span class="n">SQLDatabase</span>
<span class="kn">from</span> <span class="nn">langchain.chat_models</span> <span class="kn">import</span> <span class="n">ChatOpenAI</span>
<span class="kn">from</span> <span class="nn">langchain.chains</span> <span class="kn">import</span> <span class="n">create_sql_query_chain</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabase</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="s2">&quot;sqlite:///Chinook.db&quot;</span><span class="p">)</span>
<span class="n">chain</span> <span class="o">=</span> <span class="n">create_sql_query_chain</span><span class="p">(</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">db</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">invoke</span><span class="p">({</span><span class="s2">&quot;question&quot;</span><span class="p">:</span><span class="s2">&quot;How many employees are there&quot;</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="c1"># &gt;&gt;&gt; &#39;There are 8 employees.&#39;</span>
</pre></div></td></tr></table></div>
</blockquote>
<p><strong>Use a LangChain Agent to Describe a Database Table</strong></p>
<blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">create_sql_agent</span>
<span class="kn">from</span> <span class="nn">langchain.agents.agent_toolkits</span> <span class="kn">import</span> <span class="n">SQLDatabaseToolkit</span>
<span class="c1"># from langchain.agents import AgentExecutor</span>
<span class="kn">from</span> <span class="nn">langchain.agents.agent_types</span> <span class="kn">import</span> <span class="n">AgentType</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">SQLDatabase</span><span class="o">.</span><span class="n">from_uri</span><span class="p">(</span><span class="s2">&quot;sqlite:///Chinook.db&quot;</span><span class="p">)</span>
<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">agent_executor</span> <span class="o">=</span> <span class="n">create_sql_agent</span><span class="p">(</span>
    <span class="n">llm</span><span class="o">=</span><span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
    <span class="n">toolkit</span><span class="o">=</span><span class="n">SQLDatabaseToolkit</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">db</span><span class="p">,</span> <span class="n">llm</span><span class="o">=</span><span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)),</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">agent_type</span><span class="o">=</span><span class="n">AgentType</span><span class="o">.</span><span class="n">ZERO_SHOT_REACT_DESCRIPTION</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">agent_executor</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;Describe the playlisttrack table&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>
</blockquote>
<p><strong>Description of Database Table Result</strong></p>
<blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><span class="go">&gt; Entering new AgentExecutor chain...</span>
<span class="go">Action: sql_db_list_tables</span>
<span class="go">Action Input:</span>
<span class="go">Observation: Album, Artist, Customer, Employee, Genre, Invoice, InvoiceLine, MediaType, Playlist, PlaylistTrack, Track</span>
<span class="go">Thought: The PlaylistTrack table is the most relevant to the question.</span>
<span class="go">Action: sql_db_schema</span>
<span class="go">Action Input: PlaylistTrack</span>
<span class="go">Observation:</span>
<span class="go">CREATE TABLE &quot;PlaylistTrack&quot; (</span>
<span class="go">    &quot;PlaylistId&quot; INTEGER NOT NULL,</span>
<span class="go">    &quot;TrackId&quot; INTEGER NOT NULL,</span>
<span class="go">    PRIMARY KEY (&quot;PlaylistId&quot;, &quot;TrackId&quot;),</span>
<span class="go">    FOREIGN KEY(&quot;TrackId&quot;) REFERENCES &quot;Track&quot; (&quot;TrackId&quot;),</span>
<span class="go">    FOREIGN KEY(&quot;PlaylistId&quot;) REFERENCES &quot;Playlist&quot; (&quot;PlaylistId&quot;)</span>
<span class="go">)</span>

<span class="go">/*</span>
<span class="go">3 rows from PlaylistTrack table:</span>
<span class="go">PlaylistId  TrackId</span>
<span class="go">1   3402</span>
<span class="go">1   3389</span>
<span class="go">1   3390</span>
<span class="go">*/</span>
<span class="go">Thought: I now know the final answer</span>
<span class="go">Final Answer: The PlaylistTrack table contains two columns, PlaylistId and TrackId, which are both integers and form a primary key. It also has two foreign keys, one to the Track table    and one to the Playlist table.</span>

<span class="go">&gt; Finished chain.</span>
</pre></div></td></tr></table></div>
</blockquote>
<p><strong>Versatile + Flexible for Your LLM Needs</strong></p>
<p>If you prefer using the Meta's LLaMA model over OpenAI, more power to you. LangChain can do both and many more. At the time of this writing, the following models are documented: Anthropic, Anthropic Functions, Anyscale, Azure, Azure ML Chat Online Interface, Baidu Qianfan, Bedrock Chat, ERNIE-bot Chat, Fireworks, GCP Vertex API, JinaChat, Konko, LiteLLM, Llama API, MiniMax, Ollama, OpenAI, PromptLayer ChatOpenAI and vLLM Chat.</p>
<p><strong>Wrapping Up With LangChain</strong></p>
<p>These examples represent a few things you can do with this popular Python library. You're now a step closer to creating your next AI-infused product or service. No one needs to know it's just a wrapper for OpenAI and LangChain! The library's name makes more sense once you understand a bit of its context as orchestrator. It chains together the pieces of your large language model's parts into a shiny, impressive AI solution.</p>
<p><strong>Read More:</strong></p>
<p><a class="reference external" href="https://python.langchain.com/docs/modules/chains/how_to/">LangChain Documentation, Chains How To</a></p>
<p><a class="reference external" href="https://python.langchain.com/docs/guides/deployments/">LangChain Documentation, Deployments</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/an-introduction-to-the-langchain-python-library.html">posted at 15:15</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python-artificial-intelligence-ai.html" rel="tag">coding, programming, python, artificial intelligence, AI</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/python-large-language-models.html" class="tags">python large language models</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-llm.html" class="tags">python LLM</a>
                    &nbsp;<a href="https://lofipython.com/tag/langchain-python-introduction.html" class="tags">langchain python introduction</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-llm-orchestration.html" class="tags">python LLM orchestration</a>
                </div>
            </article>            <h4 class="date">Sep 18, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/working-with-rss-in-python.html" rel="bookmark" title="Permanent Link to &quot;RSS Is Thriving: Working With RSS Python Tools&quot;">RSS Is Thriving: Working With RSS Python Tools</a>
                </h2>

                
                

                <p>There have been countless obituaries about RSS on the internet, like when Dan McKinley wrote that <a class="reference external" href="https://mcfunley.com/google-reader-killed-rss">&quot;Google Reader Killed RSS&quot;</a>. For sure, the existence of Google Reader had an impact on other readers gaining a wider audience before it was shut down by Google. This likely did have a suppressive impact on the adoption of RSS.</p>
<p>&quot;Whatever happened to RSS?&quot; is a question that murmurs thorugh the internet. The answer: it's still here and it's not going anywhere. I propose that RSS is not dead, but quietly regaining its strength and is on track to relevancy again. But did it actually fall off?</p>
<blockquote>
<strong>Did you know?</strong> RSS stands for &quot;Really Simple Syndication&quot;.</blockquote>
<p>Some say with the rise of social media and email newsletters, RSS is not worth the time. That's precisely what the social media and search engine giants want so you'll stay in their walled garden platform. Google killed Google Reader because it is not in their interests to support a syndication format that cuts out their search engine middleman role. Nonetheless, we only need to consciously choose to use RSS to bring it back to prominence. Who's with me?!</p>
<blockquote>
<p>&quot;RSS readers have not only survived in the era of social media,
but are driving more and more attention back to themselves, as people are realizing the pitfalls&quot;</p>
<p>- Brian Barrett. &quot;It's Time for an RSS Revival&quot;. Wired. <a class="reference external" href="https://www.wired.com/story/rss-readers-feedly-inoreader-old-reader">https://www.wired.com/story/rss-readers-feedly-inoreader-old-reader</a></p>
</blockquote>
<p>You'll often hear the term &quot;aggregator&quot; or &quot;reader&quot; when dealing with RSS, which both mean &quot;tool that collects multiple RSS feeds into single readable format&quot;. There are plenty of free RSS reader websites to keep up with new material from your favorite websites. Currently, I use <a class="reference external" href="https://feeder.co">Feeder</a> to keep up with the blogs I follow. Their free plan allows you to follow up to 200 RSS feeds for free. <a class="reference external" href="https://feedly.com">Feedly</a> is a commonly suggested RSS reader also.</p>
<img alt="RSS icon" src="https://lofipython.com/blog/images/rssicon.png" />
<p><strong>A Few Benefits of RSS</strong></p>
<ul>
<li><p class="first">Receive notice when a new post is published by your favorite websites and blogs.</p>
</li>
<li><p class="first">The personal data of your readers is not collected.</p>
</li>
<li><p class="first">An RSS subscription is less intrusive compared to blasting into someone's cluttered email inbox. Plus you won't end up in the spam folder.</p>
</li>
<li><p class="first">Diversify your website's traffic to be less dependent on search engines and social media platforms.</p>
<blockquote>
<p>To know approximately how much RSS traffic you have, check how many HTTP requests have an XML content type. <a class="reference external" href="https://darekkay.com/blog/rss-subscriber-count/">This blog post</a> has a good breakdown of this HTTP based approach. Typically, 6% of total HTTP requests on my blog have XML content type, indicating RSS traffic.</p>
</blockquote>
</li>
</ul>
<div class="section" id="python-rss-tools">
<h2>Python RSS Tools</h2>
<p>The rest of this post will highlight some practical Python tools and resources for RSS. The libraries used in the below code examples can be installed with <a class="reference external" href="https://pip.pypa.io/en/stable/user_guide/">pip</a>. There are also some standard library Python tools mentioned. Enjoy!</p>
<p><a class="reference external" href="https://github.com/kurtmckee/feedparser">feedparser</a>: Universal Feed Parser is a Python module for downloading and parsing syndicated feeds</p>
<p><strong>Parse an RSS feed with feedparser.</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">feedparser</span>

<span class="n">feed</span> <span class="o">=</span> <span class="s2">&quot;https://feedparser.readthedocs.io/en/latest/examples/atom10.xml&quot;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">feedparser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">feed</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;feed&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">feed</span><span class="o">.</span><span class="n">published</span><span class="p">)</span>
</pre></div></td></tr></table></div>
<p><strong>Detect a malformed RSS feed with feedparser &quot;bozo&quot;.</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">feedparser</span>

<span class="c1"># https://feedparser.readthedocs.io/en/latest/bozo.html#detecting-a-non-well-formed-feed</span>
<span class="n">feed</span> <span class="o">=</span> <span class="s2">&quot;http://feedparser.org/tests/illformed/rss/aaa_illformed.xml&quot;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">feedparser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">feed</span><span class="p">)</span>
<span class="c1"># d.bozo: An integer, either 1 or 0. Set to 1 if the feed is not well-formed XML, and 0 otherwise.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">bozo</span><span class="p">)</span>
<span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">bozo</span><span class="p">:</span>
    <span class="n">exc</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">bozo_exception</span>
    <span class="c1"># Print bozo error message.</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">getMessage</span><span class="p">())</span>
    <span class="c1"># Print line number where exception occurred.</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error at line </span><span class="si">{</span><span class="n">exc</span><span class="o">.</span><span class="n">getLineNumber</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Feed is well-formed RSS.&quot;</span><span class="p">)</span>
</pre></div></td></tr></table></div>
<p><a class="reference external" href="https://www.feedvalidator.org/">feedvalidator</a> and <a class="reference external" href="https://validator.w3.org/feed/">W3 RSS Validator</a>: check if your feed is valid RSS or Atom. Below shows how you can validate your feed using the webbrowser module with the Python CLI:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><span class="gp"># </span>Validate<span class="w"> </span>an<span class="w"> </span>RSS<span class="w"> </span>feed.
<span class="go">python -m webbrowser -t &quot;https://validator.w3.org/feed/check.cgi?url=https://example.com/feeds/all.rss.xml&quot;</span>
</pre></div></td></tr></table></div>
<p><a class="reference external" href="https://github.com/NicolasLM/atoma">atoma</a>: an Atom, RSS and JSON feed parser</p>
<p><strong>Parse an RSS feed with atoma.</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">atoma</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://example.com/feed.atom&quot;</span><span class="p">)</span>
<span class="n">feed</span> <span class="o">=</span> <span class="n">atoma</span><span class="o">.</span><span class="n">parse_atom_bytes</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">feed</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div></td></tr></table></div>
<p><strong>Additional RSS Tools, Reads + Resources</strong></p>
<p><a class="reference external" href="https://www.wired.com/story/rss-readers-feedly-inoreader-old-reader/">It's Time for an RSS Revival, Wired</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Mozilla_Thunderbird">Mozilla Thunderbird</a>: an open source RSS client</p>
<p><a class="reference external" href="https://github.com/tuan3w/awesome-tech-rss">Awesome Tech RSS</a>: a list of tech RSS feeds you can follow</p>
<p><a class="reference external" href="https://pypi.org/project/pelican-planet/">pelican-planet</a>: a Pelican static site generator plugin that allows generating a page aggregating blog articles from other web sites. The <a class="reference external" href="https://docs.getpelican.com/en/latest/">pelican Python library</a> also has built-in support for RSS and Atom feed generation.</p>
<p><a class="reference external" href="https://docs.djangoproject.com/en/4.2/ref/contrib/syndication/#module-django.contrib.syndication">Django Syndication Feed Framework</a>: built-in RSS feed framework for Django websites</p>
<p><a class="reference external" href="https://github.com/radiac/django-yarr">django-yarr</a>: a lightweight, customisable RSS reader for the Django web framework</p>
<p><a class="reference external" href="https://github.com/lkiesow/python-feedgen">python-feedgen</a>: generates atom feeds, RSS feeds and podcasts</p>
<p><a class="reference external" href="https://realpython.com/python-xml-parser/">A Roadmap to XML Parsers in Python, Real Python</a></p>
<p><a class="reference external" href="https://pypi.org/project/lxml/">lxml</a>: a Pythonic, mature binding for the libxml2 and libxslt libraries</p>
<p><a class="reference external" href="https://docs.python.org/3/library/xml.sax.handler.html">xml.sax</a> API: standard library XML validation option that is based on a Java API</p>
<p><a class="reference external" href="https://docs.python.org/3/library/xml.html">Python Documentation, XML Processing Modules</a></p>
<p><a class="reference external" href="https://github.com/RSSerpent/RSSerpent">RSSerpent</a>: open source software to create RSS feeds for websites without them</p>
<p><a class="reference external" href="http://offog.org/git/rawdog/README">rawdog</a>: an &quot;RSS aggregator without visions of grandeur&quot;</p>
<p><a class="reference external" href="https://github.com/ai6yr/rss2mastodon">RSS2mastodon</a>: a quick set of python scripts for auto-posting an RSS or Atom feed to Mastodon</p>
<p><a class="reference external" href="https://github.com/anhqle/craigslist">Craigslist RSS Scraper Python Script</a></p>
</div>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/working-with-rss-in-python.html">posted at 17:14</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python-xml-rss-writing.html" rel="tag">coding, programming, python, XML, RSS, writing</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/python-rss-tools.html" class="tags">python RSS tools</a>
                    &nbsp;<a href="https://lofipython.com/tag/rss-aggregator.html" class="tags">RSS aggregator</a>
                    &nbsp;<a href="https://lofipython.com/tag/rss-validation.html" class="tags">RSS validation</a>
                    &nbsp;<a href="https://lofipython.com/tag/parsing-rss-python.html" class="tags">parsing RSS python</a>
                    &nbsp;<a href="https://lofipython.com/tag/rss-feeds.html" class="tags">RSS feeds</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-rss-readers.html" class="tags">python RSS readers</a>
                </div>
            </article>            <h4 class="date">Sep 14, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/power-ranking-the-best-python-events-and-conferences.html" rel="bookmark" title="Permanent Link to &quot;A Power Ranking of Python's Best Events and Conferences&quot;">A Power Ranking of Python's Best Events and Conferences</a>
                </h2>

                
                

                <p>Python events and conferences are a great way to learn about a niche problem someone solved, new libraries in the ecosystem or general programming topics. Here are some of the best events I've found or experienced related to Python.</p>
<p>The events on this list can be either a live, in-person conference, smaller meetup or an online conference or seminar. Most events will post their talks on YouTube so it's easy to look up interesting talks and watch them for free.</p>
<p>This power ranking is meant to be in good fun and not taken too seriously. I ranked them according to the popularity, cost effectiveness (less $ to learn is better) and usefulness of the event for the average Pythonista. For example, DjangoCon is a very popular conference, however it is focused on a particular web framework so not as widely applicable as other events.</p>
<p><strong>Python Events Power Ranking</strong></p>
<ol class="arabic">
<li><p class="first">PyCon (insert local country or city here) aka Python conferences: PyCon US is probably the best known of this type of Python event. Many countries, cities or regions have a local version of their Python conference. There's EuroPython for all of Europe, individual countries like PyCon Portugal, PyCon Amsterdam, PyCascades (US Pacific Northwest region), <a class="reference external" href="https://www.pylatam.org/">PyCon Latam</a>, Kiwi PyCon (New Zealand), PyCon Singapore, PyCon Hong Kong, PyCon Atlanta, PyTexas, PyBeach (Los Angeles) and so on. There are so many PyCon-like options and this is barely scratching the surface. Sometimes these events include longer training sessions in addition to shorter talks. I frequently watch the talks posted to the <a class="reference external" href="https://www.youtube.com/c/pyconus">PyCon US YouTube channel</a> every year. It's a good option if you don't mind waiting weeks or months for them to drop the videos.</p>
</li>
<li><p class="first">Python &quot;User Group&quot; Meetups: often you can find free events that host a speaker or two locally. These are less intensive than a full conference and maybe last a few hours. User groups are a more chill way to learn and connect with your fellow Python developers. Shout-out to <a class="reference external" href="https://www.chipy.org/">ChiPy</a>, the Chicago Python user group I attended that hosts regular meetups monthly.</p>
<blockquote>
<p>There about 1,637 Python user groups worldwide in almost 191 cities, 37 countries and over 860,333 members.
- <a class="reference external" href="https://wiki.python.org/moin/LocalUserGroups">https://wiki.python.org/moin/LocalUserGroups</a></p>
</blockquote>
</li>
<li><p class="first">PyData: these scientific computing conferences showcase fascinating work from data professionals. I've watched a ton of PyData talks. They run these conferences in various cities and regions. Check out the <a class="reference external" href="https://www.youtube.com/&#64;PyDataTV">PyData YouTube channel</a> for technical talks. PyData is recommended by the SciPy project as well according to their website.</p>
</li>
<li><p class="first">Pyjamas: &quot;the coziest Python conference of them all&quot;, this online conference had a very casual format to watch Python talks. The diversity of hosts and speakers from across the globe brought a wide range of perspectives that I enjoyed. The event had lots of engaging talks. It was one of my favorite Python events I've seen. Check out <a class="reference external" href="https://pyjamas.live/">Pyjamas</a> for a cozy online conference experience, I hope they continue to put it on! You can watch past talks on their <a class="reference external" href="https://www.youtube.com/&#64;Pyjamasconf">YouTube channel</a> also.</p>
</li>
<li><p class="first">Python Web Conf: this 5 year old online conference boasts &quot;top names in the Python community&quot; and lasts for 5 days. In addition to typical Python talks, it includes &quot;lightning talks&quot; and &quot;end of day socials&quot;. You can watch 80 videos from Python Web Conf 2023 on <a class="reference external" href="https://www.youtube.com/playlist?list=PLt4L3V8wVnF4GJb8dekLGTNx44FNIFwdv">YouTube</a>. This event is run by Six Feet Up, a woman-owned company.</p>
</li>
<li><p class="first">PyLadies Con + PyLadies Meetups: PyLadies is &quot;a group of women developers worldwide who love the Python programming language.&quot;, per their website. In addition to their <a class="reference external" href="https://conference.pyladies.com/">annual online conference</a>, they host <a class="reference external" href="https://pyladies.com/locations/">local meetups all over the world</a>. Shout-out to all the women Python developers out there!</p>
</li>
<li><p class="first">DjangoCon: Django is a popular Python web framework for building websites. This conference is tailored for Django developers and those who want to explore one of Python's most robust web frameworks. While searching for DjangoCon events, I found conferences like <a class="reference external" href="https://djangocon.us/">DjangoCon US</a>, DjangoCon Europe and DjangoCon Africa. If you want to see what it's like, you can watch the past DjangoCon talks on their <a class="reference external" href="https://www.youtube.com/c/DjangoConUS">YouTube channel</a>.</p>
</li>
<li><p class="first">SciPy: another annual Python conference to stoke your scientific computing prowess. The SciPy conference is held annually, with a few variations like EuroSciPy, SciPy Japan and SciPy India. It's also associated with the <a class="reference external" href="https://pypi.org/project/scipy/">SciPy library</a>, an open-source software for mathematics, science, and engineering. However the SciPy library project's website states, &quot;The SciPy project doesn’t organize its own conferences.&quot; Check the <a class="reference external" href="https://scientific-python.org/calendars/">SciPy Calendar</a> for local meetups also.</p>
</li>
</ol>
<p>The Python community hosts a cornucopia of events and conferences. Go to them and learn in person or stay home and watch online. That's all for now, I hope you found Python events you didn't know about. Now go learn something new!</p>
<p><strong>Python Events Resources</strong></p>
<p><a class="reference external" href="http://lmorillas.github.io/python_events/">Interactive Visualization of Python Events</a></p>
<p><a class="reference external" href="https://pycon.org/#calendar">PyCon.org Events Calendar</a></p>
<p><a class="reference external" href="https://wiki.python.org/moin/PythonConferences">Python.org Conferences Wiki</a></p>
<p><a class="reference external" href="https://www.python.org/community/workshops/">Python.org Conferences and Workshops</a></p>
<p><a class="reference external" href="https://wiki.python.org/moin/PythonTraining">Python Training Events</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/power-ranking-the-best-python-events-and-conferences.html">posted at 01:33</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/python-events-conferences.html" rel="tag">python, events, conferences</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/python-events.html" class="tags">python events</a>
                    &nbsp;<a href="https://lofipython.com/tag/best-python-conferences.html" class="tags">best python conferences</a>
                    &nbsp;<a href="https://lofipython.com/tag/best-python-talks.html" class="tags">best python talks</a>
                </div>
            </article>            <h4 class="date">Aug 13, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/installing-python-3.11-on-ubuntu-linux.html" rel="bookmark" title="Permanent Link to &quot;How to Install Python 3.11 on a Linux Computer&quot;">How to Install Python 3.11 on a Linux Computer</a>
                </h2>

                
                

                <p>Below are the steps I followed to install Python 3.11 from my Ubuntu Linux shell. I downloaded the .tgz file from Python.org, not sure initially how to build Python from it. Once I unpacked the compressed files, I saw the build instructions in the README.rst to build a functional Python 3.11 on my Ubuntu computer. Here's how to install the speedier Python version 3.11.</p>
<p><strong>How to Install Python 3.11</strong></p>
<p>Use curl to download the Python gzip file.</p>
<pre class="code console literal-block">
<span class="go">curl https://www.python.org/ftp/python/3.11.0/Python-3.11.0.tgz --output Python-3.11.0.tgz</span>
</pre>
<img alt="download Python with curl" src="https://lofipython.com/blog/images/curl-python-install-command.png" />
<p>Unpack gzip file to folder.</p>
<pre class="code console literal-block">
<span class="go">tar -xvzf Python-3.11.0.tgz</span>
</pre>
<p>Change directory, read the README + find build commands.</p>
<pre class="code console literal-block">
<span class="go">cd Python-3.11.0
cat README.rst</span>
</pre>
<p>Build Python.</p>
<pre class="code console literal-block">
<span class="gp"># </span>Build<span class="w"> </span>Python<span class="w"> </span>on<span class="w"> </span>Unix,<span class="w"> </span>Linux,<span class="w"> </span>BSD,<span class="w"> </span>macOS,<span class="w"> </span>and<span class="w"> </span>Cygwin:<span class="w">
</span><span class="go">./configure
make
make test
sudo make install</span>
</pre>
<p><strong>Building Python on Various Platforms</strong></p>
<blockquote>
<p>This will install Python as <tt class="docutils literal">python3</tt>.</p>
<p>You can pass many options to the configure script; run <tt class="docutils literal">./configure <span class="pre">--help</span></tt>
to find out more.  On macOS case-insensitive file systems and on Cygwin,
the executable is called <tt class="docutils literal">python.exe</tt>; elsewhere it's just <tt class="docutils literal">python</tt>.</p>
<p>Building a complete Python installation requires the use of various
additional third-party libraries, depending on your build platform and
configure options.  Not all standard library modules are buildable or
useable on all platforms.  Refer to the
<a class="reference external" href="https://devguide.python.org/setup/#install-dependencies">Install dependencies</a>
section of the Developer Guide for current detailed information on
dependencies for various Linux distributions and macOS.</p>
<p>On macOS, there are additional configure and build options related
to macOS framework and universal builds.  Refer to <a class="reference external" href="https://github.com/python/cpython/blob/main/Mac/README.rst">Mac/README.rst</a>.</p>
<p>On Windows, see <a class="reference external" href="https://github.com/python/cpython/blob/main/PCbuild/readme.txt">PCbuild/readme.txt</a>.</p>
<p>- Python 3.11 Linux README.rst</p>
</blockquote>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/installing-python-3.11-on-ubuntu-linux.html">posted at 22:45</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python.html" rel="tag">coding, programming, python</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/install-python-linux.html" class="tags">install python linux</a>
                    &nbsp;<a href="https://lofipython.com/tag/installing-python-311.html" class="tags">installing Python 3.11</a>
                    &nbsp;<a href="https://lofipython.com/tag/how-to-build-python-311.html" class="tags">how to build Python 3.11</a>
                </div>
            </article>            <h4 class="date">Aug 07, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/opening-files-in-the-shell-or-terminal-with-text-editor-clis.html" rel="bookmark" title="Permanent Link to &quot;Opening Files From The Terminal With Text Editor CLIs&quot;">Opening Files From The Terminal With Text Editor CLIs</a>
                </h2>

                
                

                <p>Most text editors can open files from a computer's command line shell. Here are 8 different text editor commands for opening a file:</p>
<p><strong>IDLE (Python's Built-in Editor)</strong></p>
<pre class="code console literal-block">
<span class="go">idle file.py</span>
</pre>
<img alt="CLI help options for Python's IDLE text editor" src="https://lofipython.com/blog/images/idlecli.png" />
<p>image source: <a class="reference external" href="https://docs.python.org/3/library/idle.html#startup-and-code-execution">IDLE documentation</a></p>
<p><strong>Sublime</strong></p>
<pre class="code console literal-block">
<span class="go">subl template.rst</span>
</pre>
<img alt="using subl CLI to open files in Sublime" src="https://lofipython.com/blog/images/sublimeeditorexample.png" />
<p><strong>VS Code</strong></p>
<pre class="code console literal-block">
<span class="go">code file.py</span>
</pre>
<p><strong>Atom</strong></p>
<pre class="code console literal-block">
<span class="go">atom file.py</span>
</pre>
<p><strong>Emacs</strong></p>
<pre class="code console literal-block">
<span class="go">emacs -nw file.txt</span>
</pre>
<p>source: <a class="reference external" href="https://unix.stackexchange.com/questions/165724/open-an-emacs-file-from-terminal">Stack Overflow user Anthon</a></p>
<p><strong>Notepad++</strong></p>
<pre class="code console literal-block">
<span class="go">start notepad++ file.py</span>
</pre>
<p>source: <a class="reference external" href="https://www.w3schools.io/editor/notepad++-open/">W3 Schools</a></p>
<p><strong>TextEdit</strong></p>
<pre class="code console literal-block">
<span class="go">open -a TextEdit file.txt</span>
</pre>
<p>source: <a class="reference external" href="https://www.w3schools.io/editor/notepad++-open/">Stack Overflow user robmathers</a></p>
<p><strong>Vim</strong></p>
<pre class="code console literal-block">
<span class="go">:e file.txt</span>
</pre>
<p>source: <a class="reference external" href="https://blog.confirm.ch/mastering-vim-opening-files/">confirm blog</a></p>
<p>The ability to quickly pop open and view a file is essential. Ubuntu has the cat command to print a file's contents to the terminal screen also if you don't need to edit it. Tools like <a class="reference external" href="https://www.gnu.org/software/sed/manual/sed.html">sed</a> and <a class="reference external" href="https://www.geeksforgeeks.org/awk-command-unixlinux-examples/">awk</a> are useful for command line file editing if you prefer to keep it in the terminal.</p>
<p>Want to read more about text editors? Check out my text editor file size comparison <a class="reference external" href="https://lofipython.com/comparing-text-editors-on-ubuntu-atom-emacs-sublime-vim-vs-code">here</a>.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/opening-files-in-the-shell-or-terminal-with-text-editor-clis.html">posted at 13:56</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-text-editors.html" rel="tag">coding, programming, text editors</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/sublime-command-line.html" class="tags">sublime command line</a>
                    &nbsp;<a href="https://lofipython.com/tag/vscode-command-prompt.html" class="tags">vscode command prompt</a>
                    &nbsp;<a href="https://lofipython.com/tag/text-editor-cli.html" class="tags">text editor CLI</a>
                    &nbsp;<a href="https://lofipython.com/tag/emacs-open-text-file.html" class="tags">emacs open text file</a>
                    &nbsp;<a href="https://lofipython.com/tag/vs-code-open-script.html" class="tags">vs code open script</a>
                    &nbsp;<a href="https://lofipython.com/tag/open-in-notepad-file.html" class="tags">open in notepad++ file</a>
                </div>
            </article>            <h4 class="date">Jul 27, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/analyzing-football-aka-soccer-with-python.html" rel="bookmark" title="Permanent Link to &quot;Analyzing Football AKA Soccer With Python&quot;">Analyzing Football AKA Soccer With Python</a>
                </h2>

                
                

                <p>The world's game is fun to watch. It's obvious when a team is dominant against a weaker opponent. What gives one team an edge over another? Is it short, crisp and reliable passing resulting in a high conversion percentage? Or shots on goal? Quality touches. Clinicality in the final third is what separates the champions from the rest. Making the most of your chances. Apparently, some of the best teams <a class="reference external" href="https://statsbomb.com/news/statsbomb-data-case-studies-passing-height-and-passing-footedness/">keep their passes on the ground</a>. All of these things contribute to victory in a sense.</p>
<p>We all have our theories to what makes a great player or team. But how do we assess football performance from an analytics perspective? It is difficult to predict how teams with varying styles will match up. Fortunately, data is integrating with the football world. Extensive analytics resources and tactics now available for free online.</p>
<p>If you're interested in football analytics, there seems to be a few areas you can go. Do you need to collect data? If you can record a game correctly, it can be converted into data from which winning insights are extracted. If you are lucky enough to already have data, what does it say about player and team performance? Can you study open data from professional teams to explore your hypotheses?</p>
<p>Searching the internet, FC Python was the first thing I saw. They have some <a class="reference external" href="https://fcpython.com/free-football-data-analysis-tools">free tools</a> available for collecting data from live games. I was impressed at the Python code for <a class="reference external" href="https://fcpython.com/visualisation/football-heatmaps-seaborn">pitch heat maps</a> to track Abby Wombach's passing. Their example uses <a class="reference external" href="https://seaborn.pydata.org/">seaborn</a> and <a class="reference external" href="https://matplotlib.org/">matplotlib</a>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="kn">import</span> <span class="n">Arc</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;Data/passes.csv&quot;</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># Plot One - distinct areas with few lines</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Xstart&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Ystart&quot;</span><span class="p">],</span> <span class="n">shade</span><span class="o">=</span><span class="s2">&quot;True&quot;</span><span class="p">,</span> <span class="n">n_levels</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Plot Two - fade lines with more of them</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Xstart&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Ystart&quot;</span><span class="p">],</span> <span class="n">shade</span><span class="o">=</span><span class="s2">&quot;True&quot;</span><span class="p">,</span> <span class="n">n_levels</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Create figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Pitch Outline &amp; Centre Line</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">],</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">130</span><span class="p">,</span> <span class="mi">130</span><span class="p">],</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">130</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">65</span><span class="p">,</span> <span class="mi">65</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="c1"># Left Penalty Area</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">16.5</span><span class="p">,</span> <span class="mf">16.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">65</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">16.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">65</span><span class="p">,</span> <span class="mi">65</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">16.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="c1"># Right Penalty Area</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">130</span><span class="p">,</span> <span class="mf">113.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">65</span><span class="p">,</span> <span class="mi">65</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">113.5</span><span class="p">,</span> <span class="mf">113.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">65</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">113.5</span><span class="p">,</span> <span class="mi">130</span><span class="p">],</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="c1"># Left 6-yard Box</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">54</span><span class="p">,</span> <span class="mi">54</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">5.5</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">54</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">5.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">36</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="c1"># Right 6-yard Box</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">130</span><span class="p">,</span> <span class="mf">124.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">54</span><span class="p">,</span> <span class="mi">54</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">124.5</span><span class="p">,</span> <span class="mf">124.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">54</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mf">124.5</span><span class="p">,</span> <span class="mi">130</span><span class="p">],</span> <span class="p">[</span><span class="mi">36</span><span class="p">,</span> <span class="mi">36</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="c1"># Prepare Circles</span>
<span class="n">centreCircle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">65</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="mf">9.15</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">centreSpot</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">65</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">leftPenSpot</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">11</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">rightPenSpot</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">119</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

<span class="c1"># Draw Circles</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">centreCircle</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">centreSpot</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">leftPenSpot</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">rightPenSpot</span><span class="p">)</span>

<span class="c1"># Prepare Arcs</span>
<span class="n">leftArc</span> <span class="o">=</span> <span class="n">Arc</span><span class="p">(</span>
    <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="n">height</span><span class="o">=</span><span class="mf">18.3</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">18.3</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">theta1</span><span class="o">=</span><span class="mi">310</span><span class="p">,</span> <span class="n">theta2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span>
<span class="p">)</span>
<span class="n">rightArc</span> <span class="o">=</span> <span class="n">Arc</span><span class="p">(</span>
    <span class="p">(</span><span class="mi">119</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span> <span class="n">height</span><span class="o">=</span><span class="mf">18.3</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">18.3</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">theta1</span><span class="o">=</span><span class="mi">130</span><span class="p">,</span> <span class="n">theta2</span><span class="o">=</span><span class="mi">230</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span>
<span class="p">)</span>

<span class="c1"># Draw Arcs</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">leftArc</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">rightArc</span><span class="p">)</span>

<span class="c1"># Tidy Axes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Xstart&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Ystart&quot;</span><span class="p">],</span> <span class="n">shade</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_levels</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>

<span class="c1"># Display Pitch</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div></td></tr></table></div>
<img alt="Analyzing football with Python" src="https://lofipython.com/blog/images/pitchheatmap.png" />
<p>Impressive use of matplotlib and seaborn! This code is meant for a <a class="reference external" href="https://jupyter.org/install">Jupyter notebook</a>. I can't find the &quot;passes.csv&quot; data but suspect it is using <a class="reference external" href="https://pypi.org/project/statsbomb/">statsbomb</a>. It's a free footy dataset that's on display in this <a class="reference external" href="https://towardsdatascience.com/how-to-easily-get-football-data-with-a-python-package-without-web-scraping-c922e7ebfb41">Towards Data Science blog post</a> also.</p>
<p>In another practical example of wrangling data, Tactics FC shows how to <a class="reference external" href="https://medium.com/&#64;TacticsFC/analyzing-football-data-with-python-7b4e89c7abd8">calculate goal conversion rate with pandas</a>. I'm guessing basic statskeeping and video is collected in great quantities by analytics teams during games for professional teams. At half time, typically on TV they will show both teams' shots, passes and time of possession.</p>
<p>Another intriguing field of study is extensive simulation and tracking of individual player position on the pitch. Google hosted a <a class="reference external" href="https://www.kaggle.com/competitions/google-football/code">Kaggle competition with Manchester City</a> 3 years ago, where the goal was to train AI agents to play football. Formal courses are available like the <a class="reference external" href="https://www.uu.se/en/study/course?query=1RT001">Mathematical Modeling of Football course at Uppsala University</a>. There's also the <a class="reference external" href="https://github.com/topics/football-analytics">football analytics topic</a> on Github that shows 100+ repos.</p>
<p>From that topic, I found <a class="reference external" href="https://github.com/diegopastor/awesome-football-analytics">Awesome Football Analytics</a>, which is a long list of resources to browse through. It seems wise to stop through Jan Van Haren's <a class="reference external" href="https://github.com/JanVanHaaren/soccer-analytics-resources">soccer analytics resources</a>. I'm really looking forward to checking out <a class="reference external" href="https://github.com/Friends-of-Tracking-Data-FoTD/SoccermaticsForPython/">Soccermatics for Python</a> also. There is a ton of stuff online about football analytics that is happening.</p>
<p>I sense there is a passionate community pushing football analytics forward and innovating. There are many facets to consider from video optimization, data collection, drawing insights from established datasets, tracking game stats and codifying player movements.</p>
<p>Techniques like simulation and decoding live games into data could result in recommendations for players to uncover new advantages, adjust their positioning, conserve their energy or look for chances in a vulnerable spot on the field. The best teams are probably asking how they can leverage data to inform their strategy on the pitch and win more games.</p>
<p>Watching football is so satisfying. Why not study it with Python? My prediction is that the beautiful game will progress and improve as teams develop a more sophisticated data strategy.</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/analyzing-football-aka-soccer-with-python.html">posted at 22:23</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/football-coding-programming-python-sports.html" rel="tag">football, coding, programming, python, sports</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/python-football-analytics-python-football-heat-map.html" class="tags">python football analytics Python football heat map</a>
                    &nbsp;<a href="https://lofipython.com/tag/football-data-analytics.html" class="tags">football data analytics</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-soccer-analytics.html" class="tags">Python soccer analytics</a>
                </div>
            </article>            <h4 class="date">Jul 23, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/There's-a-Linter-for-That-Python-Linting-Libraries-You-Should-Know.html" rel="bookmark" title="Permanent Link to &quot;There's a Linter for That! Python Linter and Formatter Libraries You Gotta Know&quot;">There's a Linter for That! Python Linter and Formatter Libraries You Gotta Know</a>
                </h2>

                
                

                <p>Linters exist for almost every kind of structured document. Python code, SQL, reStructuredText and many data formats can be improved with a linting library. Python's ecosystem has no shortage of formatters and linters.</p>
<p>In this post, I'll highlight the typical players and some niche linters you might not have heard of! The best quality of linters is their ability to find potential problems in your code by enforcing domain-specific rules. In return, you receive a list of hints for fixing anti-patterns, inconsistencies or unused code to remove. Many linters also offer document reformatting capabilities like the ubiquitous black library for Python code.</p>
<p><strong>Python Linters and Formatters You Gotta Know</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/astral-sh/ruff">ruff</a>: the lean and fast linter library that's gotten a lot of people's attention. For good reason, it's the easiest and fastest Python code linter, running rust under the hood. In my experience, using ruff has made me a more efficient Python programmer. The ruff CLI's <strong>--fix</strong>  argument is a nice touch for automatically fixing up your code.</li>
</ul>
<p><strong>Run ruff on your Python script for quick and easy linting.</strong></p>
<pre class="code literal-block">
pip install ruff
ruff do_stuff.py
# Find Python code errors and fix them with ruff.
ruff do_stuff.py --fix
</pre>
<img alt="sqlfluff SQL linting CLI tool" src="https://lofipython.com/blog/images/sqlfluffexample.png" />
<ul class="simple">
<li><a class="reference external" href="https://docs.sqlfluff.com/en/stable/index.html">sqlfluff</a>: &quot;The SQL linter for humans&quot;, sqlfluff is a linter and code reformatting tool to tidy up your database queries. sqlfluff does the little things like uppercase your keywords, add whitespace where appropriate, check syntax and in general clean up your scripts. The CLI is configurable for nearly all dialects from DuckDB, T-SQL, Redshift, MySQL, to SQLlite and more. Check the <a class="reference external" href="https://github.com/sqlfluff/sqlfluff">sqlfluff Github repo</a> for all their supported SQL dialects or use the <strong>sqlfluff dialects</strong> command to list them in your shell. This is the library I want to tell every Python programmer about right now, along with ruff. SQL is everywhere, we all use it. SQL linters are not something most people even know exist. Next time you need to fix a broken SQL script or clean up some legacy code, enter this into your shell:</li>
</ul>
<pre class="code literal-block">
pip install sqlfluff
# Lint your SQL code.
sqlfluff lint stuff.sql
</pre>
<pre class="code literal-block">
# Fix your SQL file in the PostgreSQL dialect.
sqlfluff fix stuff.sql --dialect postgres
</pre>
<pre class="code literal-block">
# Check available SQL dialects.
sqlfluff dialects
</pre>
<ul class="simple">
<li><a class="reference external" href="https://docs.python.org/3/library/json.html#module-json.tool">json.tool</a>: a Python standard library CLI tool with JSON validation abilities. If you're working with json, remember this stock Python tool.</li>
</ul>
<p><strong>Validate JSON with a built-in python CLI tool.</strong></p>
<pre class="code literal-block">
echo '{1.2:3.4}' | python -m json.tool
</pre>
<ul class="simple">
<li><a class="reference external" href="https://pypi.org/project/pylint/">pylint</a>: commonly used static code analyser that enforces PEP-8 and other rules in your code.</li>
</ul>
<p><strong>Use pylint to improve to improve your Python scripts.</strong></p>
<pre class="code literal-block">
pip install pylint
pylint do_stuff.py
</pre>
<ul class="simple">
<li><a class="reference external" href="https://pypi.org/project/black/">black</a>: a must-mention, this Python code formatter with some linting-like qualities if your code has syntax errors. I now run it on every script I write.</li>
</ul>
<p><strong>Reformat your code with black.</strong></p>
<pre class="code literal-block">
pip install black
python -m black do_stuff.py
</pre>
<ul class="simple">
<li><a class="reference external" href="https://pypi.org/project/yamllint/">yamllint</a>: YAML is unavoidable as a configration staple in tons of modern software. It gets heaps of praise for its readability. I appreciated yamllint's instrospective linter when trying to figure out why my YAML config was broken.</li>
</ul>
<p><strong>Lint your YAML files.</strong></p>
<pre class="code literal-block">
pip install --user yamllint
yamllint config.yaml
</pre>
<img alt="yamllint YAML linting CLI tool" src="https://lofipython.com/blog/images/yamllintexample.png" />
<ul class="simple">
<li>rstfmt and restructuredtext-lint (<a class="reference external" href="https://pypi.org/project/restructuredtext-lint/">read more</a>): Both of these reStructuredText format linter libaries offer code reformatting and linting abilities for reStructuredText files (.rst). I favored restructuredtext-lint, due to its rst-lint CLI tool. I used it to fix and tested it on old posts from this blog. Beware that using a reformatter might surface buried errors found by linting the RST, which you'll need to resolve by reading somewhat cryptic RST error messages given by your linter like &quot;hyperlink mismatch, 1 reference but 0 targets&quot;. At least the line number is provided so you have a relative scope of where the error is coming from. rstfmt is another <a class="reference external" href="https://pypi.org/project/rstfmt/">Python CLI tool</a> in this space. One note of using these tools is to watch out for unwanted changes. One effect I saw was having code blocks auto-converted from Python formatting to regular code formatting.</li>
</ul>
<p><strong>Lint and reformat your .rst documents.</strong></p>
<pre class="code literal-block">
pip install restructuredtext-lint
rst-lint post.rst
</pre>
<p><strong>Pelican + .rst or .md</strong></p>
<blockquote>
RST is one of two <a class="reference external" href="https://docs.getpelican.com/en/latest/importer.html">pelican-import command line tool</a> conversion options by the <a class="reference external" href="https://docs.getpelican.com/en/3.6.3/quickstart.html">Pelican</a> static site generator library, along with Markdown (.md). RST is the format this blog is composed in. Pelican has linting-like functionality when you run its <strong>pelican content</strong> command to compile your static site.</blockquote>
<p>Although I haven't used them personally, it's worth mentioning popular libraries like <a class="reference external" href="https://pypi.org/project/pyflakes/">pyflakes</a> and <a class="reference external" href="https://pypi.org/project/flake8/">flake8</a> for linting Python code. ruff supports some of these libraries also. Check out <a class="reference external" href="https://pypi.org/project/pymarkdownlnt/">pymarkdownlint</a> for linting Markdown documents. While researching for this post, I even stumbled upon an HTML linting command line tool that exists. <a class="reference external" href="https://pypi.org/project/html-linter/">html-linter</a> applies linting to your HTML code. Starting to think that behind every seasoned Python programmer is a thick stack of linters! When it comes to fixing and refactoring old documents and code, linters and auto-formatters go hand in hand as invaluable tools.</p>
<p><strong>Lint your Markdown documents.</strong></p>
<pre class="code literal-block">
pip install pymarkdownlnt
pymarkdown scan example.md
</pre>
<p><strong>Lint your HTML documents.</strong></p>
<pre class="code literal-block">
pip install html-linter
html_lint.py filename.html
</pre>
<p><strong>Supplementary Reading + Documentation</strong></p>
<p><a class="reference external" href="https://opensource.com/article/18/7/7-python-libraries-more-maintainable-code">7 Python libraries for more maintainable code</a></p>
<p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">reStructuredText documentation</a></p>
<p><a class="reference external" href="https://docs.sqlfluff.com/en/stable/cli.html">sqlfluff CLI documentation reference</a></p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/There's-a-Linter-for-That-Python-Linting-Libraries-You-Should-Know.html">posted at 21:10</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-python-linting-tools.html" rel="tag">coding, programming, python, linting, tools</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/python-linters.html" class="tags">python linters</a>
                    &nbsp;<a href="https://lofipython.com/tag/linting-tools.html" class="tags">linting tools</a>
                    &nbsp;<a href="https://lofipython.com/tag/python-rst-linting.html" class="tags">python RST linting</a>
                    &nbsp;<a href="https://lofipython.com/tag/sql-linting.html" class="tags">SQL linting</a>
                    &nbsp;<a href="https://lofipython.com/tag/code-linting.html" class="tags">code linting</a>
                    &nbsp;<a href="https://lofipython.com/tag/html-linter.html" class="tags">HTML linter</a>
                    &nbsp;<a href="https://lofipython.com/tag/markdown-linter.html" class="tags">Markdown linter</a>
                </div>
            </article>            <h4 class="date">Jul 09, 2023</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://lofipython.com/15-Cloudflare-Pages-Free-Plan-Features.html" rel="bookmark" title="Permanent Link to &quot;15 Cloudflare Pages Free Plan Features&quot;">15 Cloudflare Pages Free Plan Features</a>
                </h2>

                
                

                <p>Recently, this blog switched to <a class="reference external" href="https://pages.cloudflare.com/">Cloudflare Pages</a> after years of hosting on WordPress. I'm now using the free plan and enjoying the various settings that allow you control aspects of security at a level not found in WordPress.</p>
<p>For example, you can activate the &quot;bot fight mode&quot;, &quot;browser integrity check&quot; and &quot;user agent blocking&quot; settings to help you fend off bad actors.</p>
<img alt="enable bot fight mode" src="https://lofipython.com/blog/images/botfightmode.png" />
<p>Enable bot fight mode.</p>
<img alt="run a speed test on your blog" src="https://lofipython.com/blog/images/speedtest.png" />
<p>Run a speed test on your blog.</p>
<img alt="enable crawler hints" src="https://lofipython.com/blog/images/crawlerhints.png" />
<p>Turn on search engine hints.</p>
<img alt="see crawler traffic" src="https://lofipython.com/blog/images/topcrawlers.png" />
<p>See which search engines are crawling your blog.</p>
<p><strong>Here are my top Cloudflare Pages features:</strong></p>
<ol class="arabic simple">
<li>Zone analytics: the primary analytics to view unique visitors count, requests, bandwidth and network error logging</li>
<li><a class="reference external" href="https://developers.cloudflare.com/cache/advanced-configuration/crawler-hints/">crawler hints</a>: turn on hints to search engine crawlers and avoid wasteful compute</li>
<li><a class="reference external" href="https://developers.cloudflare.com/support/firewall/learn-more/understanding-cloudflare-tor-support-and-onion-routing/#onion-routing">bot fight mode</a>: enabling this mode will stop malicious bots</li>
<li>security center scan: validates your DNS configuration and tells you if anything needs fixed</li>
<li>run a speed test: test your site's speed</li>
<li>enable IP geolocation: includes the country code for each blog visitor</li>
<li>GraphQL API: extensible analytics HTTP API</li>
<li>AMP real url: ask Google to show your site's actual url in AMP</li>
<li>notifications: set email alerts to monitor your website</li>
<li>security events log: monitor managed challenges and bots</li>
<li><a class="reference external" href="https://developers.cloudflare.com/fundamentals/security/browser-integrity-check/">browser integrity check</a>: looks for common http headers abused by spammers</li>
<li>user agent blocking: blocks users with malicious user agent</li>
<li><a class="reference external" href="0-RTTConnectionResumption">0-RTT Connection Resumption</a>: enable &quot;0-Round Trip Time&quot;, optimized DNS for your blog</li>
<li>DNS Analytics: see DNS traffic visualizations</li>
<li><a class="reference external" href="https://developers.cloudflare.com/support/firewall/learn-more/understanding-cloudflare-tor-support-and-onion-routing/#onion-routing">Onion Routing</a>: serve your website's content in a tor-friendly way</li>
</ol>
<p>These are all included in the free plan. Some are enabled out of the box and others need to be toggled on to activate. I'm really digging my two Cloudflare Pages blogs. It's taken some time to get used to writing in <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText format</a>. Using pelican for static site generation is working well.</p>
<p>One quirk of Cloudflare is that only the past 30 days of data is stored. It's not as convenient as Wordpress, which stores the entire analytics history of a blog's traffic. However, Cloudflare's GraphQL API is also an option for your data querying needs. Regardless, I'm very impressed at the level of configuration Cloudflare exposes out of the box!</p>

                <div class="clear"></div>

                <div class="info">
                    <a href="https://lofipython.com/15-Cloudflare-Pages-Free-Plan-Features.html">posted at 21:16</a>
                    &nbsp;&middot;&nbsp;<a href="https://lofipython.com/category/coding-programming-blogging-web-hosting.html" rel="tag">coding, programming, blogging, web hosting</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://lofipython.com/tag/cloudflare-pages-blog.html" class="tags">Cloudflare Pages blog</a>
                    &nbsp;<a href="https://lofipython.com/tag/best-cloudflare-website-features.html" class="tags">best Cloudflare website features</a>
                    &nbsp;<a href="https://lofipython.com/tag/cloudflare-blog-hosting-features.html" class="tags">Cloudflare blog hosting features</a>
                </div>
            </article>

                <div class="clear"></div>
                <div class="pages">


                    <a href="https://lofipython.com/index2.html" class="next_page">Next&nbsp;&rarr;</a>

                    <span>Page 1 of 11</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
                &middot;
                <a href="https://lofipython.com/feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>